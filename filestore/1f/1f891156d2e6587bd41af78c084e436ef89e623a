
/* /html_builder/static/src/builder.js */
odoo.define('@html_builder/builder',['@html_editor/editor','@odoo/owl','@web/core/confirmation_dialog/confirmation_dialog','@web/core/hotkeys/hotkey_hook','@web/core/l10n/translation','@web/core/utils/hooks','@web/core/utils/ui','@web/search/action_hook','@html_builder/sidebar/invisible_elements_panel','@html_builder/sidebar/block_tab','@html_builder/sidebar/customize_tab','@html_builder/utils/utils_css','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Editor}=require("@html_editor/editor");const{Component,EventBus,onMounted,onWillDestroy,onWillStart,onWillUpdateProps,useRef,useState,useSubEnv,}=require("@odoo/owl");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{useHotkey}=require("@web/core/hotkeys/hotkey_hook");const{_t}=require("@web/core/l10n/translation");const{useService}=require("@web/core/utils/hooks");const{addLoadingEffect:addButtonLoadingEffect}=require("@web/core/utils/ui");const{useSetupAction}=require("@web/search/action_hook");const{InvisibleElementsPanel}=require("@html_builder/sidebar/invisible_elements_panel");const{BlockTab}=require("@html_builder/sidebar/block_tab");const{CustomizeTab}=require("@html_builder/sidebar/customize_tab");const{setBuilderCSSVariables,setEditableDocument,setEditableWindow,}=require("@html_builder/utils/utils_css");const{withSequence}=require("@html_editor/utils/resource");const Builder=__exports.Builder=class Builder extends Component{static template="html_builder.Builder";static components={BlockTab,CustomizeTab,InvisibleElementsPanel};static props={closeEditor:{type:Function},reloadEditor:{type:Function,optional:true},onEditorLoad:{type:Function,optional:true},installSnippetModule:{type:Function,optional:true},snippetsName:{type:String},toggleMobile:{type:Function},overlayRef:{type:Function},iframeLoaded:{type:Object},isMobile:{type:Boolean},Plugins:{type:Array,optional:true},config:{type:Object,optional:true},getThemeTab:{type:Function,optional:true},};static defaultProps={onEditorLoad:()=>{},config:{},};setup(){this.ThemeTab=this.props.getThemeTab?.();this.builder_sidebarRef=useRef("builder_sidebar");this.state=useState({canUndo:false,canRedo:false,activeTab:this.props.config.initialTab||"blocks",currentOptionsContainers:undefined,invisibleEls:[],});useHotkey("control+z",()=>this.undo());useHotkey("control+y",()=>this.redo());useHotkey("control+shift+z",()=>this.redo());this.orm=useService("orm");this.dialog=useService("dialog");this.ui=useService("ui");this.notification=useService("notification");this.lastTrigerUpdateId=0;this.editorBus=new EventBus();this.editor=new Editor({Plugins:this.props.Plugins,...this.props.config,onChange:({isPreviewing})=>{if(!isPreviewing){this.state.canUndo=this.editor.shared.history.canUndo();this.state.canRedo=this.editor.shared.history.canRedo();this.updateInvisibleEls();this.editorBus.trigger("UPDATE_EDITING_ELEMENT");this.triggerDomUpdated();}},reloadEditor:async(param={})=>{await this.props.reloadEditor({initialTab:this.state.activeTab,...param,});},closeEditor:async()=>{await this.props.closeEditor();},installSnippetModule:async(snippet)=>this.props.installSnippetModule(snippet,this.save.bind(this)),resources:{trigger_dom_updated:()=>{this.triggerDomUpdated();},on_mobile_preview_clicked:withSequence(20,()=>{this.triggerDomUpdated();}),change_current_options_containers_listeners:(currentOptionsContainers)=>{this.state.currentOptionsContainers=currentOptionsContainers;if(!currentOptionsContainers.length){this.setTab(this.noSelectionTab);return;}
this.setTab("customize");},unsplittable_node_predicates:(node)=>node.querySelector?.("[data-oe-translation-source-sha]"),can_display_toolbar:(namespace)=>!["image","icon"].includes(namespace),},localOverlayContainers:{key:this.env.localOverlayContainerKey,ref:this.props.overlayRef,},saveSnippet:(snippetEl,cleanForSaveHandlers,wrapWithSaveSnippetHandlers)=>this.snippetModel.saveSnippet(snippetEl,cleanForSaveHandlers,wrapWithSaveSnippetHandlers),getShared:()=>this.editor.shared,updateInvisibleElementsPanel:()=>this.updateInvisibleEls(),allowCustomStyle:true,allowTargetBlank:true,getAnimateTextConfig:()=>({editor:this.editor,editorBus:this.editorBus}),},this.env.services);this.props.onEditorLoad(this.editor);this.snippetModel=useState(useService("html_builder.snippets"));onWillStart(async()=>{await this.snippetModel.load();const iframeEl=await this.props.iframeLoaded;this.editableEl=iframeEl.contentDocument.body.querySelector("#wrapwrap");setEditableWindow(iframeEl.contentWindow);setEditableDocument(iframeEl.contentDocument);this.onDragStart=(ev)=>{if(ev.target.nodeName==="IMG"){ev.preventDefault();ev.stopPropagation();}};this.editor.attachTo(this.editableEl);this.editableEl.addEventListener("dragstart",this.onDragStart);});useSubEnv({editor:this.editor,editorBus:this.editorBus,triggerDomUpdated:this.triggerDomUpdated.bind(this),});onWillDestroy(()=>{this.editor.destroy();this.editableEl.removeEventListener("dragstart",this.onDragStart);});useSetupAction({beforeUnload:(ev)=>this.onBeforeUnload(ev),beforeLeave:()=>this.onBeforeLeave(),});onMounted(()=>{this.editor.document.body.classList.add("editor_enable");setBuilderCSSVariables();this.updateInvisibleEls();});onWillUpdateProps((nextProps)=>{if(nextProps.isMobile!==this.props.isMobile){this.updateInvisibleEls(nextProps.isMobile);}});this.noSelectionTab="blocks";}
async triggerDomUpdated(){this.lastTrigerUpdateId++;const currentTriggerId=this.lastTrigerUpdateId;const getStatePromises=[];const{promise:updatePromise,resolve}=Promise.withResolvers();this.editorBus.trigger("DOM_UPDATED",{getStatePromises,updatePromise});await Promise.all(getStatePromises);const isLastTriggerId=this.lastTrigerUpdateId===currentTriggerId;resolve(isLastTriggerId);}
get displayOnlyCustomizeTab(){return!!this.props.config.customizeTab;}
discard(){if(this.state.canUndo){this.dialog.add(ConfirmationDialog,{body:_t("If you discard the current edits, all unsaved changes will be lost. You can cancel to return to edit mode."),confirm:()=>this.props.closeEditor(),cancel:()=>{},});}else{this.props.closeEditor();}}
getInvisibleSelector(isMobile=this.props.isMobile){return`.o_snippet_invisible, ${
            isMobile ? ".o_snippet_mobile_invisible" : ".o_snippet_desktop_invisible"
        }`;}
async save(){this.editor.shared.operation.next(this._save.bind(this),{withLoadingEffect:false});}
async _save(){this.isSaving=true;const snippetMenuEl=this.builder_sidebarRef.el;addButtonLoadingEffect(snippetMenuEl.querySelector("[data-action='save']"));const actionButtonEls=snippetMenuEl.querySelectorAll("[data-action]");for(const actionButtonEl of actionButtonEls){actionButtonEl.disabled=true;}
await this.editor.shared.savePlugin.save();this.props.closeEditor();}
onTabClick(tab){this.setTab(tab);if(tab==="theme"||tab==="blocks"){this.editor.shared["builderOptions"].deactivateContainers();}}
setTab(tab){this.state.activeTab=tab;this.noSelectionTab=tab==="theme"?"theme":"blocks";}
undo(){this.editor.shared.history.undo();}
redo(){this.editor.shared.history.redo();}
onBeforeUnload(event){if(!this.isSaving&&this.state.canUndo){event.preventDefault();event.returnValue="Unsaved changes";}}
async onBeforeLeave(){if(this.state.canUndo&&!this.editor.shared.savePlugin.isAlreadySaved()){let continueProcess=true;await new Promise((resolve)=>{this.dialog.add(ConfirmationDialog,{body:_t("If you proceed, your changes will be lost"),confirmLabel:_t("Continue"),confirm:()=>resolve(),cancel:()=>{continueProcess=false;resolve();},});});return continueProcess;}
return true;}
onMobilePreviewClick(){this.props.toggleMobile();this.editor.resources["on_mobile_preview_clicked"].forEach((handler)=>handler());}
updateInvisibleEls(isMobile=this.props.isMobile){this.state.invisibleEls=[...this.editor.editable.querySelectorAll(this.getInvisibleSelector(isMobile)),];}}
return __exports;});;

/* /html_builder/static/src/core/anchor/anchor_dialog.js */
odoo.define('@html_builder/core/anchor/anchor_dialog',['@odoo/owl','@web/core/l10n/translation','@web/core/dialog/dialog'],function(require){'use strict';let __exports={};const{Component,useRef,useState}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{Dialog}=require("@web/core/dialog/dialog");const AnchorDialog=__exports.AnchorDialog=class AnchorDialog extends Component{static template="html_builder.AnchorDialog";static components={Dialog};static props={currentAnchorName:{type:String},renameAnchor:{type:Function},deleteAnchor:{type:Function},formatAnchor:{type:Function},close:{type:Function},};setup(){this.title=_t("Link Anchor");this.inputRef=useRef("anchor-input");this.state=useState({isValid:true});}
async onConfirmClick(){const newAnchorName=this.props.formatAnchor(this.inputRef.el.value);if(newAnchorName===this.props.currentAnchorName){this.props.close();}
this.state.isValid=await this.props.renameAnchor(newAnchorName);if(this.state.isValid){this.props.close();}}
onRemoveClick(){this.props.deleteAnchor();this.props.close();}}
return __exports;});;

/* /html_builder/static/src/core/anchor/anchor_plugin.js */
odoo.define('@html_builder/core/anchor/anchor_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/browser/browser','@web/core/l10n/translation','@odoo/owl','@html_builder/core/anchor/anchor_dialog','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{browser}=require("@web/core/browser/browser");const{_t}=require("@web/core/l10n/translation");const{markup}=require("@odoo/owl");const{AnchorDialog}=require("@html_builder/core/anchor/anchor_dialog");const{getElementsWithOption}=require("@html_builder/utils/utils");const anchorSelector=":not(p).oe_structure > *, :not(p)[data-oe-type=html] > *";const anchorExclude=".modal *, .oe_structure .oe_structure *, [data-oe-type=html] .oe_structure *, .s_popup";__exports.canHaveAnchor=canHaveAnchor;function canHaveAnchor(element){return element.matches(anchorSelector)&&!element.matches(anchorExclude);}
const AnchorPlugin=__exports.AnchorPlugin=class AnchorPlugin extends Plugin{static id="anchor";static dependencies=["history"];static shared=["createOrEditAnchorLink"];resources={on_cloned_handlers:this.onCloned.bind(this),get_options_container_top_buttons:withSequence(0,this.getOptionsContainerTopButtons.bind(this)),};onCloned({cloneEl}){const anchorEls=getElementsWithOption(cloneEl,anchorSelector,anchorExclude);anchorEls.forEach((anchorEl)=>this.deleteAnchor(anchorEl));}
getOptionsContainerTopButtons(el){if(!canHaveAnchor(el)){return[];}
return[{class:"fa fa-fw fa-link oe_snippet_anchor btn o-hb-btn btn-accent-color-hover",title:_t("Create and copy a link targeting this block or edit it"),handler:this.createOrEditAnchorLink.bind(this),},];}
isModal(element){return element.classList.contains("modal");}
setAnchorName(element,value){if(value){element.id=value;if(!this.isModal(element)){element.dataset.anchor=true;}}else{this.deleteAnchor(element);}
this.dependencies.history.addStep();}
createAnchor(element){const titleEls=element.querySelectorAll("h1, h2, h3, h4, h5, h6");const title=titleEls.length>0?titleEls[0].innerText:element.dataset.name;const anchorName=this.formatAnchor(title);let n="";while(this.document.getElementById(anchorName+n)){n=(n||1)+1;}
this.setAnchorName(element,anchorName+n);}
deleteAnchor(element){element.removeAttribute("data-anchor");element.removeAttribute("id");}
getAnchorLink(element){const pathName=this.isModal(element)?"":this.document.location.pathname;return`${pathName}#${element.id}`;}
async createOrEditAnchorLink(element){if(!element.id){this.createAnchor(element);}
const anchorLink=this.getAnchorLink(element);await browser.navigator.clipboard.writeText(anchorLink);const message=_t("Anchor copied to clipboard%(br)sLink: %(anchorLink)s",{anchorLink,br:markup`<br>`,});const closeNotification=this.services.notification.add(message,{type:"success",buttons:[{name:_t("Edit"),primary:true,onClick:()=>{closeNotification();this.services.dialog.add(AnchorDialog,{currentAnchorName:decodeURIComponent(element.id),renameAnchor:async(anchorName)=>{const alreadyExists=!!this.document.getElementById(anchorName);if(alreadyExists){return false;}
this.setAnchorName(element,anchorName);await this.createOrEditAnchorLink(element);return true;},deleteAnchor:()=>{this.deleteAnchor(element);this.dependencies.history.addStep();},formatAnchor:this.formatAnchor,});},},],});}
formatAnchor(text){return encodeURIComponent(text.trim().replace(/\s+/g,"-"));}}
return __exports;});;

/* /html_builder/static/src/core/border_radius_style_plugin.js */
odoo.define('@html_builder/core/border_radius_style_plugin',['@html_editor/plugin','@web/core/registry','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{applyNeededCss}=require("@html_builder/utils/utils_css");class BorderRadiusStylePlugin extends Plugin{static id="borderRadiusStyle";resources={builder_style_actions:this.getStyleActions(),step_added_handlers:()=>{this.document.querySelectorAll(".o_grid_item").forEach((gridEl)=>{this.calculateAndSetRadius(gridEl);});},};getStyleActions(){return{"border-radius":{getValue:(el,styleName)=>window.getComputedStyle(el)[styleName],apply:(el,styleValue)=>{applyNeededCss(el,"border-radius",styleValue);this.calculateAndSetRadius(el);},},};}
calculateAndSetRadius(parentElement){const backgroundEls=parentElement.querySelectorAll(":scope > [class*='_bg']");backgroundEls.forEach((backgroundEl)=>{backgroundEl.style.borderRadius=Math.max(0,(parseInt(parentElement.style.borderRadius)||0)-
(parseInt(parentElement.style.borderWidth)||0))+"px";});}}
registry.category("website-plugins").add(BorderRadiusStylePlugin.id,BorderRadiusStylePlugin);return __exports;});;

/* /html_builder/static/src/core/builder_action.js */
odoo.define('@html_builder/core/builder_action',[],function(require){'use strict';let __exports={};const BuilderAction=__exports.BuilderAction=class BuilderAction{static dependencies=[];constructor(plugin,dependencies){this.window=plugin.window;this.document=plugin.document;this.editable=plugin.editable;this.dependencies=dependencies;this.services=plugin.services;this.config=plugin.config;this.getResource=plugin.getResource.bind(plugin);this.dispatchTo=plugin.dispatchTo.bind(plugin);this.delegateTo=plugin.delegateTo.bind(plugin);this.preview=true;this.withLoadingEffect=true;this.loadOnClean=false;this.setup();}
setup(){}
prepare(context){}
getPriority(context){}
apply(context){}
getValue(context){}
isApplied(context){}
clean(context){}
async load(context){}
has(method){const baseMethod=BuilderAction.prototype[method];const actualMethod=this.constructor.prototype[method];return baseMethod!==actualMethod;}}
return __exports;});;

/* /html_builder/static/src/core/builder_actions_plugin.js */
odoo.define('@html_builder/core/builder_actions_plugin',['@html_editor/plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const BuilderActionsPlugin=__exports.BuilderActionsPlugin=class BuilderActionsPlugin extends Plugin{static id="builderActions";static shared=["getAction","applyAction"];static dependencies=["operation","history"];setup(){this.actions={};for(const actions of this.getResource("builder_actions")){for(const Action of Object.values(actions)){if(Action.id in this.actions){throw new Error(`Duplicate builder action id: ${Action.id}`);}
const deps={};for(const depName of Action.dependencies){deps[depName]=this.config.getShared()[depName];}
this.actions[Action.id]=new Action(this,deps);}}
Object.freeze(this.actions);}
getAction(actionId){const action=this.actions[actionId];if(!action){throw new Error(`Unknown builder action id: ${actionId}`);}
return action;}
applyAction(actionId,spec){const action=this.getAction(actionId);this.dependencies.operation.next(async()=>{await action.apply(spec);this.dependencies.history.addStep();},{...action,load:async()=>{if(action.load){const loadResult=await action.load(spec);spec.loadResult=loadResult;}},});}}
return __exports;});;

/* /html_builder/static/src/core/builder_component_plugin.js */
odoo.define('@html_builder/core/builder_component_plugin',['@html_builder/core/building_blocks/builder_list','@web/core/dropdown/dropdown_item','@html_builder/core/building_blocks/builder_button_group','@web/core/dropdown/dropdown','@html_builder/core/building_blocks/builder_datetimepicker','@html_builder/core/building_blocks/builder_row','@html_builder/core/building_blocks/builder_button','@html_builder/core/building_blocks/builder_number_input','@html_builder/core/building_blocks/builder_select','@html_builder/core/building_blocks/builder_select_item','@html_builder/core/building_blocks/builder_colorpicker','@html_builder/core/building_blocks/builder_text_input','@html_builder/core/building_blocks/builder_checkbox','@html_builder/core/building_blocks/builder_range','@html_builder/core/building_blocks/builder_context','@html_builder/core/building_blocks/basic_many2many','@html_builder/core/building_blocks/builder_many2many','@html_builder/core/building_blocks/builder_many2one','@html_builder/core/building_blocks/model_many2many','@html_editor/plugin','@html_builder/core/img','@html_builder/core/building_blocks/builder_urlpicker','@html_builder/core/building_blocks/builder_fontfamilypicker'],function(require){'use strict';let __exports={};const{BuilderList}=require("@html_builder/core/building_blocks/builder_list");const{DropdownItem}=require("@web/core/dropdown/dropdown_item");const{BuilderButtonGroup}=require("@html_builder/core/building_blocks/builder_button_group");const{Dropdown}=require("@web/core/dropdown/dropdown");const{BuilderDateTimePicker}=require("@html_builder/core/building_blocks/builder_datetimepicker");const{BuilderRow}=require("@html_builder/core/building_blocks/builder_row");const{BuilderButton}=require("@html_builder/core/building_blocks/builder_button");const{BuilderNumberInput}=require("@html_builder/core/building_blocks/builder_number_input");const{BuilderSelect}=require("@html_builder/core/building_blocks/builder_select");const{BuilderSelectItem}=require("@html_builder/core/building_blocks/builder_select_item");const{BuilderColorPicker}=require("@html_builder/core/building_blocks/builder_colorpicker");const{BuilderTextInput}=require("@html_builder/core/building_blocks/builder_text_input");const{BuilderCheckbox}=require("@html_builder/core/building_blocks/builder_checkbox");const{BuilderRange}=require("@html_builder/core/building_blocks/builder_range");const{BuilderContext}=require("@html_builder/core/building_blocks/builder_context");const{BasicMany2Many}=require("@html_builder/core/building_blocks/basic_many2many");const{BuilderMany2Many}=require("@html_builder/core/building_blocks/builder_many2many");const{BuilderMany2One}=require("@html_builder/core/building_blocks/builder_many2one");const{ModelMany2Many}=require("@html_builder/core/building_blocks/model_many2many");const{Plugin}=require("@html_editor/plugin");const{Img}=require("@html_builder/core/img");const{BuilderUrlPicker}=require("@html_builder/core/building_blocks/builder_urlpicker");const{BuilderFontFamilyPicker}=require("@html_builder/core/building_blocks/builder_fontfamilypicker");const BuilderComponentPlugin=__exports.BuilderComponentPlugin=class BuilderComponentPlugin extends Plugin{static id="builderComponents";static shared=["getComponents"];resources={builder_components:{BuilderContext,BuilderFontFamilyPicker,BuilderRow,BuilderUrlPicker,Dropdown,DropdownItem,BuilderButtonGroup,BuilderButton,BuilderTextInput,BuilderNumberInput,BuilderRange,BuilderColorPicker,BuilderSelect,BuilderSelectItem,BuilderCheckbox,BasicMany2Many,BuilderMany2Many,BuilderMany2One,ModelMany2Many,BuilderDateTimePicker,BuilderList,Img,},};setup(){this.Components={};for(const r of this.getResource("builder_components")){for(const C in r){if(C in this.Components){throw new Error(`Duplicated builder component: ${C}`);}
this.Components[C]=r[C];}}}
getComponents(){return this.Components;}}
return __exports;});;

/* /html_builder/static/src/core/builder_options_plugin.js */
odoo.define('@html_builder/core/builder_options_plugin',['@html_editor/plugin','@web/core/utils/functions','@html_builder/core/remove_plugin','@html_builder/core/clone_plugin','@html_builder/utils/utils','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{uniqueId}=require("@web/core/utils/functions");const{isRemovable}=require("@html_builder/core/remove_plugin");const{isClonable}=require("@html_builder/core/clone_plugin");const{getElementsWithOption,isElementInViewport}=require("@html_builder/utils/utils");const{shouldEditableMediaBeEditable}=require("@html_builder/utils/utils_css");const BuilderOptionsPlugin=__exports.BuilderOptionsPlugin=class BuilderOptionsPlugin extends Plugin{static id="builderOptions";static dependencies=["selection","overlay","operation","history","builderOverlay","overlayButtons",];static shared=["computeContainers","getContainers","updateContainers","deactivateContainers","getTarget","getPageContainers","getRemoveDisabledReason","getCloneDisabledReason","getReloadSelector","setNextTarget",];resources={before_add_step_handlers:this.onWillAddStep.bind(this),step_added_handlers:this.onStepAdded.bind(this),post_undo_handlers:(revertedStep)=>this.restoreContainers(revertedStep,"undo"),post_redo_handlers:(revertedStep)=>this.restoreContainers(revertedStep,"redo"),clean_for_save_handlers:this.cleanForSave.bind(this),remove_disabled_reason_providers:[],clone_disabled_reason_providers:[],};setup(){this.builderOptions=this.getResource("builder_options").map((option)=>({...option,id:uniqueId(),}));this.getResource("patch_builder_options").forEach((option)=>{this.patchBuilderOptions(option);});this.builderHeaderMiddleButtons=this.getResource("builder_header_middle_buttons").map((headerMiddleButton)=>({...headerMiddleButton,id:uniqueId()}));this.builderContainerTitle=this.getResource("container_title").map((containerTitle)=>({...containerTitle,id:uniqueId(),}));this.onClick=this.onClick.bind(this);this.editable.addEventListener("click",this.onClick,{capture:true});this.lastContainers=[];if(this.config.initialTarget){const el=this.editable.querySelector(this.config.initialTarget);this.updateContainers(el);}
this.notActivableElementsSelector=["#web_editor-top-edit","#oe_manipulators",".oe_drop_zone",".o_notification_manager",".o_we_no_overlay",".ui-autocomplete",".modal .btn-close",".transfo-container",".o_datetime_picker",].join(", ");}
destroy(){this.editable.removeEventListener("click",this.onClick,{capture:true});}
onClick(ev){this.updateContainers(ev.target);}
getReloadSelector(editingElement){for(const container of[...this.lastContainers].reverse()){for(const option of container.options){if(option.reloadTarget){return option.selector;}}}
if(editingElement.closest("header")){return"header";}
if(editingElement.closest("main")){return"main";}
if(editingElement.closest("footer")){return"footer";}
return null;}
updateContainers(target,{forceUpdate=false}={}){if(this.dependencies.history.getIsCurrentStepModified()){console.warn("Should not have any mutations in the current step when you update the container selection");}
if(this.dependencies.history.getIsPreviewing()){return;}
if(target){if(target.closest(this.notActivableElementsSelector)){return;}
this.target=target;}
if(!this.target||!this.target.isConnected){const connectedContainers=this.lastContainers.filter((c)=>c.element.isConnected);this.target=connectedContainers.at(-1)?.element;}
const newContainers=this.computeContainers(this.target);if(!forceUpdate&&this.target?.isConnected&&newContainers.length===this.lastContainers.length){const previousIds=this.lastContainers.map((c)=>c.id);const newIds=newContainers.map((c)=>c.id);const areSameElements=newIds.every((id,i)=>id===previousIds[i]);if(areSameElements){const previousOptions=this.lastContainers.flatMap((c)=>[...c.options,...c.headerMiddleButtons,c.containerTitle,]);const newOptions=newContainers.flatMap((c)=>[...c.options,...c.headerMiddleButtons,c.containerTitle,]);const areSameOptions=newOptions.length===previousOptions.length&&newOptions.every((option,i)=>option.id===previousOptions[i].id);if(areSameOptions){return;}}}
this.lastContainers=newContainers;this.dispatchTo("change_current_options_containers_listeners",this.lastContainers);}
getTarget(){return this.target;}
deactivateContainers(){this.target=null;this.lastContainers=[];this.dispatchTo("change_current_options_containers_listeners",this.lastContainers);}
computeContainers(target){const mapElementsToOptions=(options)=>{const map=new Map();for(const option of options){const{selector,exclude,editableOnly}=option;let elements=getClosestElements(target,selector);if(!elements.length){continue;}
elements=elements.filter((el)=>checkElement(el,{exclude,editableOnly}));for(const element of elements){if(map.has(element)){map.get(element).push(option);}else{map.set(element,[option]);}}}
return map;};const elementToOptions=mapElementsToOptions(this.builderOptions);const elementToHeaderMiddleButtons=mapElementsToOptions(this.builderHeaderMiddleButtons);const elementToContainerTitle=mapElementsToOptions(this.builderContainerTitle);let element=target;while(element&&!elementToOptions.has(element)){if(this.hasOverlayOptions(element)){elementToOptions.set(element,[]);break;}
element=element.parentElement;}
const previousElementToIdMap=new Map(this.lastContainers.map((c)=>[c.element,c.id]));let containers=[...elementToOptions].sort(([a],[b])=>(b.contains(a)?1:-1)).map(([element,options])=>({id:previousElementToIdMap.get(element)||uniqueId(),element,options,headerMiddleButtons:elementToHeaderMiddleButtons.get(element)||[],containerTitle:elementToContainerTitle.get(element)?elementToContainerTitle.get(element)[0]:{},hasOverlayOptions:this.hasOverlayOptions(element),isRemovable:isRemovable(element),removeDisabledReason:this.getRemoveDisabledReason(element),isClonable:isClonable(element),cloneDisabledReason:this.getCloneDisabledReason(element),optionsContainerTopButtons:this.getOptionsContainerTopButtons(element),}));const lastValidContainerIdx=containers.findLastIndex((c)=>this.getResource("no_parent_containers").some((selector)=>c.element.matches(selector)));if(lastValidContainerIdx>0){containers=containers.slice(lastValidContainerIdx);}
return containers;}
getPageContainers(){return this.computeContainers(this.editable.querySelector("main"));}
getContainers(){return this.lastContainers;}
hasOverlayOptions(el){for(const{hasOption,editableOnly}of this.getResource("has_overlay_options")){if(checkElement(el,{editableOnly})&&hasOption(el)){return true;}}
return false;}
getOptionsContainerTopButtons(el){const buttons=[];for(const getContainerButtons of this.getResource("get_options_container_top_buttons")){buttons.push(...getContainerButtons(el));for(const button of buttons){const handler=button.handler;button.handler=(...args)=>{this.dependencies.operation.next(async()=>{await handler(...args);this.dependencies.history.addStep();});};}}
return buttons;}
cleanForSave({root}){for(const option of this.builderOptions){const{selector,exclude,cleanForSave}=option;if(!cleanForSave){continue;}
for(const el of getElementsWithOption(root,selector,exclude)){cleanForSave(el);}}}
setNextTarget(targetEl){this.dependencies.history.setStepExtra("nextTarget",targetEl);}
onWillAddStep(){this.dependencies.history.setStepExtra("currentTarget",this.target);}
onStepAdded({step}){const nextTargetEl=step.extraStepInfos.nextTarget;if(nextTargetEl){this.updateContainers(nextTargetEl,{forceUpdate:true});}else{this.updateContainers();}}
restoreContainers(revertedStep,mode){if(revertedStep&&revertedStep.extraStepInfos.currentTarget){let targetEl=revertedStep.extraStepInfos.currentTarget;if(mode==="redo"&&revertedStep.extraStepInfos.nextTarget){targetEl=revertedStep.extraStepInfos.nextTarget;}
this.updateContainers(targetEl,{forceUpdate:true});if(!isElementInViewport(targetEl)){targetEl.scrollIntoView({behavior:"smooth",block:"center"});}}}
getRemoveDisabledReason(el){const reasons=[];this.dispatchTo("remove_disabled_reason_providers",{el,reasons});return reasons.length?reasons.join(" "):undefined;}
getCloneDisabledReason(el){const reasons=[];this.dispatchTo("clone_disabled_reason_providers",{el,reasons});return reasons.length?reasons.join(" "):undefined;}
patchBuilderOptions({target_name,target_element,method,value}){if(!target_name||!target_element||!method||!value){throw new Error(`Missing patch_builder_options required parameters: target_name, target_element, method, value`);}
const builderOption=this.builderOptions.find((option)=>option.name===target_name);if(!builderOption){throw new Error(`Builder option ${target_name} not found`);}
switch(method){case"replace":builderOption[target_element]=value;break;case"add":if(!builderOption[target_element]){throw new Error(`Builder option ${target_name} does not have ${target_element}`);}
builderOption[target_element]+=`, ${value}`;break;default:throw new Error(`Unknown method ${method}`);}}}
function getClosestElements(element,selector){if(!element){return[];}
const parent=element.closest(selector);return parent?[parent,...getClosestElements(parent.parentElement,selector)]:[];}
__exports.checkElement=checkElement;function checkElement(el,{editableOnly=true,exclude=""}){if(editableOnly&&!el.closest(".o_editable")){return false;}
exclude+=`${exclude && ", "}.o_snippet_not_selectable`;if(el.matches(exclude)){return false;}
if(!editableOnly){return true;}
if(el.matches(".o_editable_media")){return shouldEditableMediaBeEditable(el);}
return!el.matches('.o_not_editable:not(.s_social_media) :not([contenteditable="true"])');}
return __exports;});;

/* /html_builder/static/src/core/builder_options_plugin_translate.js */
odoo.define('@html_builder/core/builder_options_plugin_translate',['@html_editor/plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const BuilderOptionsPlugin=__exports.BuilderOptionsPlugin=class BuilderOptionsPlugin extends Plugin{static id="builderOptions";static shared=["deactivateContainers","getTarget","updateContainers"];deactivateContainers(){}
getTarget(){}
updateContainers(){}}
return __exports;});;

/* /html_builder/static/src/core/builder_overlay/builder_overlay.js */
odoo.define('@html_builder/core/builder_overlay/builder_overlay',['@web/core/utils/render','@html_builder/utils/utils','@html_builder/utils/grid_layout_utils'],function(require){'use strict';let __exports={};const{renderToElement}=require("@web/core/utils/render");const{isMobileView}=require("@html_builder/utils/utils");const{addBackgroundGrid,getGridProperties,getGridItemProperties,resizeGrid,setElementToMaxZindex,}=require("@html_builder/utils/grid_layout_utils");const sizingY=__exports.sizingY={selector:"section, .row > div, .parallax, .s_hr, .carousel-item, .s_rating",exclude:"section:has(> .carousel), .s_image_gallery .carousel-item, .s_col_no_resize.row > div, .s_col_no_resize",};const sizingX=__exports.sizingX={selector:".row > div",exclude:".s_col_no_resize.row > div, .s_col_no_resize",};const sizingGrid=__exports.sizingGrid={selector:".row > div",exclude:".s_col_no_resize.row > div, .s_col_no_resize",};const BuilderOverlay=__exports.BuilderOverlay=class BuilderOverlay{constructor(overlayTarget,{iframe,overlayContainer,history,hasOverlayOptions,next}){this.history=history;this.next=next;this.hasOverlayOptions=hasOverlayOptions;this.iframe=iframe;this.overlayContainer=overlayContainer;this.overlayElement=renderToElement("html_builder.BuilderOverlay");this.overlayTarget=overlayTarget;this.hasSizingHandles=this.hasSizingHandles();this.handlesWrapperEl=this.overlayElement.querySelector(".o_handles");this.handleEls=this.overlayElement.querySelectorAll(".o_handle");this.yHandles=this.handlesWrapperEl.querySelectorAll(`.n:not(.o_grid_handle), .s:not(.o_grid_handle)`);this.xHandles=this.handlesWrapperEl.querySelectorAll(`.e:not(.o_grid_handle), .w:not(.o_grid_handle)`);this.gridHandles=this.handlesWrapperEl.querySelectorAll(".o_grid_handle");this.initHandles();this.initSizing();this.refreshHandles();}
hasSizingHandles(){return this.isResizableY()||this.isResizableX()||this.isResizableGrid();}
isActive(){return this.overlayElement.matches(".oe_active, .o_we_overlay_preview");}
refreshPosition(){if(!this.isActive()){return;}
const openModalEl=this.overlayTarget.querySelector(".modal.show");const overlayTarget=openModalEl?openModalEl:this.overlayTarget;const iframeRect=this.iframe.getBoundingClientRect();const overlayContainerRect=this.overlayContainer.getBoundingClientRect();const targetRect=overlayTarget.getBoundingClientRect();Object.assign(this.overlayElement.style,{width:`${targetRect.width}px`,height:`${targetRect.height}px`,top:`${iframeRect.y + targetRect.y - overlayContainerRect.y + window.scrollY}px`,left:`${iframeRect.x + targetRect.x - overlayContainerRect.x + window.scrollX}px`,});this.handlesWrapperEl.style.height=`${targetRect.height}px`;}
refreshHandles(){if(!this.hasSizingHandles||!this.isActive()){return;}
if(this.overlayTarget.parentNode?.classList.contains("row")){const isMobile=isMobileView(this.overlayTarget);const isGridOn=this.overlayTarget.classList.contains("o_grid_item");const isGrid=!isMobile&&isGridOn;this.handleEls.forEach((handleEl)=>{const isGridHandle=handleEl.classList.contains("o_grid_handle");handleEl.classList.toggle("d-none",isGrid^isGridHandle);const isVerticalSizing=handleEl.matches(".n, .s");handleEl.classList.toggle("readonly",isMobile&&isVerticalSizing&&isGridOn);});}
this.updateHandleY();}
toggleOverlay(show){this.overlayElement.classList.toggle("oe_active",show);this.refreshPosition();this.refreshHandles();}
toggleOverlayPreview(show){this.overlayElement.classList.toggle("o_we_overlay_preview",show);this.refreshPosition();this.refreshHandles();}
toggleOverlayVisibility(show){if(!this.isActive()){return;}
this.overlayElement.classList.toggle("o_overlay_hidden",!show);}
destroy(){if(!this.hasSizingHandles){return;}
this.handleEls.forEach((handleEl)=>handleEl.removeEventListener("pointerdown",this._onSizingStart));}
isResizableY(){return(this.overlayTarget.matches(sizingY.selector)&&!this.overlayTarget.matches(sizingY.exclude));}
isResizableX(){return(this.overlayTarget.matches(sizingX.selector)&&!this.overlayTarget.matches(sizingX.exclude));}
isResizableGrid(){return(this.overlayTarget.matches(sizingGrid.selector)&&!this.overlayTarget.matches(sizingGrid.exclude));}
initHandles(){if(this.isResizableY()){this.yHandles.forEach((handleEl)=>handleEl.classList.remove("readonly"));}
if(this.isResizableX()){this.xHandles.forEach((handleEl)=>handleEl.classList.remove("readonly"));}
if(this.isResizableGrid()){this.gridHandles.forEach((handleEl)=>handleEl.classList.remove("readonly"));}}
initSizing(){if(!this.hasSizingHandles){return;}
this._onSizingStart=this.onSizingStart.bind(this);this.handleEls.forEach((handleEl)=>handleEl.addEventListener("pointerdown",this._onSizingStart));}
replaceSizingClass(classRegex,newClass){const newClassName=(this.overlayTarget.className||"").replace(classRegex,"");this.overlayTarget.className=newClassName;this.overlayTarget.classList.add(newClass);}
getSizingYConfig(){const isTargetHR=this.overlayTarget.matches("hr");const nClass=isTargetHR?"mt":"pt";const nProperty=isTargetHR?"margin-top":"padding-top";const sClass=isTargetHR?"mb":"pb";const sProperty=isTargetHR?"margin-bottom":"padding-bottom";const values=[0,4];for(let i=1;i<=256/8;i++){values.push(i*8);}
return{n:{classes:values.map((v)=>nClass+v),values:values,cssProperty:nProperty},s:{classes:values.map((v)=>sClass+v),values:values,cssProperty:sProperty},};}
onResizeY(compass,initialClasses,currentIndex){this.updateHandleY();}
updateHandleY(){this.yHandles.forEach((handleEl)=>{const topOrBottom=handleEl.matches(".n")?"top":"bottom";const padding=window.getComputedStyle(this.overlayTarget)[`padding-${topOrBottom}`];handleEl.style.height=padding;});}
getSizingXConfig(){const resolutionModifier=this.isMobile?"":"lg-";const rowWidth=this.overlayTarget.closest(".row").getBoundingClientRect().width;const valuesE=[1,2,3,4,5,6,7,8,9,10,11,12];const valuesW=[0,1,2,3,4,5,6,7,8,9,10,11];return{e:{classes:valuesE.map((v)=>`col-${resolutionModifier}${v}`),values:valuesE.map((v)=>(rowWidth/12)*v),cssProperty:"width",},w:{classes:valuesW.map((v)=>`offset-${resolutionModifier}${v}`),values:valuesW.map((v)=>(rowWidth/12)*v),cssProperty:"margin-left",},};}
onResizeX(compass,initialClasses,currentIndex){const resolutionModifier=this.isMobile?"":"lg-";const offsetRegex=new RegExp(`(?:^|\\s+)offset-${resolutionModifier}(\\d{1,2})(?!\\S)`);const colRegex=new RegExp(`(?:^|\\s+)col-${resolutionModifier}(\\d{1,2})(?!\\S)`);const initialOffset=Number(initialClasses.match(offsetRegex)?.[1]||0);if(compass==="w"){const initialCol=Number(initialClasses.match(colRegex)?.[1]||12);let offset=Number(this.overlayTarget.className.match(offsetRegex)?.[1]||0);const offsetClass=`offset-${resolutionModifier}${offset}`;let colSize=initialCol-(offset-initialOffset);if(colSize<=0){colSize=1;offset=initialOffset+initialCol-1;}
this.overlayTarget.classList.remove(offsetClass);this.replaceSizingClass(colRegex,`col-${resolutionModifier}${colSize}`);if(offset>0){this.overlayTarget.classList.add(`offset-${resolutionModifier}${offset}`);}
if(this.isMobile&&offset===0){this.overlayTarget.classList.remove("offset-lg-0");}else{const className=this.overlayTarget.className;const hasDesktopClass=!!className.match(/(^|\s+)offset-lg-\d{1,2}(?!\S)/);const hasMobileClass=!!className.match(/(^|\s+)offset-\d{1,2}(?!\S)/);if((this.isMobile&&offset>0&&!hasDesktopClass)||(!this.isMobile&&offset===0&&hasMobileClass)){this.overlayTarget.classList.add("offset-lg-0");}}}else if(initialOffset>0){const col=Number(this.overlayTarget.className.match(colRegex)?.[1]||0);if(col+initialOffset>12){this.replaceSizingClass(colRegex,`col-${resolutionModifier}${12 - initialOffset}`);}}}
getSizingGridConfig(){const rowEl=this.overlayTarget.closest(".row");const gridProp=getGridProperties(rowEl);const{rowStart,rowEnd,columnStart,columnEnd}=getGridItemProperties(this.overlayTarget);const valuesN=[];const valuesS=[];for(let i=1;i<parseInt(rowEnd)+12;i++){valuesN.push(i);valuesS.push(i+1);}
const valuesW=[1,2,3,4,5,6,7,8,9,10,11,12];const valuesE=[2,3,4,5,6,7,8,9,10,11,12,13];return{n:{classes:valuesN.map((v)=>"g-height-"+(rowEnd-v)),values:valuesN.map((v)=>(gridProp.rowSize+gridProp.rowGap)*(v-1)),cssProperty:"grid-row-start",},s:{classes:valuesS.map((v)=>"g-height-"+(v-rowStart)),values:valuesS.map((v)=>(gridProp.rowSize+gridProp.rowGap)*(v-1)),cssProperty:"grid-row-end",},w:{classes:valuesW.map((v)=>"g-col-lg-"+(columnEnd-v)),values:valuesW.map((v)=>(gridProp.columnSize+gridProp.columnGap)*(v-1)),cssProperty:"grid-column-start",},e:{classes:valuesE.map((v)=>"g-col-lg-"+(v-columnStart)),values:valuesE.map((v)=>(gridProp.columnSize+gridProp.columnGap)*(v-1)),cssProperty:"grid-column-end",},};}
onResizeGrid(compass,initialClasses,currentIndex){const style=this.overlayTarget.style;if(compass==="n"){const rowEnd=parseInt(style.gridRowEnd);if(currentIndex<0){style.gridRowStart=1;}else if(currentIndex+1>=rowEnd){style.gridRowStart=rowEnd-1;}else{style.gridRowStart=currentIndex+1;}}else if(compass==="s"){const rowStart=parseInt(style.gridRowStart);const rowEnd=parseInt(style.gridRowEnd);if(currentIndex+2<=rowStart){style.gridRowEnd=rowStart+1;}else{style.gridRowEnd=currentIndex+2;}
const rowEl=this.overlayTarget.parentNode;const rowCount=parseInt(rowEl.dataset.rowCount);const backgroundGridEl=rowEl.querySelector(".o_we_background_grid");const backgroundGridRowEnd=parseInt(backgroundGridEl.style.gridRowEnd);let rowMove=0;if(style.gridRowEnd>rowEnd&&style.gridRowEnd>rowCount+1){rowMove=style.gridRowEnd-rowEnd;}else if(style.gridRowEnd<rowEnd&&style.gridRowEnd>=rowCount+1){rowMove=style.gridRowEnd-rowEnd;}
backgroundGridEl.style.gridRowEnd=backgroundGridRowEnd+rowMove;}else if(compass==="w"){const columnEnd=parseInt(style.gridColumnEnd);if(currentIndex<0){style.gridColumnStart=1;}else if(currentIndex+1>=columnEnd){style.gridColumnStart=columnEnd-1;}else{style.gridColumnStart=currentIndex+1;}}else if(compass==="e"){const columnStart=parseInt(style.gridColumnStart);if(currentIndex+2>13){style.gridColumnEnd=13;}else if(currentIndex+2<=columnStart){style.gridColumnEnd=columnStart+1;}else{style.gridColumnEnd=currentIndex+2;}}
if(compass==="n"||compass==="s"){const numberRows=style.gridRowEnd-style.gridRowStart;this.replaceSizingClass(/\s*(g-height-)([0-9-]+)/g,`g-height-${numberRows}`);}
if(compass==="w"||compass==="e"){const numberColumns=style.gridColumnEnd-style.gridColumnStart;this.replaceSizingClass(/\s*(g-col-lg-)([0-9-]+)/g,`g-col-lg-${numberColumns}`);}}
getDirections(ev,handleEl,sizingConfig){let compass=false;let XY=false;if(handleEl.matches(".n")){compass="n";XY="Y";}else if(handleEl.matches(".s")){compass="s";XY="Y";}else if(handleEl.matches(".e")){compass="e";XY="X";}else if(handleEl.matches(".w")){compass="w";XY="X";}else if(handleEl.matches(".nw")){compass="nw";XY="YX";}else if(handleEl.matches(".ne")){compass="ne";XY="YX";}else if(handleEl.matches(".sw")){compass="sw";XY="YX";}else if(handleEl.matches(".se")){compass="se";XY="YX";}
const currentConfig=[];for(let i=0;i<compass.length;i++){currentConfig.push(sizingConfig[compass[i]]);}
const directions=[];for(const[i,config]of currentConfig.entries()){let currentIndex=0;const cssProperty=config.cssProperty;const cssPropertyValue=parseInt(window.getComputedStyle(this.overlayTarget)[cssProperty]);config.classes.forEach((c,index)=>{if(this.overlayTarget.classList.contains(c)){currentIndex=index;}else if(config.values[index]===cssPropertyValue){currentIndex=index;}});directions.push({config,currentIndex,initialIndex:currentIndex,initialClasses:this.overlayTarget.className,classRegex:new RegExp("\\s*"+config.classes[currentIndex].replace(/[-]*[0-9]+/,"[-]*[0-9]+"),"g"),initialPageXY:ev["page"+XY[i]],XY:XY[i],compass:compass[i],});}
return directions;}
onSizingStart(ev){ev.preventDefault();const pointerDownTime=ev.timeStamp;let sizingResolve;this.next(async()=>{await new Promise((resolve)=>(sizingResolve=()=>resolve()));},{withLoadingEffect:false});const cancelSizing=this.history.makeSavePoint();const handleEl=ev.currentTarget;const isGridHandle=handleEl.classList.contains("o_grid_handle");this.isMobile=isMobileView(this.overlayTarget);let rowEl,backgroundGridEl;if(isGridHandle){rowEl=this.overlayTarget.parentNode;backgroundGridEl=addBackgroundGrid(rowEl,0);setElementToMaxZindex(backgroundGridEl,rowEl);}
let sizingConfig,onResize;if(isGridHandle){sizingConfig=this.getSizingGridConfig();onResize=this.onResizeGrid.bind(this);}else if(handleEl.matches(".n, .s")){sizingConfig=this.getSizingYConfig();onResize=this.onResizeY.bind(this);}else{sizingConfig=this.getSizingXConfig();onResize=this.onResizeX.bind(this);}
const directions=this.getDirections(ev,handleEl,sizingConfig);const cursorClass=`${window.getComputedStyle(handleEl)["cursor"]}-important`;window.document.body.classList.add(cursorClass);const iframeEl=this.overlayTarget.ownerDocument.defaultView.frameElement;iframeEl.classList.add("o_resizing");this.overlayElement.classList.remove("o_handlers_idle");const onSizingMove=(ev)=>{for(const dir of directions){const configValues=dir.config.values;const currentIndex=dir.currentIndex;const currentValue=configValues[currentIndex];const delta=ev[`page${dir.XY}`]-dir.initialPageXY+configValues[dir.initialIndex];let nextIndex,beforeIndex;if(delta>currentValue){const nextValue=configValues.find((v)=>v>delta);nextIndex=nextValue?configValues.indexOf(nextValue):configValues.length-1;beforeIndex=nextIndex>0?nextIndex-1:currentIndex;}else if(delta<currentValue){const nextValue=configValues.findLast((v)=>v<delta);nextIndex=nextValue?configValues.indexOf(nextValue):0;beforeIndex=nextIndex<configValues.length-1?nextIndex+1:currentIndex;}
let change=false;if(delta!==currentValue){if(beforeIndex!==currentIndex){this.replaceSizingClass(dir.classRegex,dir.config.classes[beforeIndex]);dir.currentIndex=beforeIndex;change=true;}
const threshold=(2*configValues[nextIndex]+configValues[dir.currentIndex])/3;if((delta>currentValue&&delta>threshold)||(delta<currentValue&&delta<threshold)){this.replaceSizingClass(dir.classRegex,dir.config.classes[nextIndex]);dir.currentIndex=nextIndex;change=true;}}
if(change){onResize(dir.compass,dir.initialClasses,dir.currentIndex);}}};const onSizingStop=(ev)=>{ev.preventDefault();window.removeEventListener("pointermove",onSizingMove);window.removeEventListener("pointerup",onSizingStop);window.document.body.classList.remove(cursorClass);iframeEl.classList.remove("o_resizing");this.overlayElement.classList.add("o_handlers_idle");if(isGridHandle){backgroundGridEl.remove();resizeGrid(rowEl);const colClass=[...this.overlayTarget.classList].find((c)=>/^col-/.test(c));const gColClass=[...this.overlayTarget.classList].find((c)=>/^g-col-/.test(c));this.overlayTarget.classList.remove(colClass);this.overlayTarget.classList.add(gColClass.substring(2));}
const wasResized=!directions.every((dir)=>dir.initialIndex===dir.currentIndex);if(wasResized){this.history.addStep();}else{cancelSizing();}
sizingResolve();if(!wasResized){const pointerUpTime=ev.timeStamp;const pointerDownDuration=pointerUpTime-pointerDownTime;if(pointerDownDuration<500){const sameCoordinatesEls=this.overlayTarget.ownerDocument.elementsFromPoint(ev.pageX,ev.pageY);const toBeClickedEl=sameCoordinatesEls.find((el)=>!this.overlayContainer.contains(el)&&!el.matches(".o_loading_screen")&&typeof el.click==="function");if(toBeClickedEl){toBeClickedEl.click();}}}};window.addEventListener("pointermove",onSizingMove);window.addEventListener("pointerup",onSizingStop);}}
return __exports;});;

/* /html_builder/static/src/core/builder_overlay/builder_overlay_plugin.js */
odoo.define('@html_builder/core/builder_overlay/builder_overlay_plugin',['@html_editor/plugin','@web/core/utils/timing','@web/core/utils/scrolling','@html_builder/core/builder_options_plugin','@html_builder/core/builder_overlay/builder_overlay','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{throttleForAnimation}=require("@web/core/utils/timing");const{getScrollingElement,getScrollingTarget}=require("@web/core/utils/scrolling");const{checkElement}=require("@html_builder/core/builder_options_plugin");const{BuilderOverlay,sizingY,sizingX,sizingGrid}=require("@html_builder/core/builder_overlay/builder_overlay");const{withSequence}=require("@html_editor/utils/resource");function isResizable(el){const isResizableY=el.matches(sizingY.selector)&&!el.matches(sizingY.exclude);const isResizableX=el.matches(sizingX.selector)&&!el.matches(sizingX.exclude);const isResizableGrid=el.matches(sizingGrid.selector)&&!el.matches(sizingGrid.exclude);return isResizableY||isResizableX||isResizableGrid;}
const BuilderOverlayPlugin=__exports.BuilderOverlayPlugin=class BuilderOverlayPlugin extends Plugin{static id="builderOverlay";static dependencies=["localOverlay","history","operation"];static shared=["showOverlayPreview","hideOverlayPreview"];resources={step_added_handlers:this.refreshOverlays.bind(this),change_current_options_containers_listeners:this.openBuilderOverlays.bind(this),on_mobile_preview_clicked:withSequence(20,this.refreshOverlays.bind(this)),has_overlay_options:{hasOption:(el)=>isResizable(el)},};setup(){this.iframe=this.editable.ownerDocument.defaultView.frameElement;this.overlayContainer=this.dependencies.localOverlay.makeLocalOverlay("builder-overlay-container");this.overlayContainer.addEventListener("wheel",(ev)=>(this.document.documentElement.scrollTop+=ev.deltaY));this.overlays=[];this.resizeObserver=new ResizeObserver(()=>this.refreshPositions());this._refreshOverlays=throttleForAnimation(this.refreshOverlays.bind(this));this.addDomListener(window,"resize",this._refreshOverlays);const onMouseMoveOrDown=throttleForAnimation(()=>{this.toggleOverlaysVisibility(true);this.refreshPositions();this.editable.removeEventListener("mousemove",onMouseMoveOrDown);this.editable.removeEventListener("mousedown",onMouseMoveOrDown);});this.addDomListener(this.editable,"keydown",()=>{this.toggleOverlaysVisibility(false);this.editable.addEventListener("mousemove",onMouseMoveOrDown);this.editable.addEventListener("mousedown",onMouseMoveOrDown);});const scrollingElement=getScrollingElement(this.document);const scrollingTarget=getScrollingTarget(scrollingElement);this.addDomListener(scrollingTarget,"scroll",throttleForAnimation(()=>{this.toggleOverlaysVisibility(false);clearTimeout(this.scrollingTimeout);this.scrollingTimeout=setTimeout(()=>{this.toggleOverlaysVisibility(true);this.refreshPositions();},250);}),{capture:true});this._cleanups.push(()=>{this.removeBuilderOverlays();this.resizeObserver.disconnect();});}
openBuilderOverlays(optionsContainer){this.removeBuilderOverlays();if(!optionsContainer.length){return;}
optionsContainer.forEach((option)=>{const overlay=new BuilderOverlay(option.element,{iframe:this.iframe,overlayContainer:this.overlayContainer,history:this.dependencies.history,hasOverlayOptions:checkElement(option.element,{})&&option.hasOverlayOptions,next:this.dependencies.operation.next,});this.overlays.push(overlay);this.overlayContainer.append(overlay.overlayElement);this.resizeObserver.observe(overlay.overlayTarget,{box:"border-box"});});const innermostOverlay=this.overlays.at(-1);innermostOverlay.toggleOverlay(true);if(!innermostOverlay.hasOverlayOptions){for(let i=this.overlays.length-2;i>=0;i--){const parentOverlay=this.overlays[i];if(parentOverlay.hasOverlayOptions){parentOverlay.toggleOverlay(true);break;}}}}
removeBuilderOverlays(){this.overlays.forEach((overlay)=>{overlay.destroy();overlay.overlayElement.remove();this.resizeObserver.unobserve(overlay.overlayTarget);});this.overlays=[];}
refreshOverlays(){this.overlays.forEach((overlay)=>{overlay.refreshPosition();overlay.refreshHandles();});}
refreshPositions(){this.overlays.forEach((overlay)=>{overlay.refreshPosition();});}
toggleOverlaysVisibility(show){this.overlays.forEach((overlay)=>{overlay.toggleOverlayVisibility(show);});}
showOverlayPreview(el){this.toggleOverlaysVisibility(false);const overlayToShow=this.overlays.find((overlay)=>overlay.overlayTarget===el);if(!overlayToShow){return;}
overlayToShow.toggleOverlayPreview(true);overlayToShow.toggleOverlayVisibility(true);}
hideOverlayPreview(el){const overlayToHide=this.overlays.find((overlay)=>overlay.overlayTarget===el);if(!overlayToHide){return;}
overlayToHide.toggleOverlayPreview(false);this.toggleOverlaysVisibility(true);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/basic_many2many.js */
odoo.define('@html_builder/core/building_blocks/basic_many2many',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/select_many2x'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{basicContainerBuilderComponentProps}=require("@html_builder/core/utils");const{SelectMany2X}=require("@html_builder/core/building_blocks/select_many2x");const BasicMany2Many=__exports.BasicMany2Many=class BasicMany2Many extends Component{static template="html_builder.BasicMany2Many";static props={...basicContainerBuilderComponentProps,model:String,fields:{type:Array,element:String,optional:true},domain:{type:Array,optional:true},limit:{type:Number,optional:true},selection:{type:Array,element:Object},setSelection:Function,create:{type:Function,optional:true},};static components={SelectMany2X};select(entry){this.props.setSelection([...this.props.selection,entry]);}
unselect(id){this.props.setSelection([...this.props.selection.filter((item)=>item.id!==id)]);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_button.js */
odoo.define('@html_builder/core/building_blocks/builder_button',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@html_builder/core/img'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{clickableBuilderComponentProps,useActionInfo,useSelectableItemComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{Img}=require("@html_builder/core/img");const BuilderButton=__exports.BuilderButton=class BuilderButton extends Component{static template="html_builder.BuilderButton";static components={BuilderComponent,Img};static props={...clickableBuilderComponentProps,title:{type:String,optional:true},label:{type:String,optional:true},iconImg:{type:String,optional:true},iconImgAlt:{type:String,optional:true},icon:{type:String,optional:true},className:{type:String,optional:true},classActive:{type:String,optional:true},style:{type:String,optional:true},type:{type:String,optional:true},slots:{type:Object,optional:true},};static defaultProps={type:"secondary",};setup(){this.info=useActionInfo();const{state,operation}=useSelectableItemComponent(this.props.id);this.state=state;this.onClick=operation.commit;this.onMouseenter=operation.preview;this.onMouseleave=operation.revert;}
get className(){let className=this.props.className||"";if(this.props.type){className+=` btn-${this.props.type}`;}
if(this.state.isActive){className=`active ${className}`;if(this.props.classActive){className+=` ${this.props.classActive}`;}}
if(this.props.icon){className+=` o-hb-btn-has-icon`;}
if(this.props.iconImg){className+=` o-hb-btn-has-img-icon`;}
return className;}
get iconClassName(){if(this.props.icon.startsWith("fa-")){return`fa ${this.props.icon}`;}else if(this.props.icon.startsWith("oi-")){return`oi ${this.props.icon}`;}}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_button_group.js */
odoo.define('@html_builder/core/building_blocks/builder_button_group',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{basicContainerBuilderComponentProps,useVisibilityObserver,useApplyVisibility,useSelectableComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderButtonGroup=__exports.BuilderButtonGroup=class BuilderButtonGroup extends Component{static template="html_builder.BuilderButtonGroup";static props={...basicContainerBuilderComponentProps,slots:{type:Object,optional:true},};static components={BuilderComponent};setup(){useVisibilityObserver("root",useApplyVisibility("root"));useSelectableComponent(this.props.id);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_checkbox.js */
odoo.define('@html_builder/core/building_blocks/builder_checkbox',['@odoo/owl','@web/core/checkbox/checkbox','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{CheckBox}=require("@web/core/checkbox/checkbox");const{clickableBuilderComponentProps,useActionInfo,useClickableBuilderComponent,useDependencyDefinition,useDomState,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderCheckbox=__exports.BuilderCheckbox=class BuilderCheckbox extends Component{static template="html_builder.BuilderCheckbox";static components={BuilderComponent,CheckBox};static props={...clickableBuilderComponentProps,};setup(){this.info=useActionInfo();const{operation,isApplied,onReady}=useClickableBuilderComponent();if(this.props.id){useDependencyDefinition(this.props.id,{isActive:isApplied},{onReady});}
this.state=useDomState(async()=>{await onReady;return{isActive:isApplied(),};});this.onChange=operation.commit;}
getClassName(){return"o-hb-checkbox o_field_boolean o_boolean_toggle form-switch";}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_colorpicker.js */
odoo.define('@html_builder/core/building_blocks/builder_colorpicker',['@html_editor/main/font/color_selector','@odoo/owl','@web/core/color_picker/color_picker','@html_builder/core/building_blocks/builder_component','@html_builder/core/utils','@web/core/utils/colors'],function(require){'use strict';let __exports={};const{ColorSelector}=require("@html_editor/main/font/color_selector");const{Component,useComponent,useRef}=require("@odoo/owl");const{useColorPicker}=require("@web/core/color_picker/color_picker");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{basicContainerBuilderComponentProps,getAllActionsAndOperations,useBuilderComponent,useDomState,useHasPreview,}=require("@html_builder/core/utils");const{isColorGradient}=require("@web/core/utils/colors");__exports.useColorPickerBuilderComponent=useColorPickerBuilderComponent;function useColorPickerBuilderComponent(){const comp=useComponent();const{getAllActions,callOperation}=getAllActionsAndOperations(comp);const getAction=comp.env.editor.shared.builderActions.getAction;const state=useDomState(getState);const applyOperation=comp.env.editor.shared.history.makePreviewableAsyncOperation((applySpecs)=>{const proms=[];for(const applySpec of applySpecs){proms.push(applySpec.action.apply({editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadResult,dependencyManager:comp.env.dependencyManager,}));}
return Promise.all(proms);});function getState(editingElement){const actionWithGetValue=getAllActions().find(({actionId})=>getAction(actionId).getValue);const{actionId,actionParam}=actionWithGetValue;const actionValue=getAction(actionId).getValue({editingElement,params:actionParam});return{selectedColor:actionValue||comp.props.defaultColor,selectedColorCombination:comp.env.editor.shared.color.getColorCombination(editingElement,actionParam),};}
function getColor(colorValue){return colorValue.startsWith("color-prefix-")?`var(${colorValue.replace("color-prefix-", "--")})`:colorValue;}
let preventNextPreview=false;function onApply(colorValue){preventNextPreview=false;callOperation(applyOperation.commit,{userInputValue:getColor(colorValue)});}
let onPreview=(colorValue)=>{if(preventNextPreview){return;}
preventNextPreview=true;callOperation(applyOperation.preview,{preview:true,userInputValue:getColor(colorValue),operationParams:{cancellable:true,cancelPrevious:()=>applyOperation.revert(),},});};const hasPreview=useHasPreview(getAllActions);if(!hasPreview){onPreview=()=>{};}
return{state,onApply,onPreview,onPreviewRevert:()=>{preventNextPreview=false;comp.env.editor.shared.operation.next();},};}
const BuilderColorPicker=__exports.BuilderColorPicker=class BuilderColorPicker extends Component{static template="html_builder.BuilderColorPicker";static props={...basicContainerBuilderComponentProps,noTransparency:{type:Boolean,optional:true},enabledTabs:{type:Array,optional:true},unit:{type:String,optional:true},title:{type:String,optional:true},getUsedCustomColors:{type:Function,optional:true},selectedTab:{type:String,optional:true},defaultColor:{type:String,optional:true},};static defaultProps={getUsedCustomColors:()=>[],enabledTabs:["theme","gradient","custom"],defaultColor:"#FFFFFF00",};static components={ColorSelector:ColorSelector,BuilderComponent,};setup(){useBuilderComponent();const{state,onApply,onPreview,onPreviewRevert}=useColorPickerBuilderComponent();this.colorButton=useRef("colorButton");this.state=state;this.state.defaultTab=this.props.selectedTab||"solid";useColorPicker("colorButton",{state,applyColor:onApply,applyColorPreview:onPreview,applyColorResetPreview:onPreviewRevert,getUsedCustomColors:this.props.getUsedCustomColors,colorPrefix:"color-prefix-",showRgbaField:true,noTransparency:this.props.noTransparency,enabledTabs:this.props.enabledTabs,className:"o-hb-colorpicker",},{onClose:onPreviewRevert,popoverClass:"o-hb-colorpicker-popover",});}
getSelectedColorStyle(){if(this.state.selectedColor){if(isColorGradient(this.state.selectedColor)){return`background-image: ${this.state.selectedColor}`;}
return`background-color: ${this.state.selectedColor}`;}
if(this.state.selectedColorCombination){const colorCombination=this.state.selectedColorCombination.replace("_","-");const el=this.env.getEditingElement();const style=el.ownerDocument.defaultView.getComputedStyle(el);if(style.backgroundImage!=="none"){return`background-image: ${style.backgroundImage}`;}else{return`background-color: var(--${colorCombination}-bg)`;}}
return"";}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_component.js */
odoo.define('@html_builder/core/building_blocks/builder_component',['@odoo/owl','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{Component,xml}=require("@odoo/owl");const{useDomState}=require("@html_builder/core/utils");const BuilderComponent=__exports.BuilderComponent=class BuilderComponent extends Component{static template=xml`<t t-if="this.state.isVisible"><t t-slot="default"/></t>`;static props={slots:{type:Object},};setup(){this.state=useDomState((editingElement)=>({isVisible:!!editingElement,}),{checkEditingElement:false});}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_context.js */
odoo.define('@html_builder/core/building_blocks/builder_context',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component,xml}=require("@odoo/owl");const{basicContainerBuilderComponentProps,useBuilderComponent}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderContext=__exports.BuilderContext=class BuilderContext extends Component{static template=xml`
        <BuilderComponent>
            <t t-slot="default"/>
        </BuilderComponent>
    `;static props={...basicContainerBuilderComponentProps,slots:{type:Object},};static components={BuilderComponent,};setup(){useBuilderComponent();}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_datetimepicker.js */
odoo.define('@html_builder/core/building_blocks/builder_datetimepicker',['@odoo/owl','@web/core/datetime/datetime_hook','@web/core/l10n/dates','@web/core/utils/hooks','@web/core/utils/objects','@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/builder_text_input_base','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{useDateTimePicker}=require("@web/core/datetime/datetime_hook");const{ConversionError,formatDateTime,parseDateTime}=require("@web/core/l10n/dates");const{useChildRef}=require("@web/core/utils/hooks");const{pick}=require("@web/core/utils/objects");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{BuilderTextInputBase,textInputBasePassthroughProps}=require("@html_builder/core/building_blocks/builder_text_input_base");const{basicContainerBuilderComponentProps,useBuilderComponent,useInputBuilderComponent,}=require("@html_builder/core/utils");const{DateTime}=luxon;const BuilderDateTimePicker=__exports.BuilderDateTimePicker=class BuilderDateTimePicker extends Component{static template="html_builder.BuilderDateTimePicker";static props={...basicContainerBuilderComponentProps,...textInputBasePassthroughProps,type:{type:[{value:"date"},{value:"datetime"}],optional:true},format:{type:String,optional:true},};static defaultProps={type:"datetime",};static components={BuilderComponent,BuilderTextInputBase,};setup(){useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,defaultValue:this.getDefaultValue(),formatRawValue:this.formatRawValue.bind(this),parseDisplayValue:this.parseDisplayValue.bind(this),});this.state=state;this.oldValue=this.state.value;this.commit=(userInputValue)=>{this.isPreviewing=false;const result=commit(userInputValue);if(result){this.oldValue=parseDateTime(result).toUnixInteger().toString();}
return result;};this.preview=(userInputValue)=>{this.isPreviewing=true;preview(userInputValue);};const getPickerProps=()=>({type:this.props.type,minDate:DateTime.fromObject({year:1000}),maxDate:DateTime.now().plus({year:200}),value:this.getCurrentValueDateTime(),rounding:0,});this.inputRef=useChildRef();this.dateTimePicker=useDateTimePicker({target:"root",format:this.props.format,get pickerProps(){return getPickerProps();},onApply:(value)=>{const result=this.commit(formatDateTime(value));this.inputRef.el.value=result;},onChange:(value)=>{const dateString=formatDateTime(value);this.preview(dateString);this.inputRef.el.value=dateString;},});}
getDefaultValue(){return DateTime.now().toUnixInteger().toString();}
getCurrentValueDateTime(){return DateTime.fromSeconds(parseInt(this.state.value));}
formatRawValue(rawValue){return formatDateTime(DateTime.fromSeconds(parseInt(rawValue)));}
parseDisplayValue(displayValue){try{const parsedDateTime=parseDateTime(displayValue);if(parsedDateTime){return parsedDateTime.toUnixInteger().toString();}}catch(e){if(!(e instanceof ConversionError)){throw e;}
if(!this.isPreviewing&&displayValue!==""){return this.oldValue;}}
return this.getDefaultValue();}
get displayValue(){return this.state.value!==undefined?this.formatRawValue(this.state.value):undefined;}
get textInputBaseProps(){return pick(this.props,...Object.keys(textInputBasePassthroughProps));}
onFocus(){this.dateTimePicker.open();}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_fontfamilypicker.js */
odoo.define('@html_builder/core/building_blocks/builder_fontfamilypicker',['@odoo/owl','@web/core/l10n/translation','@web/core/utils/hooks','@html_builder/core/utils','@web/core/confirmation_dialog/confirmation_dialog','@html_builder/core/building_blocks/builder_select','@html_builder/core/building_blocks/builder_select_item'],function(require){'use strict';let __exports={};const{Component,onWillStart}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{useService}=require("@web/core/utils/hooks");const{basicContainerBuilderComponentProps,useVisibilityObserver,useApplyVisibility,}=require("@html_builder/core/utils");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{BuilderSelect}=require("@html_builder/core/building_blocks/builder_select");const{BuilderSelectItem}=require("@html_builder/core/building_blocks/builder_select_item");const BuilderFontFamilyPicker=__exports.BuilderFontFamilyPicker=class BuilderFontFamilyPicker extends Component{static template="html_builder.BuilderFontFamilyPicker";static props={...basicContainerBuilderComponentProps,valueParamName:String,};static components={BuilderSelect,BuilderSelectItem,};setup(){this.dialog=useService("dialog");this.orm=useService("orm");useVisibilityObserver("content",useApplyVisibility("root"));this.fonts=[];onWillStart(async()=>{const fontsData=await this.env.editor.shared.builderFont.getFontsData();this.fonts=fontsData._fonts;});}
forwardProps(fontValue){const result=Object.assign({},this.props,{[this.props.valueParamName]:fontValue.fontFamilyValue,});delete result.selectMethod;delete result.valueParamName;return result;}
async onAddFontClick(){await this.env.editor.shared.websiteFont.addFont(this.props.actionParam);}
async onDeleteFontClick(font){const save=await new Promise((resolve)=>{this.env.services.dialog.add(ConfirmationDialog,{body:_t("Deleting a font requires a reload of the page. This will save all your changes and reload the page, are you sure you want to proceed?"),confirm:()=>resolve(true),cancel:()=>resolve(false),});});if(!save){return;}
await this.env.editor.shared.websiteFont.deleteFont(font);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_list.js */
odoo.define('@html_builder/core/building_blocks/builder_list',['@html_builder/core/building_blocks/builder_component','@html_builder/core/utils','@odoo/owl','@web/core/l10n/translation','@web/core/utils/sortable_owl'],function(require){'use strict';let __exports={};const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{basicContainerBuilderComponentProps,useBuilderComponent,useInputBuilderComponent,}=require("@html_builder/core/utils");const{Component,useRef}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{useSortable}=require("@web/core/utils/sortable_owl");const BuilderList=__exports.BuilderList=class BuilderList extends Component{static template="html_builder.BuilderList";static props={...basicContainerBuilderComponentProps,id:{type:String,optional:true},addItemTitle:{type:String,optional:true},itemShape:{type:Object,values:[{value:"number"},{value:"text"},{value:"boolean"},{value:"exclusive_boolean"},],validate:(value)=>Object.keys(value).length>0&&!Object.keys(value).includes("_id"),optional:true,},default:{optional:true},sortable:{optional:true},hiddenProperties:{type:Array,optional:true},};static defaultProps={addItemTitle:_t("Add"),itemShape:{value:"text"},default:{value:_t("Item")},sortable:true,hiddenProperties:[],};static components={BuilderComponent};setup(){this.validateProps();useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,defaultValue:this.parseDisplayValue([]),parseDisplayValue:this.parseDisplayValue,formatRawValue:this.formatRawValue,});this.state=state;this.commit=commit;this.preview=preview;if(this.props.sortable){useSortable({enable:()=>this.props.sortable,ref:useRef("table"),elements:".o_row_draggable",handle:".o_handle_cell",cursor:"grabbing",placeholderClasses:["d-table-row"],onDrop:(params)=>{const{element,previous}=params;this.reorderItem(element.dataset.id,previous?.dataset.id);},});}}
validateProps(){const itemShapeKeys=Object.keys(this.props.itemShape);const defaultKeys=Object.keys(this.props.default);const allKeys=new Set([...itemShapeKeys,...defaultKeys]);if(allKeys.size!==itemShapeKeys.length){throw new Error("default properties don't match itemShape");}}
parseDisplayValue(displayValue){return JSON.stringify(displayValue);}
formatRawValue(rawValue){const items=rawValue?JSON.parse(rawValue):[];for(const item of items){if(!("_id"in item)){item._id=this.getNextAvailableItemId(items);}}
return items;}
addItem(){const items=this.formatRawValue(this.state.value);items.push(this.makeDefaultItem());this.commit(items);}
deleteItem(itemId){const items=this.formatRawValue(this.state.value);this.commit(items.filter((item)=>item._id!==itemId));}
reorderItem(itemId,previousId){let items=this.formatRawValue(this.state.value);const itemToReorder=items.find((item)=>item._id===itemId);items=items.filter((item)=>item._id!==itemId);const previousItem=items.find((item)=>item._id===previousId);const previousItems=items.slice(0,items.indexOf(previousItem)+1);const nextItems=items.slice(items.indexOf(previousItem)+1,items.length);const newItems=[...previousItems,itemToReorder,...nextItems];this.commit(newItems);}
makeDefaultItem(){return{...this.props.default,_id:this.getNextAvailableItemId(),};}
getNextAvailableItemId(items){items=items||this.formatRawValue(this.state?.value);const biggestId=items.map((item)=>parseInt(item._id)).reduce((acc,id)=>(id>acc?id:acc),-1);const nextAvailableId=biggestId+1;return nextAvailableId.toString();}
onInput(e){this.handleValueChange(e.target,false);}
onChange(e){this.handleValueChange(e.target,true);}
handleValueChange(targetInputEl,commitToHistory){const id=targetInputEl.dataset.id;const propertyName=targetInputEl.name;const value=targetInputEl.type==="checkbox"?targetInputEl.checked:targetInputEl.value;const items=this.formatRawValue(this.state.value);if(value===true&&this.props.itemShape[propertyName]==="exclusive_boolean"){for(const item of items){item[propertyName]=false;}}
const item=items.find((item)=>item._id===id);item[propertyName]=value;if(commitToHistory){this.commit(items);}else{this.preview(items);}}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_many2many.js */
odoo.define('@html_builder/core/building_blocks/builder_many2many',['@odoo/owl','@web/core/utils/hooks','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/basic_many2many'],function(require){'use strict';let __exports={};const{Component,onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{useService}=require("@web/core/utils/hooks");const{basicContainerBuilderComponentProps,getAllActionsAndOperations,useBuilderComponent,useDomState,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{BasicMany2Many}=require("@html_builder/core/building_blocks/basic_many2many");const BuilderMany2Many=__exports.BuilderMany2Many=class BuilderMany2Many extends Component{static template="html_builder.BuilderMany2Many";static props={...basicContainerBuilderComponentProps,model:String,m2oField:{type:String,optional:true},fields:{type:Array,element:String,optional:true},domain:{type:Array,optional:true},limit:{type:Number,optional:true},};static defaultProps=BuilderComponent.defaultProps;static components={BuilderComponent,BasicMany2Many};setup(){useBuilderComponent();this.fields=useService("field");const{getAllActions,callOperation}=getAllActionsAndOperations(this);this.callOperation=callOperation;this.applyOperation=this.env.editor.shared.history.makePreviewableAsyncOperation(this.callApply.bind(this));this.state=useState({searchModel:undefined,});this.domState=useDomState((el)=>{const getAction=this.env.editor.shared.builderActions.getAction;const actionWithGetValue=getAllActions().find(({actionId})=>getAction(actionId).getValue);const{actionId,actionParam}=actionWithGetValue;const actionValue=getAction(actionId).getValue({editingElement:el,params:actionParam,});return{selection:JSON.parse(actionValue||"[]"),};});onWillStart(async()=>{await this.handleProps(this.props);});onWillUpdateProps(async(newProps)=>{await this.handleProps(newProps);});}
async handleProps(props){if(props.m2oField){const modelData=await this.fields.loadFields(props.model,{fieldNames:[props.m2oField],});this.state.searchModel=modelData[props.m2oField].relation;if(!this.state.searchModel){throw new Error(`m2oField ${props.m2oField} is not a relation field`);}}else{this.state.searchModel=props.model;}}
callApply(applySpecs){const proms=[];for(const applySpec of applySpecs){proms.push(applySpec.action.apply({editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadResult,dependencyManager:this.env.dependencyManager,}));}
return proms;}
setSelection(newSelection){this.callOperation(this.applyOperation.commit,{userInputValue:JSON.stringify(newSelection),});}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_many2one.js */
odoo.define('@html_builder/core/building_blocks/builder_many2one',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/select_many2x','@html_builder/core/cached_model_utils'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{basicContainerBuilderComponentProps,getAllActionsAndOperations,useBuilderComponent,useDependencyDefinition,useDomState,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{SelectMany2X}=require("@html_builder/core/building_blocks/select_many2x");const{useCachedModel}=require("@html_builder/core/cached_model_utils");const BuilderMany2One=__exports.BuilderMany2One=class BuilderMany2One extends Component{static template="html_builder.BuilderMany2One";static props={...basicContainerBuilderComponentProps,model:String,fields:{type:Array,element:String,optional:true},domain:{type:Array,optional:true},limit:{type:Number,optional:true},id:{type:String,optional:true},allowUnselect:{type:Boolean,optional:true},defaultMessage:{type:String,optional:true},createAction:{type:String,optional:true},};static defaultProps={...BuilderComponent.defaultProps,allowUnselect:true,};static components={BuilderComponent,SelectMany2X};setup(){useBuilderComponent();const{getAllActions,callOperation}=getAllActionsAndOperations(this);this.cachedModel=useCachedModel();this.callOperation=callOperation;this.applyOperation=this.env.editor.shared.history.makePreviewableAsyncOperation(this.callApply.bind(this));const getAction=this.env.editor.shared.builderActions.getAction;const actionWithGetValue=getAllActions().find(({actionId})=>getAction(actionId).getValue);const{actionId,actionParam}=actionWithGetValue;this.domState=useDomState(async(el)=>{const selectedString=getAction(actionId).getValue({editingElement:el,params:actionParam,});const selected=selectedString&&JSON.parse(selectedString);if(selected&&!("display_name"in selected&&"name"in selected)){Object.assign(selected,(await this.cachedModel.ormRead(this.props.model,[selected.id],["display_name","name"]))[0]);}
return{selected};});if(this.props.id){useDependencyDefinition(this.props.id,{getValue:()=>this.domState.selected&&JSON.stringify(this.domState.selected),});}
if(this.props.createAction){this.createAction=this.env.editor.shared.builderActions.getAction(this.props.createAction);this.createOperation=this.env.editor.shared.history.makePreviewableOperation(this.createAction.apply);}}
callApply(applySpecs){const proms=[];for(const applySpec of applySpecs){if(applySpec.actionValue===undefined){applySpec.action.clean({editingElement:applySpec.editingElement,params:applySpec.actionParam,dependencyManager:this.env.dependencyManager,});}else{proms.push(applySpec.action.apply({editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadResult,dependencyManager:this.env.dependencyManager,}));}}
return Promise.all(proms);}
select(newSelected){this.callOperation(this.applyOperation.commit,{userInputValue:newSelected&&JSON.stringify(newSelected),});}
create(name){const args={editingElement:this.env.getEditingElement(),value:name};this.env.editor.shared.operation.next(()=>this.createOperation.commit(args),{load:()=>this.createAction.load?.(args).then((loadResult)=>(args.loadResult=loadResult)),});}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_number_input.js */
odoo.define('@html_builder/core/building_blocks/builder_number_input',['@html_editor/utils/formatting','@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/builder_text_input_base','@web/core/utils/hooks','@web/core/utils/objects'],function(require){'use strict';let __exports={};const{convertNumericToUnit,getHtmlStyle}=require("@html_editor/utils/formatting");const{Component}=require("@odoo/owl");const{basicContainerBuilderComponentProps,useInputBuilderComponent,useBuilderComponent,useInputDebouncedCommit,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{BuilderTextInputBase,textInputBasePassthroughProps,}=require("@html_builder/core/building_blocks/builder_text_input_base");const{useChildRef}=require("@web/core/utils/hooks");const{pick}=require("@web/core/utils/objects");const BuilderNumberInput=__exports.BuilderNumberInput=class BuilderNumberInput extends Component{static template="html_builder.BuilderNumberInput";static props={...basicContainerBuilderComponentProps,...textInputBasePassthroughProps,default:{type:Number,optional:true},unit:{type:String,optional:true},saveUnit:{type:String,optional:true},step:{type:Number,optional:true},min:{type:Number,optional:true},max:{type:Number,optional:true},composable:{type:Boolean,optional:true},applyWithUnit:{type:Boolean,optional:true},};static components={BuilderComponent,BuilderTextInputBase};static defaultProps={composable:false,applyWithUnit:true,};setup(){if(this.props.saveUnit&&!this.props.unit){throw new Error("'unit' must be defined to use the 'saveUnit' props");}
useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,defaultValue:this.props.default?.toString(),formatRawValue:this.formatRawValue.bind(this),parseDisplayValue:this.parseDisplayValue.bind(this),});this.commit=commit;this.preview=preview;this.state=state;this.inputRef=useChildRef();this.debouncedCommitValue=useInputDebouncedCommit(this.inputRef);}
convertSpaceSplitValues(values,convertSingleValueFn){if(typeof values==="number"){return convertSingleValueFn(values.toString());}
if(!values){return"";}
return values.trim().split(/\s+/g).map(convertSingleValueFn).join(" ");}
formatRawValue(rawValue){return this.convertSpaceSplitValues(rawValue,(value)=>{const unit=this.props.unit;const saveUnit=this.props.saveUnit;value=value.match(/[\d.e+-]+/g)[0];if(saveUnit){value=convertNumericToUnit(value,saveUnit,unit,getHtmlStyle(this.env.getEditingElement().ownerDocument));}
return value;});}
clampValue(value){if(parseFloat(value)<this.props.min){return`${this.props.min}`;}
if(parseFloat(value)>this.props.max){return`${this.props.max}`;}
return value;}
parseDisplayValue(displayValue){displayValue=displayValue.replace(/,/g,".");if(this.props.composable){displayValue=displayValue.replace(/[^0-9.-\s]/g,"");}else{displayValue=displayValue.trim().split(" ")[0].replace(/[^0-9.-]/g,"");}
displayValue=displayValue.split(" ").map(this.clampValue.bind(this)).join(" ");return this.convertSpaceSplitValues(displayValue,(value)=>{if(value===""){return value;}
const unit=this.props.unit;const saveUnit=this.props.saveUnit;const applyWithUnit=this.props.applyWithUnit;if(unit&&saveUnit){value=convertNumericToUnit(value,unit,saveUnit,getHtmlStyle(this.env.getEditingElement().ownerDocument));}
if(unit&&applyWithUnit){if(saveUnit||saveUnit===""){value=value+saveUnit;}else{value=value+unit;}}
return value;});}
get displayValue(){return this.formatRawValue(this.state.value);}
onKeydown(e){if(!["ArrowUp","ArrowDown"].includes(e.key)){return;}
const values=e.target.value.split(" ").map((number)=>parseFloat(number)||0);if(e.key==="ArrowUp"){values.forEach((value,i)=>{values[i]=this.clampValue(value+(this.props.step||1));});}else if(e.key==="ArrowDown"){values.forEach((value,i)=>{values[i]=this.clampValue(value-(this.props.step||1));});}
e.target.value=values.join(" ");this.preview(e.target.value);this.debouncedCommitValue();}
get textInputBaseProps(){return pick(this.props,...Object.keys(textInputBasePassthroughProps));}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_range.js */
odoo.define('@html_builder/core/building_blocks/builder_range',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component,useRef}=require("@odoo/owl");const{basicContainerBuilderComponentProps,useActionInfo,useBuilderComponent,useInputBuilderComponent,useInputDebouncedCommit,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderRange=__exports.BuilderRange=class BuilderRange extends Component{static template="html_builder.BuilderRange";static props={...basicContainerBuilderComponentProps,min:{type:Number,optional:true},max:{type:Number,optional:true},step:{type:Number,optional:true},displayRangeValue:{type:Boolean,optional:true},computedOutput:{type:Function,optional:true},unit:{type:String,optional:true},};static defaultProps={...BuilderComponent.defaultProps,min:0,max:100,step:1,displayRangeValue:false,};static components={BuilderComponent};setup(){this.info=useActionInfo();useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,formatRawValue:this.formatRawValue.bind(this),parseDisplayValue:this.parseDisplayValue.bind(this),});this.inputRef=useRef("inputRef");this.debouncedCommitValue=useInputDebouncedCommit(this.inputRef);this.commit=commit;this.preview=preview;this.state=state;}
formatRawValue(value){if(this.props.unit){value=value.slice(0,-this.props.unit.length);}
return value;}
parseDisplayValue(value){if(this.props.unit){value=`${value}${this.props.unit}`;}
return value;}
onChange(e){const normalizedDisplayValue=this.commit(e.target.value);e.target.value=normalizedDisplayValue;}
onInput(e){this.preview(e.target.value);if(this.props.displayRangeValue){this.state.value=this.parseDisplayValue(e.target.value);}}
onKeydown(e){if(!["ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].includes(e.key)){return;}
e.preventDefault();let value=parseInt(e.target.value);if(e.key==="ArrowLeft"||e.key==="ArrowDown"){value=Math.max(this.min,value-this.props.step);}else{value=Math.min(this.max,value+this.props.step);}
e.target.value=value;this.onInput(e);this.debouncedCommitValue();}
get rangeInputValue(){return this.state.value?this.formatRawValue(this.state.value):"0";}
get displayValue(){let value=this.rangeInputValue;if(this.props.computedOutput){value=this.props.computedOutput(value);}else if(this.props.unit){value=`${value}${this.props.unit}`;}
return value;}
get className(){const baseClasses="p-0 border-0";return this.props.min>this.props.max?`${baseClasses} o_we_inverted_range`:baseClasses;}
get min(){return this.props.min>this.props.max?this.props.max:this.props.min;}
get max(){return this.props.min>this.props.max?this.props.min:this.props.max;}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_row.js */
odoo.define('@html_builder/core/building_blocks/builder_row',['@odoo/owl','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@web/core/utils/functions'],function(require){'use strict';let __exports={};const{Component,useEffect,useRef,useState}=require("@odoo/owl");const{useVisibilityObserver,useApplyVisibility,basicContainerBuilderComponentProps,useBuilderComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{uniqueId}=require("@web/core/utils/functions");const BuilderRow=__exports.BuilderRow=class BuilderRow extends Component{static template="html_builder.BuilderRow";static components={BuilderComponent};static props={...basicContainerBuilderComponentProps,label:{type:String,optional:true},tooltip:{type:String,optional:true},slots:{type:Object,optional:true},level:{type:Number,optional:true},expand:{type:Boolean,optional:true},};static defaultProps={expand:false};setup(){useBuilderComponent();useVisibilityObserver("content",useApplyVisibility("root"));this.state=useState({expanded:this.props.expand,tooltip:this.props.tooltip,});if(this.props.slots.collapse){useVisibilityObserver("collapse-content",useApplyVisibility("collapse"));this.collapseContentId=uniqueId("builder_collapse_content_");}
this.labelRef=useRef("label");useEffect((labelEl)=>{if(!this.state.tooltip&&labelEl&&labelEl.clientWidth<labelEl.scrollWidth){this.state.tooltip=this.props.label;}},()=>[this.labelRef.el]);}
getLevelClass(){return this.props.level?`hb-row-sublevel hb-row-sublevel-${this.props.level}`:"";}
toggleCollapseContent(){this.state.expanded=!this.state.expanded;}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_select.js */
odoo.define('@html_builder/core/building_blocks/builder_select',['@odoo/owl','@web/core/l10n/translation','@web/core/dropdown/dropdown','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component','@web/core/dropdown/dropdown_hooks','@web/core/utils/html'],function(require){'use strict';let __exports={};const{Component,onMounted,useRef,useSubEnv,xml}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{Dropdown}=require("@web/core/dropdown/dropdown");const{basicContainerBuilderComponentProps,useVisibilityObserver,useApplyVisibility,useSelectableComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{useDropdownState}=require("@web/core/dropdown/dropdown_hooks");const{setElementContent}=require("@web/core/utils/html");const WithIgnoreItem=__exports.WithIgnoreItem=class WithIgnoreItem extends Component{static template=xml`<t t-slot="default"/>`;static props={slots:{type:Object},};setup(){useSubEnv({ignoreBuilderItem:true,});}}
const BuilderSelect=__exports.BuilderSelect=class BuilderSelect extends Component{static template="html_builder.BuilderSelect";static props={...basicContainerBuilderComponentProps,className:{type:String,optional:true},dropdownContainerClass:{type:String,optional:true},slots:{type:Object,shape:{default:Object,fixedButton:{type:Object,optional:true},},},};static components={Dropdown,BuilderComponent,WithIgnoreItem,};setup(){useVisibilityObserver("content",useApplyVisibility("root"));this.dropdown=useDropdownState();const buttonRef=useRef("button");let currentLabel;const updateCurrentLabel=()=>{if(!this.props.slots.fixedButton){const newHtml=currentLabel||_t("None");if(buttonRef.el&&buttonRef.el.innerHTML!==newHtml){setElementContent(buttonRef.el,newHtml);}}};useSelectableComponent(this.props.id,{onItemChange(item){currentLabel=item.getLabel();updateCurrentLabel();},});onMounted(updateCurrentLabel);useSubEnv({onSelectItem:()=>{this.dropdown.close();},});}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_select_item.js */
odoo.define('@html_builder/core/building_blocks/builder_select_item',['@odoo/owl','@web/core/hotkeys/hotkey_service','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component,markup,onMounted,useRef}=require("@odoo/owl");const{getActiveHotkey}=require("@web/core/hotkeys/hotkey_service");const{clickableBuilderComponentProps,useActionInfo,useSelectableItemComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderSelectItem=__exports.BuilderSelectItem=class BuilderSelectItem extends Component{static template="html_builder.BuilderSelectItem";static props={...clickableBuilderComponentProps,title:{type:String,optional:true},label:{type:String,optional:true},className:{type:String,optional:true},slots:{type:Object,optional:true},};static defaultProps={className:"",};static components={BuilderComponent};setup(){if(!this.env.selectableContext){throw new Error("BuilderSelectItem must be used inside a BuilderSelect component.");}
this.info=useActionInfo();const item=useRef("item");let label="";const getLabel=()=>{label=this.props.label||(item.el?markup(item.el.innerHTML):"")||label||"";return label;};onMounted(getLabel);const{state,operation}=useSelectableItemComponent(this.props.id,{getLabel,});this.state=state;this.operation=operation;this.onFocusin=this.operation.preview;this.onFocusout=this.operation.revert;}
onClick(){this.env.onSelectItem();this.operation.commit();this.removeKeydown?.();}
onKeydown(ev){const hotkey=getActiveHotkey(ev);if(hotkey==="escape"){this.operation.revert();this.removeKeydown?.();}}
onMouseenter(){this.operation.preview();const _onKeydown=this.onKeydown.bind(this);document.addEventListener("keydown",_onKeydown);this.removeKeydown=()=>document.removeEventListener("keydown",_onKeydown);}
onMouseleave(){this.operation.revert();this.removeKeydown();}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_text_input.js */
odoo.define('@html_builder/core/building_blocks/builder_text_input',['@odoo/owl','@web/core/utils/objects','@html_builder/core/building_blocks/builder_text_input_base','@html_builder/core/utils','@html_builder/core/building_blocks/builder_component'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{pick}=require("@web/core/utils/objects");const{BuilderTextInputBase,textInputBasePassthroughProps}=require("@html_builder/core/building_blocks/builder_text_input_base");const{basicContainerBuilderComponentProps,useInputBuilderComponent,useBuilderComponent,}=require("@html_builder/core/utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const BuilderTextInput=__exports.BuilderTextInput=class BuilderTextInput extends Component{static template="html_builder.BuilderTextInput";static props={...basicContainerBuilderComponentProps,...textInputBasePassthroughProps,default:{type:String,optional:true},};static components={BuilderComponent,BuilderTextInputBase,};setup(){useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,defaultValue:this.props.default,});this.commit=commit;this.preview=preview;this.state=state;}
get textInputBaseProps(){return pick(this.props,...Object.keys(textInputBasePassthroughProps));}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_text_input_base.js */
odoo.define('@html_builder/core/building_blocks/builder_text_input_base',['@odoo/owl','@web/core/utils/hooks','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{Component,onWillUpdateProps,useState}=require("@odoo/owl");const{useForwardRefToParent}=require("@web/core/utils/hooks");const{useActionInfo}=require("@html_builder/core/utils");const textInputBasePassthroughProps=__exports.textInputBasePassthroughProps={action:{type:String,optional:true},placeholder:{type:String,optional:true},title:{type:String,optional:true},style:{type:String,optional:true},tooltip:{type:String,optional:true},classes:{type:String,optional:true},inputClasses:{type:String,optional:true},};const BuilderTextInputBase=__exports.BuilderTextInputBase=class BuilderTextInputBase extends Component{static template="html_builder.BuilderTextInputBase";static props={slots:{type:Object,optional:true},inputRef:{type:Function,optional:true},...textInputBasePassthroughProps,commit:{type:Function},preview:{type:Function},onFocus:{type:Function,optional:true},onKeydown:{type:Function,optional:true},value:{type:[String,{value:null}],optional:true},};setup(){this.isEditing=false;this.info=useActionInfo();this.inputRef=useForwardRefToParent("inputRef");this.state=useState({value:this.props.value});onWillUpdateProps((nextProps)=>{if("value"in nextProps){this.state.value=this.isEditing?this.inputRef.el.value:nextProps.value;}});}
onChange(ev){this.isEditing=false;const normalizedDisplayValue=this.props.commit(ev.target.value);ev.target.value=normalizedDisplayValue;}
onInput(ev){this.isEditing=true;this.props.preview(ev.target.value);}
onFocus(ev){this.props.onFocus?.(ev);}
onKeydown(ev){this.props.onKeydown?.(ev);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/builder_urlpicker.js */
odoo.define('@html_builder/core/building_blocks/builder_urlpicker',['@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/builder_text_input_base','@html_builder/core/utils','@odoo/owl','@web/core/utils/hooks','@web/core/utils/objects'],function(require){'use strict';let __exports={};const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{BuilderTextInputBase,textInputBasePassthroughProps,}=require("@html_builder/core/building_blocks/builder_text_input_base");const{basicContainerBuilderComponentProps,useBuilderComponent,useInputBuilderComponent,}=require("@html_builder/core/utils");const{Component}=require("@odoo/owl");const{useChildRef}=require("@web/core/utils/hooks");const{pick}=require("@web/core/utils/objects");const BuilderUrlPicker=__exports.BuilderUrlPicker=class BuilderUrlPicker extends Component{static template="html_builder.BuilderUrlPicker";static props={...basicContainerBuilderComponentProps,...textInputBasePassthroughProps,default:{type:String,optional:true},};static components={BuilderComponent,BuilderTextInputBase,};setup(){this.inputRef=useChildRef();useBuilderComponent();const{state,commit,preview}=useInputBuilderComponent({id:this.props.id,defaultValue:this.props.default,});this.commit=commit;this.preview=preview;this.state=state;}
get textInputBaseProps(){return pick(this.props,...Object.keys(textInputBasePassthroughProps));}
openPreviewUrl(){if(this.inputRef.el.value){window.open(this.inputRef.el.value,"_blank");}}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/model_many2many.js */
odoo.define('@html_builder/core/building_blocks/model_many2many',['@odoo/owl','@web/core/utils/functions','@web/core/utils/hooks','@html_builder/core/utils','@html_builder/core/cached_model_utils','@html_builder/core/building_blocks/builder_component','@html_builder/core/building_blocks/basic_many2many'],function(require){'use strict';let __exports={};const{Component,useState,onWillStart,onWillUpdateProps}=require("@odoo/owl");const{uniqueId}=require("@web/core/utils/functions");const{useService}=require("@web/core/utils/hooks");const{useDomState}=require("@html_builder/core/utils");const{useCachedModel}=require("@html_builder/core/cached_model_utils");const{BuilderComponent}=require("@html_builder/core/building_blocks/builder_component");const{BasicMany2Many}=require("@html_builder/core/building_blocks/basic_many2many");const ModelMany2Many=__exports.ModelMany2Many=class ModelMany2Many extends Component{static template="html_builder.ModelMany2Many";static props={baseModel:String,recordId:Number,m2oField:String,fields:{type:Array,element:String,optional:true},domain:{type:Array,optional:true},limit:{type:Number,optional:true},createAction:{type:String,optional:true},id:{type:String,optional:true},applyTo:{type:String,optional:true},};static defaultProps={fields:[],domain:[],limit:10,};static components={BuilderComponent,BasicMany2Many};setup(){this.fields=useService("field");this.cachedModel=useCachedModel();this.state=useState({searchModel:undefined,});this.modelEdit=undefined;this.domState=useDomState((el)=>{if(!this.modelEdit){return{selection:[]};}
return{selection:this.modelEdit.get(this.props.m2oField),};});onWillStart(async()=>{await this.handleProps(this.props);});onWillUpdateProps(async(newProps)=>{await this.handleProps(newProps);});}
async handleProps(props){const[record]=await this.cachedModel.ormRead(props.baseModel,[props.recordId],[props.m2oField]);const selectedRecordIds=record[props.m2oField];const modelData=await this.fields.loadFields(props.baseModel,{fieldNames:[props.m2oField],});this.state.searchModel=modelData[props.m2oField].relation;this.modelEdit=this.cachedModel.useModelEdit({model:this.props.baseModel,recordId:props.recordId,});if(!this.modelEdit.has(props.m2oField)){const storedSelection=await this.cachedModel.ormRead(this.state.searchModel,selectedRecordIds,["display_name"]);for(const item of storedSelection){item.name=item.display_name;}
this.modelEdit.init(props.m2oField,[...storedSelection]);}
this.domState.selection=this.modelEdit.get(props.m2oField);}
setSelection(newSelection){this.modelEdit.set(this.props.m2oField,newSelection);this.env.editor.shared.history.addStep();}
create(name){this.setSelection([...this.domState.selection,{id:`new-${uniqueId()}`,name:name,display_name:name,model:this.state.searchModel,},]);}}
return __exports;});;

/* /html_builder/static/src/core/building_blocks/select_many2x.js */
odoo.define('@html_builder/core/building_blocks/select_many2x',['@odoo/owl','@web/core/utils/hooks','@html_builder/core/cached_model_utils','@web/core/l10n/translation','@web/core/select_menu/select_menu','@web/core/dropdown/dropdown_hooks'],function(require){'use strict';let __exports={};const{Component,useState,onWillUpdateProps}=require("@odoo/owl");const{useService}=require("@web/core/utils/hooks");const{useCachedModel}=require("@html_builder/core/cached_model_utils");const{_t}=require("@web/core/l10n/translation");const{SelectMenu}=require("@web/core/select_menu/select_menu");const{useDropdownCloser}=require("@web/core/dropdown/dropdown_hooks");class SelectMany2XCreate extends Component{static template="html_builder.SelectMany2XCreate";static props={name:String,create:Function,};setup(){this.dropdown=useDropdownCloser();this.create=this.create.bind(this);}
create(){this.dropdown.close();this.props.create(this.props.name);}}
const SelectMany2X=__exports.SelectMany2X=class SelectMany2X extends Component{static template="html_builder.SelectMany2X";static props={model:String,fields:{type:Array,element:String,optional:true},domain:{type:Array,optional:true},limit:{type:Number,optional:true},selected:{type:Array,element:{type:Object,shape:{id:[Number,String],"*":true}},},select:Function,closeOnEnterKey:{type:Boolean,optional:true},message:{type:String,optional:true},create:{type:Function,optional:true},};static defaultProps={fields:[],domain:[],limit:5,closeOnEnterKey:true,message:_t("Choose a record..."),};static components={SelectMenu,SelectMany2XCreate};setup(){this.orm=useService("orm");this.cachedModel=useCachedModel();this.state=useState({nameToCreate:"",searchResults:[],limit:this.props.limit,});onWillUpdateProps(async(newProps)=>{if(this.searchInvalidationKey(this.props)!==this.searchInvalidationKey(newProps)){this.state.searchResults=[];}});}
searchInvalidationKey(props){return JSON.stringify([props.model,props.fields,props.domain]);}
searchMore(searchValue){this.state.limit+=this.props.limit;this.search(searchValue);}
async search(searchValue){const tuples=await this.orm.call(this.props.model,"name_search",[],{name:searchValue,domain:Object.values(this.props.domain).filter((item)=>item!==null),operator:"ilike",limit:this.state.limit+1,});this.state.hasMore=tuples.length>this.state.limit;this.state.searchResults=await this.cachedModel.ormRead(this.props.model,tuples.slice(0,this.state.limit).map(([id,_name])=>id),[...new Set(this.props.fields).add("display_name").add("name")]);}
filteredSearchResult(){const selectedIds=new Set(this.props.selected.map((e)=>e.id));return this.state.searchResults.filter((entry)=>!selectedIds.has(entry.id));}
async canCreate(name){if(!this.props.create||!name.length){return false;}
const allRecords=await this.cachedModel.ormSearchRead(this.props.model,[],["id","name"]);const usedNames=[...allRecords.map((item)=>item.name),...this.props.selected.map((item)=>item.name),];return!usedNames.includes(name);}
async onInput(searchValue){this.search(searchValue);this.state.nameToCreate=(await this.canCreate(searchValue))?searchValue:"";}}
return __exports;});;

/* /html_builder/static/src/core/cached_model_plugin.js */
odoo.define('@html_builder/core/cached_model_plugin',['@html_editor/plugin','@web/core/utils/cache','@html_builder/core/cached_model_utils'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{Cache}=require("@web/core/utils/cache");const{ModelEdit}=require("@html_builder/core/cached_model_utils");const CachedModelPlugin=__exports.CachedModelPlugin=class CachedModelPlugin extends Plugin{static id="cachedModel";static shared=["ormRead","ormSearchRead","useModelEdit"];static dependencies=["history"];resources={before_save_handlers:this.savePendingRecords.bind(this),};setup(){this.ormReadCache=new Cache(({model,ids,fields})=>this.services.orm.read(model,ids,fields),JSON.stringify);this.ormSearchReadCache=new Cache(({model,domain,fields})=>this.services.orm.searchRead(model,domain,fields),JSON.stringify);this.modelEditCache=new Cache(({model,recordId})=>new ModelEdit(this.dependencies.history,model,recordId),JSON.stringify);}
destroy(){this.ormReadCache.invalidate();this.ormSearchReadCache.invalidate();this.modelEditCache.invalidate();}
ormRead(model,ids,fields){return this.ormReadCache.read({model,ids,fields});}
ormSearchRead(model,domain,fields){return this.ormSearchReadCache.read({model,domain,fields});}
useModelEdit({model,recordId,field}){const modelEdit=this.modelEditCache.read({model,recordId,field});return modelEdit;}
async savePendingRecords(editableEl=this.editable){const inventory={};for(const modelEdit of Object.values(this.modelEditCache.cache)){modelEdit.collect(inventory);}
for(const[model,records]of Object.entries(inventory)){for(const[recordId,record]of Object.entries(records)){for(const[field,value]of Object.entries(record)){const proms=value.filter((value)=>typeof value.id==="string").map((value)=>this.services.orm.create(value.model,[{name:value.name}]));const createdIDs=(await Promise.all(proms)).flat();const ids=value.filter((value)=>typeof value.id==="number").map((value)=>value.id).concat(createdIDs);await this.services.orm.write(model,[parseInt(recordId)],{[field]:[[6,0,ids]],});}}}
return!!inventory.length;}}
return __exports;});;

/* /html_builder/static/src/core/cached_model_utils.js */
odoo.define('@html_builder/core/cached_model_utils',['@odoo/owl'],function(require){'use strict';let __exports={};const{useEnv}=require("@odoo/owl");__exports.useCachedModel=useCachedModel;function useCachedModel(){return useEnv().editor.shared.cachedModel;}
const ModelEdit=__exports.ModelEdit=class ModelEdit{constructor(history,model,recordId){this.values={};this.history=history;this.model=model;this.recordId=recordId;}
has(field){return field in this.values;}
get(field){return JSON.parse(this.values[field].current);}
init(field,value){value=JSON.stringify(value);this.values[field]={initial:value,current:value};}
set(field,value){const previous=this.values[field].current;value=JSON.stringify(value);this.history.applyCustomMutation({apply:()=>{this.values[field].current=value;},revert:()=>{this.values[field].current=previous;},});}
collect(inventory){const records=inventory[this.model]||{};const record=records[this.recordId]||{};for(const field of Object.keys(this.values)){if(this.values[field].initial!==this.values[field].current){inventory[this.model]=records;records[this.recordId]=record;record[field]=JSON.parse(this.values[field].current);}}}}
return __exports;});;

/* /html_builder/static/src/core/clone_plugin.js */
odoo.define('@html_builder/core/clone_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@html_builder/utils/utils','@html_builder/core/remove_plugin','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{isElementInViewport}=require("@html_builder/utils/utils");const{isRemovable}=require("@html_builder/core/remove_plugin");const{BuilderAction}=require("@html_builder/core/builder_action");const clonableSelector="a.btn:not(.oe_unremovable)";__exports.isClonable=isClonable;function isClonable(el){return el.matches(clonableSelector)||isRemovable(el);}
const ClonePlugin=__exports.ClonePlugin=class ClonePlugin extends Plugin{static id="clone";static dependencies=["history","builderOptions"];static shared=["cloneElement"];resources={builder_actions:{CloneItemAction,},get_overlay_buttons:withSequence(2,{getButtons:this.getActiveOverlayButtons.bind(this),}),on_will_clone_handlers:[],on_cloned_handlers:[],};setup(){this.overlayTarget=null;this.ignoredClasses=new Set(this.getResource("system_classes"));this.ignoredAttrs=new Set(this.getResource("system_attributes"));}
getActiveOverlayButtons(target){if(!isClonable(target)){this.overlayTarget=null;return[];}
const buttons=[];this.overlayTarget=target;const disabledReason=this.dependencies["builderOptions"].getCloneDisabledReason(target);buttons.push({class:"o_snippet_clone fa fa-clone",title:_t("Duplicate"),disabledReason,handler:()=>{this.cloneElement(this.overlayTarget,{activateClone:false});this.dependencies.history.addStep();},});return buttons;}
cloneElement(el,{position="afterend",scrollToClone=false,activateClone=true}={}){this.dispatchTo("on_will_clone_handlers",{originalEl:el});const cloneEl=el.cloneNode(true);this.cleanElement(cloneEl);el.insertAdjacentElement(position,cloneEl);if(activateClone){this.dependencies["builderOptions"].updateContainers(cloneEl);}
if(scrollToClone&&!isElementInViewport(cloneEl)){cloneEl.scrollIntoView({behavior:"smooth",block:"center"});}
this.dispatchTo("on_cloned_handlers",{cloneEl:cloneEl,originalEl:el});return cloneEl;}
cleanElement(toCleanEl){this.ignoredClasses.forEach((ignoredClass)=>{[toCleanEl,...toCleanEl.querySelectorAll(`.${ignoredClass}`)].forEach((el)=>el.classList.remove(ignoredClass));});this.ignoredAttrs.forEach((ignoredAttr)=>{[toCleanEl,...toCleanEl.querySelectorAll(`[${ignoredAttr}]`)].forEach((el)=>el.removeAttribute(ignoredAttr));});}}
const CloneItemAction=__exports.CloneItemAction=class CloneItemAction extends BuilderAction{static id="addItem";static dependencies=["clone","history"];apply({editingElement,params:{mainParam:itemSelector},value:position}){const itemEl=editingElement.querySelector(itemSelector);this.dependencies.clone.cloneElement(itemEl,{position,scrollToClone:true});this.dependencies.history.addStep();}}
return __exports;});;

/* /html_builder/static/src/core/color_style_plugin.js */
odoo.define('@html_builder/core/color_style_plugin',['@html_editor/plugin','@web/core/registry','@html_builder/utils/utils_css','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{applyNeededCss}=require("@html_builder/utils/utils_css");const{withSequence}=require("@html_editor/utils/resource");class ColorStylePlugin extends Plugin{static id="colorStyle";static dependencies=["color"];resources={apply_style:withSequence(5,(element,cssProp,color)=>{applyNeededCss(element,cssProp,color);return true;}),apply_custom_css_style:withSequence(20,this.applyColorStyle.bind(this)),};applyColorStyle({editingElement,params:{mainParam:styleName=""},value}){if(styleName==="background-color"){const match=value.match(/var\(--([a-zA-Z0-9-_]+)\)/);if(match){value=`bg-${match[1]}`;}
this.dependencies.color.colorElement(editingElement,value,"backgroundColor");return true;}else if(styleName==="color"){const match=value.match(/var\(--([a-zA-Z0-9-_]+)\)/);if(match){value=`text-${match[1]}`;}
this.dependencies.color.colorElement(editingElement,value,"color");return true;}
return false;}}
registry.category("website-plugins").add(ColorStylePlugin.id,ColorStylePlugin);return __exports;});;

/* /html_builder/static/src/core/composite_action_plugin.js */
odoo.define('@html_builder/core/composite_action_plugin',['@html_builder/core/utils','@html_editor/plugin','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{convertParamToObject}=require("@html_builder/core/utils");const{Plugin}=require("@html_editor/plugin");const{BuilderAction}=require("@html_builder/core/builder_action");const CompositeActionPlugin=__exports.CompositeActionPlugin=class CompositeActionPlugin extends Plugin{static id="compositeAction";static dependencies=["builderActions"];resources={builder_actions:{CompositeAction,ReloadCompositeAction,},};}
const CompositeAction=__exports.CompositeAction=class CompositeAction extends BuilderAction{static id="composite";static dependencies=["builderActions"];loadOnClean=true;async prepare({actionParam:{mainParam:actions},actionValue}){const proms=[];for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("prepare")){const actionDescr={actionId:actionDef.action};if(actionDef.actionParam){actionDescr.actionParam=convertParamToObject(actionDef.actionParam);}
if(actionDef.actionValue||actionValue){actionDescr.actionValue=actionDef.actionValue||actionValue;}
proms.push(action.prepare(actionDescr));}}
await Promise.all(proms);}
getPriority({params:{mainParam:actions},value}){const results=[];for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("getPriority")){const actionDescr=this._getActionDescription({...actionDef,value});results.push(action.getPriority(actionDescr));}}
return Math.max(...results);}
getValue({editingElement,params:{mainParam:actions}}){let actionGetValue;const actionDef=actions.find((actionDef)=>{const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("getValue")){actionGetValue=action.getValue;}
return!!action.getValue;});if(actionDef){const actionDescr=this._getActionDescription({editingElement,actionParam:actionDef.actionParam,});return actionGetValue(actionDescr);}}
isApplied({editingElement,params:{mainParam:actions},value}){const results=[];for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("isApplied")){const actionDescr=this._getActionDescription({editingElement,...actionDef,value,});results.push(action.isApplied(actionDescr));}}
return!!results.length&&results.every((result)=>result);}
async load({editingElement,params:{mainParam:actions},value}){const loadActions=[];const loadResults=[];for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("load")){const actionDescr=this._getActionDescription({editingElement,...actionDef,value,});loadActions.push(actionDef.action);loadResults.push(await action.load(actionDescr));}}
return loadActions.reduce((acc,actionId,idx)=>{acc[actionId]=loadResults[idx];return acc;},{});}
async apply({editingElement,params:{mainParam:actions},value,loadResult,dependencyManager,selectableContext,}){for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);if(action.has("apply")){const actionDescr=this._getActionDescription({editingElement,value,...actionDef,loadResult,dependencyManager,selectableContext,});await action.apply(actionDescr);}}}
clean({editingElement,params:{mainParam:actions},value,loadResult,dependencyManager,selectableContext,nextAction,}){for(const actionDef of actions){const action=this.dependencies.builderActions.getAction(actionDef.action);const actionDescr=this._getActionDescription({editingElement,...actionDef,value,loadResult,dependencyManager,selectableContext,nextAction,});if(action.has("clean")){action.clean(actionDescr);}else if(action.has("apply")){if(loadResult&&loadResult[actionDef.action]){actionDescr.loadResult=loadResult[actionDef.action];}
action.apply(actionDescr);}}}
_getActionDescription(action){const{action:actionId,actionParam,actionValue,value,loadResult}=action;const actionDescr={};const forwardedSpecs=["editingElement","dependencyManager","selectableContext","nextAction",];for(const spec of forwardedSpecs){if(action[spec]){actionDescr[spec]=action[spec];}}
if(actionParam){actionDescr.params=convertParamToObject(actionParam);}
if(actionValue||value){actionDescr.value=actionValue||value;}
if(loadResult&&loadResult[actionId]){actionDescr.loadResult=loadResult[actionId];}
return actionDescr;}}
const ReloadCompositeAction=__exports.ReloadCompositeAction=class ReloadCompositeAction extends CompositeAction{static id="reloadComposite";setup(){this.reload={};}}
return __exports;});;

/* /html_builder/static/src/core/core_builder_action_plugin.js */
odoo.define('@html_builder/core/core_builder_action_plugin',['@html_editor/plugin','@html_builder/utils/utils_css','@html_builder/core/builder_action','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{CSS_SHORTHANDS,applyNeededCss,areCssValuesEqual,normalizeColor,}=require("@html_builder/utils/utils_css");const{BuilderAction}=require("@html_builder/core/builder_action");const{getValueFromVar}=require("@html_builder/utils/utils");__exports.withoutTransition=withoutTransition;function withoutTransition(editingElement,callback){if(editingElement.classList.contains("o_we_force_no_transition")){return callback();}
editingElement.classList.add("o_we_force_no_transition");try{return callback();}finally{editingElement.classList.remove("o_we_force_no_transition");}}
const CoreBuilderActionPlugin=__exports.CoreBuilderActionPlugin=class CoreBuilderActionPlugin extends Plugin{static id="coreBuilderAction";resources={builder_actions:{ClassAction,AttributeAction,StyleAction,DataAttributeAction,SetClassRangeAction,},system_classes:["o_we_force_no_transition"],};}
function getStyleValue(el,styleName){const computedStyle=window.getComputedStyle(el);const cssProps=CSS_SHORTHANDS[styleName]||[styleName];const cssValues=cssProps.map((cssProp)=>computedStyle.getPropertyValue(cssProp).trim());if(cssValues.length===4&&areCssValuesEqual(cssValues[3],cssValues[1],styleName)){cssValues.pop();}
if(cssValues.length===3&&areCssValuesEqual(cssValues[2],cssValues[0],styleName)){cssValues.pop();}
if(cssValues.length===2&&areCssValuesEqual(cssValues[1],cssValues[0],styleName)){cssValues.pop();}
return cssValues.join(" ");}
function setStyle(el,styleName,value,{extraClass,force=false,allowImportant=true}={}){const computedStyle=window.getComputedStyle(el);const cssProps=CSS_SHORTHANDS[styleName]||[styleName];for(const cssProp of cssProps){el.style.setProperty(cssProp,"");}
el.classList.remove(extraClass);const values=value.replace(/,\s/g,",").split(/\s+/g);while(values.length<cssProps.length){const len=values.length;const index=len==3?1:len==1||len==2?0:len-1;values.push(values[index]);}
let hasUserValue=false;const applyAllCSS=(values)=>{for(let i=cssProps.length-1;i>0;i--){hasUserValue=applyNeededCss(el,cssProps[i],values.pop(),computedStyle,{force,allowImportant,})||hasUserValue;}
hasUserValue=applyNeededCss(el,cssProps[0],values.join(" "),computedStyle,{force,allowImportant,})||hasUserValue;};applyAllCSS([...values]);if(extraClass){el.classList.toggle(extraClass,hasUserValue);if(hasUserValue){for(const cssProp of cssProps){el.style.removeProperty(cssProp);}
applyAllCSS(values);}}}
const ClassAction=__exports.ClassAction=class ClassAction extends BuilderAction{static id="classAction";getPriority({params:{mainParam:classNames}={}}){return(classNames||"")?.trim().split(/\s+/).filter(Boolean).length||0;}
isApplied({editingElement,params:{mainParam:classNames}={}}){if(classNames===undefined||classNames===""){return true;}
return classNames.split(" ").every((className)=>editingElement.classList.contains(className));}
apply({editingElement,params:{mainParam:classNames}={}}){for(const className of(classNames||"").split(" ")){if(className!==""){editingElement.classList.add(className);}}}
clean({editingElement,params:{mainParam:classNames}={}}){for(const className of(classNames||"").split(" ")){if(className!==""){editingElement.classList.remove(className);}}}}
class AttributeAction extends BuilderAction{static id="attributeAction";getValue({editingElement,params:{mainParam:attributeName}={}}){return editingElement.getAttribute(attributeName);}
isApplied({editingElement,params:{mainParam:attributeName}={},value}){if(value){return(editingElement.hasAttribute(attributeName)&&editingElement.getAttribute(attributeName)===value);}else{return!editingElement.hasAttribute(attributeName);}}
apply({editingElement,params:{mainParam:attributeName}={},value}){if(value){editingElement.setAttribute(attributeName,value);}else{editingElement.removeAttribute(attributeName);}}
clean({editingElement,params:{mainParam:attributeName}={}}){editingElement.removeAttribute(attributeName);}}
class DataAttributeAction extends BuilderAction{static id="dataAttributeAction";getValue({editingElement,params:{mainParam:attributeName}={}}){if(!/(^color|Color)($|(?=[A-Z]))/.test(attributeName)){return editingElement.dataset[attributeName];}
const color=normalizeColor(editingElement.dataset[attributeName]);return color;}
isApplied({editingElement,params:{mainParam:attributeName}={},value}){if(value){value=getValueFromVar(value.toString());return editingElement.dataset[attributeName]===value;}else{return!(attributeName in editingElement.dataset);}}
apply({editingElement,params:{mainParam:attributeName}={},value}){if(value){value=getValueFromVar(value.toString());editingElement.dataset[attributeName]=value;}else{delete editingElement.dataset[attributeName];}}
clean({editingElement,params:{mainParam:attributeName}={}}){delete editingElement.dataset[attributeName];}}
class SetClassRangeAction extends BuilderAction{static id="setClassRange";getValue({editingElement,params:{mainParam:classNames}}){for(const index in classNames){const className=classNames[index];if(editingElement.classList.contains(className)){return index;}}}
apply({editingElement,params:{mainParam:classNames},value:index}){for(const className of classNames){if(editingElement.classList.contains(className)){editingElement.classList.remove(className);}}
editingElement.classList.add(classNames[index]);}}
const StyleAction=__exports.StyleAction=class StyleAction extends BuilderAction{static id="styleAction";static dependencies=["color"];getValue({editingElement:el,params:{mainParam:styleName}}){if(styleName==="box-shadow"){const value=getStyleValue(el,styleName);const inset=value.includes("inset");let values=value.replace(/,\s/g,",").replace("inset","").trim().split(/\s+/g);const color=values.find((s)=>!s.match(/^\d/));values=values.join(" ").replace(color,"").trim();return`${color} ${values}${inset ? " inset" : ""}`;}else if(styleName==="border-width"||CSS_SHORTHANDS["border-width"].includes(styleName)){let value=getStyleValue(el,styleName);if(value.endsWith("px")){value=value.split(/\s+/g).map((singleValue)=>`${Math.ceil(parseFloat(singleValue))}px`).join(" ");}
return value;}else if(styleName==="row-gap"||styleName==="column-gap"){return parseInt(getStyleValue(el,styleName))||0;}else if(styleName==="width"){return el.style.width;}else if(styleName==="background-color"){return this.dependencies.color.getElementColors(el)["backgroundColor"];}else if(styleName==="color"){return this.dependencies.color.getElementColors(el)["color"];}
return this._getValueWithoutTransition(el,styleName);}
isApplied({editingElement:el,params:{mainParam:styleName},value}){const currentValue=this.getValue({editingElement:el,params:{mainParam:styleName},});return currentValue===value;}
apply({editingElement,params={},value}){if(!this.delegateTo("apply_custom_css_style",{editingElement,params,value})){this.applyCssStyle({editingElement,params,value});}}
applyCssStyle({editingElement,params={},value}){params={...params};const styleName=params.mainParam;delete params.mainParam;withoutTransition(editingElement,()=>{setStyle(editingElement,styleName,value,params);});}
_getValueWithoutTransition(el,styleName){return withoutTransition(el,()=>getStyleValue(el,styleName));}}
return __exports;});;

/* /html_builder/static/src/core/core_plugins.js */
odoo.define('@html_builder/core/core_plugins',['@html_builder/core/anchor/anchor_plugin','@html_builder/core/builder_actions_plugin','@html_builder/core/builder_component_plugin','@html_builder/core/builder_options_plugin','@html_builder/core/builder_overlay/builder_overlay_plugin','@html_builder/core/cached_model_plugin','@html_builder/core/clone_plugin','@html_builder/core/core_builder_action_plugin','@html_builder/core/composite_action_plugin','@html_builder/core/customize_tab_plugin','@html_builder/core/disable_snippets_plugin','@html_builder/core/drag_and_drop_plugin','@html_builder/core/drop_zone_plugin','@html_builder/core/dropzone_selector_plugin','@html_builder/core/grid_layout/grid_layout_plugin','@html_builder/core/media_website_plugin','@html_builder/core/move_plugin','@html_builder/core/operation_plugin','@html_builder/core/overlay_buttons/overlay_buttons_plugin','@html_builder/core/remove_plugin','@html_builder/core/save_plugin','@html_builder/core/save_snippet_plugin','@html_builder/core/setup_editor_plugin','@html_builder/core/version_control_plugin','@html_builder/core/visibility_plugin'],function(require){'use strict';let __exports={};const{AnchorPlugin}=require("@html_builder/core/anchor/anchor_plugin");const{BuilderActionsPlugin}=require("@html_builder/core/builder_actions_plugin");const{BuilderComponentPlugin}=require("@html_builder/core/builder_component_plugin");const{BuilderOptionsPlugin}=require("@html_builder/core/builder_options_plugin");const{BuilderOverlayPlugin}=require("@html_builder/core/builder_overlay/builder_overlay_plugin");const{CachedModelPlugin}=require("@html_builder/core/cached_model_plugin");const{ClonePlugin}=require("@html_builder/core/clone_plugin");const{CoreBuilderActionPlugin}=require("@html_builder/core/core_builder_action_plugin");const{CompositeActionPlugin}=require("@html_builder/core/composite_action_plugin");const{CustomizeTabPlugin}=require("@html_builder/core/customize_tab_plugin");const{DisableSnippetsPlugin}=require("@html_builder/core/disable_snippets_plugin");const{DragAndDropPlugin}=require("@html_builder/core/drag_and_drop_plugin");const{DropZonePlugin}=require("@html_builder/core/drop_zone_plugin");const{DropZoneSelectorPlugin}=require("@html_builder/core/dropzone_selector_plugin");const{GridLayoutPlugin}=require("@html_builder/core/grid_layout/grid_layout_plugin");const{MediaWebsitePlugin}=require("@html_builder/core/media_website_plugin");const{MovePlugin}=require("@html_builder/core/move_plugin");const{OperationPlugin}=require("@html_builder/core/operation_plugin");const{OverlayButtonsPlugin}=require("@html_builder/core/overlay_buttons/overlay_buttons_plugin");const{RemovePlugin}=require("@html_builder/core/remove_plugin");const{SavePlugin}=require("@html_builder/core/save_plugin");const{SaveSnippetPlugin}=require("@html_builder/core/save_snippet_plugin");const{SetupEditorPlugin}=require("@html_builder/core/setup_editor_plugin");const{VersionControlPlugin}=require("@html_builder/core/version_control_plugin");const{VisibilityPlugin}=require("@html_builder/core/visibility_plugin");const CORE_PLUGINS=__exports.CORE_PLUGINS=[BuilderOptionsPlugin,BuilderActionsPlugin,BuilderComponentPlugin,OperationPlugin,BuilderOverlayPlugin,OverlayButtonsPlugin,MovePlugin,GridLayoutPlugin,DragAndDropPlugin,RemovePlugin,ClonePlugin,SaveSnippetPlugin,AnchorPlugin,DropZonePlugin,DisableSnippetsPlugin,MediaWebsitePlugin,SetupEditorPlugin,SavePlugin,VisibilityPlugin,DropZoneSelectorPlugin,CachedModelPlugin,CoreBuilderActionPlugin,CompositeActionPlugin,CustomizeTabPlugin,VersionControlPlugin,];return __exports;});;

/* /html_builder/static/src/core/customize_tab_plugin.js */
odoo.define('@html_builder/core/customize_tab_plugin',['@html_editor/plugin','@odoo/owl','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{reactive}=require("@odoo/owl");const{registry}=require("@web/core/registry");const CustomizeTabPlugin=__exports.CustomizeTabPlugin=class CustomizeTabPlugin extends Plugin{static id="customizeTab";static shared=["getCustomizeComponent","openCustomizeComponent","closeCustomizeComponent"];resources={post_redo_handlers:()=>this.closeCustomizeComponent(),post_undo_handlers:()=>this.closeCustomizeComponent(),change_current_options_containers_listeners:()=>this.closeCustomizeComponent(),};setup(){this.customizeComponent=reactive({component:null,props:{},editingEls:null,});this.closeCustomizeComponent=this.closeCustomizeComponent.bind(this);}
getCustomizeComponent(){return this.customizeComponent;}
openCustomizeComponent(component,editingEls,props={}){this.customizeComponent.component=component;this.customizeComponent.editingEls=editingEls;this.customizeComponent.props={...props,onClose:this.closeCustomizeComponent,};}
closeCustomizeComponent(){if(this.customizeComponent){this.customizeComponent.component=null;this.customizeComponent.editingEls=null;this.customizeComponent.props={};}}}
registry.category("website-plugins").add(CustomizeTabPlugin.id,CustomizeTabPlugin);return __exports;});;

/* /html_builder/static/src/core/dependency_manager.js */
odoo.define('@html_builder/core/dependency_manager',['@odoo/owl','@web/core/utils/timing'],function(require){'use strict';let __exports={};const{EventBus}=require("@odoo/owl");const{batched}=require("@web/core/utils/timing");const DependencyManager=__exports.DependencyManager=class DependencyManager extends EventBus{constructor(){super();this.dependencies=[];this.dependenciesMap={};this.count=0;this.dirty=false;this.triggerDependencyUpdated=batched(()=>{this.trigger("dependency-updated");});}
update(){this.dependenciesMap={};for(const[id,value,ignored]of this.dependencies.slice().reverse()){if(ignored&&id in this.dependenciesMap){continue;}
this.dependenciesMap[id]=value;}
this.dirty=false;}
add(id,value,ignored=false){if(!ignored||!(id in this.dependenciesMap)){this.triggerDependencyUpdated();}
this.dependencies.push([id,value,ignored]);this.dirty=true;}
get(id){if(this.dirty){this.update();}
return this.dependenciesMap[id];}
removeByValue(value){this.dependencies=this.dependencies.filter(([,v])=>v!==value);this.dirty=true;this.triggerDependencyUpdated();}}
return __exports;});;

/* /html_builder/static/src/core/disable_snippets_plugin.js */
odoo.define('@html_builder/core/disable_snippets_plugin',['@web/core/utils/objects','@html_editor/plugin','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{omit}=require("@web/core/utils/objects");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const DisableSnippetsPlugin=__exports.DisableSnippetsPlugin=class DisableSnippetsPlugin extends Plugin{static id="disableSnippets";static dependencies=["setup_editor_plugin","dropzone","dropzone_selector"];static shared=["disableUndroppableSnippets"];resources={after_remove_handlers:this.disableUndroppableSnippets.bind(this),post_undo_handlers:this.disableUndroppableSnippets.bind(this),post_redo_handlers:this.disableUndroppableSnippets.bind(this),on_mobile_preview_clicked:withSequence(20,this.disableUndroppableSnippets.bind(this)),};setup(){this.snippetModel=this.services["html_builder.snippets"];this._disableSnippets=this.disableUndroppableSnippets.bind(this);const editableDropdownEls=this.editable.querySelectorAll(".dropdown-menu.o_editable");editableDropdownEls.forEach((dropdownEl)=>{const dropdownToggleEl=dropdownEl.parentNode.querySelector(".dropdown-toggle");this.addDomListener(dropdownToggleEl,"shown.bs.dropdown",this._disableSnippets);this.addDomListener(dropdownToggleEl,"hidden.bs.dropdown",this._disableSnippets);});const offcanvasEls=this.editable.querySelectorAll(".offcanvas");offcanvasEls.forEach((offcanvasEl)=>{this.addDomListener(offcanvasEl,"shown.bs.offcanvas",this._disableSnippets);this.addDomListener(offcanvasEl,"hidden.bs.offcanvas",this._disableSnippets);});this.disableUndroppableSnippets();}
disableUndroppableSnippets(){const editableAreaEls=this.dependencies["setup_editor_plugin"].getEditableAreas();const rootEl=this.dependencies.dropzone.getDropRootElement();const dropAreasBySelector=this.getDropAreas(editableAreaEls,rootEl);const checkSanitize=(el,snippetEl)=>{let forbidSanitize=false;for(const el of[snippetEl,...snippetEl.querySelectorAll("[data-snippet")]){const snippet=this.snippetModel.getOriginalSnippet(el.dataset.snippet);if(snippet&&snippet.forbidSanitize){forbidSanitize=snippet.forbidSanitize;if(forbidSanitize===true){break;}}}
if(forbidSanitize==="form"){return!el.closest('[data-oe-sanitize]:not([data-oe-sanitize="allow_form"])');}else{return forbidSanitize?!el.closest("[data-oe-sanitize]"):true;}};const canDrop=(snippet)=>{const snippetEl=snippet.content;return!!dropAreasBySelector.find(({selector,exclude,dropAreaEls})=>snippetEl.matches(selector)&&!snippetEl.matches(exclude)&&dropAreaEls.some((el)=>checkSanitize(el,snippetEl)));};const snippetGroups=this.snippetModel.snippetsByCategory["snippet_groups"];let areGroupsDisabled=false;if(!canDrop(snippetGroups[0])){snippetGroups.forEach((snippetGroup)=>(snippetGroup.isDisabled=true));areGroupsDisabled=true;}
const snippets=[];const ignoredCategories=["snippet_groups"];if(areGroupsDisabled){ignoredCategories.push(...["snippet_structure","snippet_custom"]);}
for(const category in omit(this.snippetModel.snippetsByCategory,...ignoredCategories)){snippets.push(...this.snippetModel.snippetsByCategory[category]);}
snippets.forEach((snippet)=>{snippet.isDisabled=!canDrop(snippet);});if(!areGroupsDisabled){snippetGroups.forEach((snippetGroup)=>{if(snippetGroup.groupName!=="custom"){snippetGroup.isDisabled=!snippets.find((snippet)=>snippet.groupName===snippetGroup.groupName&&!snippet.isDisabled);}else{const customSnippets=this.snippetModel.snippetsByCategory["snippet_custom"];snippetGroup.isDisabled=!customSnippets.find((snippet)=>!snippet.isDisabled);}});}}
getDropAreas(editableAreaEls,rootEl){const dropAreasBySelector=[];this.getResource("dropzone_selector").forEach((dropzoneSelector)=>{const{selector,exclude=false,dropIn,dropNear,excludeNearParent,}=dropzoneSelector;const dropAreaEls=[];if(dropNear){dropAreaEls.push(...this.dependencies.dropzone.getSelectorSiblings(editableAreaEls,rootEl,{selector:dropNear,excludeNearParent,}));}
if(dropIn){dropAreaEls.push(...this.dependencies.dropzone.getSelectorChildren(editableAreaEls,rootEl,{selector:dropIn,}));}
if(dropAreaEls.length){dropAreasBySelector.push({selector,exclude,dropAreaEls});}});return dropAreasBySelector;}}
return __exports;});;

/* /html_builder/static/src/core/disable_snippets_plugin_translation.js */
odoo.define('@html_builder/core/disable_snippets_plugin_translation',['@html_editor/plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const DisableSnippetsPlugin=__exports.DisableSnippetsPlugin=class DisableSnippetsPlugin extends Plugin{static id="disableSnippets";static shared=["disableUndroppableSnippets"];disableUndroppableSnippets(){}}
return __exports;});;

/* /html_builder/static/src/core/drag_and_drop_move_handle.js */
odoo.define('@html_builder/core/drag_and_drop_move_handle',['@odoo/owl','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{Component,onMounted}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const DragAndDropMoveHandle=__exports.DragAndDropMoveHandle=class DragAndDropMoveHandle extends Component{static template="html_builder.DragAndDropMoveHandle";static props={onRenderedCallback:{type:Function},};setup(){this.title=_t("Drag and move");onMounted(()=>{this.props.onRenderedCallback();});}}
return __exports;});;

/* /html_builder/static/src/core/drag_and_drop_plugin.js */
odoo.define('@html_builder/core/drag_and_drop_plugin',['@html_editor/plugin','@html_editor/utils/resource','@html_editor/utils/drag_and_drop','@web/core/utils/scrolling','@web/core/utils/ui','@web/core/utils/numbers','@html_builder/utils/grid_layout_utils','@html_builder/utils/utils','@html_builder/core/drag_and_drop_move_handle'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{useDragAndDrop}=require("@html_editor/utils/drag_and_drop");const{getScrollingElement}=require("@web/core/utils/scrolling");const{closest,touching}=require("@web/core/utils/ui");const{clamp}=require("@web/core/utils/numbers");const{rowSize}=require("@html_builder/utils/grid_layout_utils");const{isEditable,isVisible}=require("@html_builder/utils/utils");const{DragAndDropMoveHandle}=require("@html_builder/core/drag_and_drop_move_handle");const DragAndDropPlugin=__exports.DragAndDropPlugin=class DragAndDropPlugin extends Plugin{static id="dragAndDrop";static dependencies=["dropzone","history","operation","builderOptions"];resources={has_overlay_options:{hasOption:(el)=>this.isDraggable(el)},get_overlay_buttons:withSequence(1,{getButtons:this.getActiveOverlayButtons.bind(this),}),system_classes:["o_draggable"],clean_for_save_handlers:this.cleanForSave.bind(this),};setup(){this.dropzoneSelectors=this.getResource("dropzone_selector");this.overlayTarget=null;}
destroy(){this.draggableComponent?.destroy();this.draggableComponentImgs?.destroy();}
cleanForSave({root}){[root,...root.querySelectorAll(".o_draggable")].forEach((el)=>{el.classList.remove("o_draggable");});}
isDraggable(el){const isDraggable=isEditable(el.parentNode)&&!el.matches(".oe_unmovable")&&!!this.dropzoneSelectors.find(({selector,exclude=false})=>el.matches(selector)&&!el.matches(exclude));if(!isDraggable){return false;}
for(const isDraggable of this.getResource("is_draggable_handlers")){if(!isDraggable(el)){return false;}}
return true;}
getActiveOverlayButtons(target){if(!this.isDraggable(target)){this.overlayTarget=null;this.draggableComponent?.destroy();this.draggableComponentImgs?.destroy();return[];}
const buttons=[];this.overlayTarget=target;buttons.push({Component:DragAndDropMoveHandle,props:{onRenderedCallback:()=>{this.draggableComponent?.destroy();this.draggableComponentImgs?.destroy();this.draggableComponent=this.initDragAndDrop(".o_move_handle",".o_overlay_options",document.querySelector(".o_move_handle"));if(!this.overlayTarget.matches("section")){this.draggableComponentImgs=this.initDragAndDrop("img",".o_draggable",this.overlayTarget);}},},});return buttons;}
initDragAndDrop(handleSelector,elementsSelector,element){let dropzoneEls=[];let dragAndDropResolve;const iframeWindow=this.document.defaultView!==window?this.document.defaultView:false;const scrollingElement=()=>this.dependencies.dropzone.getDropRootElement()||getScrollingElement(this.document);const dragAndDropOptions={ref:{el:element},iframeWindow,cursor:"move",elements:elementsSelector,scrollingElement,handle:handleSelector,enable:()=>!!document.querySelector(".o_move_handle")||this.dragStarted,dropzones:()=>dropzoneEls,helper:({helperOffset})=>{const draggedEl=document.createElement("div");draggedEl.classList.add("o_drag_move_helper");Object.assign(draggedEl.style,{width:"24px",height:"24px",});document.body.append(draggedEl);helperOffset.x=12;helperOffset.y=12;return draggedEl;},onDragStart:({x,y})=>{const dragAndDropProm=new Promise((resolve)=>(dragAndDropResolve=()=>resolve()));this.dependencies.operation.next(async()=>await dragAndDropProm,{withLoadingEffect:false,});const restoreDragSavePoint=this.dependencies.history.makeSavePoint();this.cancelDragAndDrop=()=>{this.dragState.restoreCallbacks?.forEach((restore)=>restore());restoreDragSavePoint();dragAndDropResolve();this.dependencies["builderOptions"].updateContainers(this.overlayTarget);};this.dragStarted=true;this.dragState={};dropzoneEls=[];let targetRect=this.overlayTarget.getBoundingClientRect();const gridRowSize=rowSize;const boundedYMousePosition=clamp(y,targetRect.top+12,targetRect.bottom-gridRowSize);this.dragState.mousePositionYOnElement=boundedYMousePosition-targetRect.y;this.dragState.mousePositionXOnElement=x-targetRect.x;const restoreCallbacks=[];for(const prepareDrag of this.getResource("on_prepare_drag_handlers")){const restore=prepareDrag();restoreCallbacks.push(restore);}
this.dragState.restoreCallbacks=restoreCallbacks;this.dispatchTo("on_element_dragged_handlers",{draggedEl:this.overlayTarget,dragState:this.dragState,});targetRect=this.overlayTarget.getBoundingClientRect();this.dragState.startTop=targetRect.top;this.dragState.startMiddle=targetRect.left+targetRect.width/2;this.dragState.overFirstDropzone=true;const targetStyle=window.getComputedStyle(this.overlayTarget);const toInsertInline=targetStyle.display.includes("inline");const parentEl=this.overlayTarget.parentElement;this.dragState.startParentEl=parentEl;this.dragState.startPreviousEl=this.overlayTarget.previousElementSibling;this.dragState.startNextEl=this.overlayTarget.nextElementSibling;const visibleSiblingEl=[...parentEl.children].find((el)=>el!==this.overlayTarget&&isVisible(el));if(parentEl.children.length===1||!visibleSiblingEl){const dropCloneEl=document.createElement("div");dropCloneEl.classList.add("oe_drop_clone");dropCloneEl.style.visibility="hidden";this.overlayTarget.after(dropCloneEl);this.dragState.dropCloneEl=dropCloneEl;}
const selectors=this.dependencies.dropzone.getSelectors(this.overlayTarget,true,true);this.overlayTarget.remove();this.dependencies["builderOptions"].deactivateContainers();dropzoneEls=this.dependencies.dropzone.activateDropzones(selectors,{toInsertInline,});},dropzoneOver:({dropzone})=>{const dropzoneEl=dropzone.el;if(this.dragState.overFirstDropzone){this.dragState.overFirstDropzone=false;const{startTop,startMiddle}=this.dragState;const helperRect={x:startMiddle-12,y:startTop-24,width:24,height:24,};const dropzoneRect=dropzoneEl.getBoundingClientRect();const dropzoneBottom=dropzoneRect.bottom;const isGluedToDropzone=startTop>=dropzoneBottom&&!!touching([dropzoneEl],helperRect).length;if(isGluedToDropzone){return;}}
dropzoneEl.classList.add("invisible");dropzoneEl.after(this.overlayTarget);this.dragState.currentDropzoneEl=dropzoneEl;this.dispatchTo("on_element_over_dropzone_handlers",{draggedEl:this.overlayTarget,dragState:this.dragState,});},onDrag:({x,y})=>{if(!this.dragState.currentDropzoneEl){return;}
this.dispatchTo("on_element_move_handlers",{draggedEl:this.overlayTarget,dragState:this.dragState,x,y,});},dropzoneOut:()=>{const dropzoneEl=this.dragState.currentDropzoneEl;if(!dropzoneEl){return;}
this.dispatchTo("on_element_out_dropzone_handlers",{draggedEl:this.overlayTarget,dragState:this.dragState,});this.overlayTarget.remove();dropzoneEl.classList.remove("invisible");this.dragState.currentDropzoneEl=null;},onDragEnd:async({x,y})=>{this.dragStarted=false;let currentDropzoneEl=this.dragState.currentDropzoneEl;if(currentDropzoneEl){this.dispatchTo("on_element_dropped_over_handlers",{droppedEl:this.overlayTarget,dragState:this.dragState,});}
if(!currentDropzoneEl){const closestDropzoneEl=closest(dropzoneEls,{x,y});if(!closestDropzoneEl){this.cancelDragAndDrop();return;}
currentDropzoneEl=closestDropzoneEl;currentDropzoneEl.after(this.overlayTarget);this.dispatchTo("on_element_dropped_near_handlers",{droppedEl:this.overlayTarget,dropzoneEl:currentDropzoneEl,dragState:this.dragState,});}
this.dependencies.dropzone.removeDropzones();this.dragState.dropCloneEl?.remove();for(const onElementDropped of this.getResource("on_element_dropped_handlers")){const cancel=await onElementDropped({droppedEl:this.overlayTarget,dragState:this.dragState,});if(cancel){this.cancelDragAndDrop();return;}}
this.dragState.restoreCallbacks.forEach((restore)=>restore());this.dragState.restoreCallbacks=null;let hasSamePositionAsStart;if("hasSamePositionAsStart"in this.dragState){hasSamePositionAsStart=this.dragState.hasSamePositionAsStart();}else{const previousEl=this.overlayTarget.previousElementSibling;const nextEl=this.overlayTarget.nextElementSibling;const{startPreviousEl,startNextEl}=this.dragState;hasSamePositionAsStart=startPreviousEl===previousEl&&startNextEl===nextEl;}
if(!hasSamePositionAsStart){this.dependencies.history.addStep();}else{this.cancelDragAndDrop();return;}
dragAndDropResolve();this.dependencies["builderOptions"].updateContainers(this.overlayTarget);},};return useDragAndDrop(dragAndDropOptions);}}
return __exports;});;

/* /html_builder/static/src/core/drop_zone_plugin.js */
odoo.define('@html_builder/core/drop_zone_plugin',['@html_builder/utils/utils','@html_editor/plugin','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{isVisible}=require("@html_builder/utils/utils");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const DropZonePlugin=__exports.DropZonePlugin=class DropZonePlugin extends Plugin{static id="dropzone";static dependencies=["history","setup_editor_plugin"];static shared=["activateDropzones","removeDropzones","getDropRootElement","getSelectorSiblings","getSelectorChildren","getSelectors",];setup(){this.snippetModel=this.services["html_builder.snippets"];this.dropzoneSelectors=this.getResource("dropzone_selector");this.iframe=this.document.defaultView.frameElement;}
getDropRootElement(){const openModalEl=this.editable.querySelector(".modal.show");if(openModalEl&&isVisible(openModalEl)){return openModalEl;}
const openDropdownEl=this.editable.querySelector(".o_editable.dropdown-menu.show, .dropdown-menu.show .o_editable.dropdown-menu");if(openDropdownEl){return openDropdownEl;}
const openOffcanvasEl=this.editable.querySelector(".offcanvas.show");if(openOffcanvasEl){return openOffcanvasEl.querySelector(".offcanvas-body");}}
getSelectors(snippetEl,checkLockedWithin=false,withGrids=false){let selectorChildren=[];let selectorSiblings=[];const selectorExcludeAncestor=[];const selectorLockedWithin=[];const editableAreaEls=this.dependencies.setup_editor_plugin.getEditableAreas();const rootEl=this.getDropRootElement();this.dropzoneSelectors.forEach((dropzoneSelector)=>{const{selector,exclude=false,dropIn,dropNear,dropLockWithin,excludeAncestor,excludeNearParent,}=dropzoneSelector;if(snippetEl.matches(selector)&&!snippetEl.matches(exclude)){if(dropNear){selectorSiblings.push(...this.getSelectorSiblings(editableAreaEls,rootEl,{selector:dropNear,excludeNearParent,}));}
if(dropIn){selectorChildren.push(...this.getSelectorChildren(editableAreaEls,rootEl,{selector:dropIn}));}
if(dropLockWithin){selectorLockedWithin.push(dropLockWithin);}
if(excludeAncestor){selectorExcludeAncestor.push(excludeAncestor);}}});selectorSiblings=selectorSiblings.filter((el)=>!snippetEl.contains(el));selectorChildren=selectorChildren.filter((el)=>!snippetEl.contains(el));if(selectorExcludeAncestor.length){const excludeAncestor=selectorExcludeAncestor.join(",");selectorSiblings=selectorSiblings.filter((el)=>!el.closest(excludeAncestor));selectorChildren=selectorChildren.filter((el)=>!el.closest(excludeAncestor));}
if(checkLockedWithin&&selectorLockedWithin.length){const lockedAncestorsSelector=selectorLockedWithin.join(",");const closestLockedAncestorEl=snippetEl.closest(lockedAncestorsSelector);const filterFct=(el)=>el.closest(lockedAncestorsSelector)===closestLockedAncestorEl;selectorSiblings=selectorSiblings.filter(filterFct);selectorChildren=selectorChildren.filter(filterFct);}
let forbidSanitize=false;for(const el of[snippetEl,...snippetEl.querySelectorAll("[data-snippet")]){const snippet=this.snippetModel.getOriginalSnippet(el.dataset.snippet);if(snippet&&snippet.forbidSanitize){forbidSanitize=snippet.forbidSanitize;if(forbidSanitize===true){break;}}}
const selectorSanitized=new Set();const filterSanitized=(el)=>{if(el.closest('[data-oe-sanitize="no_block"]')){return false;}
let sanitizedZoneEl;if(forbidSanitize==="form"){sanitizedZoneEl=el.closest('[data-oe-sanitize]:not([data-oe-sanitize="allow_form"]):not([data-oe-sanitize="no_block"])');}else if(forbidSanitize){sanitizedZoneEl=el.closest('[data-oe-sanitize]:not([data-oe-sanitize="no_block"])');}
if(sanitizedZoneEl){selectorSanitized.add(sanitizedZoneEl);return false;}
return true;};selectorSiblings=selectorSiblings.filter((el)=>filterSanitized(el));selectorChildren=selectorChildren.filter((el)=>filterSanitized(el));const selectorGrids=new Set();if(withGrids){const filterGrids=(potentialGridEl)=>{if(potentialGridEl.matches(".o_grid_mode")){selectorGrids.add(potentialGridEl);return false;}
return true;};selectorSiblings=selectorSiblings.filter((el)=>filterGrids(el.parentElement));selectorChildren=selectorChildren.filter((el)=>filterGrids(el));}
return{selectorSiblings:new Set(selectorSiblings),selectorChildren:new Set(selectorChildren),selectorSanitized,selectorGrids,};}
checkSelectors(el,rootEl){if(rootEl&&!rootEl.contains(el)){return false;}
if(!isVisible(el)){return false;}
if((el.closest(".dropdown-menu")&&!el.closest(".dropdown-menu.show"))||(el.closest(".offcanvas")&&!el.closest(".offcanvas.show"))){return false;}
return true;}
getSelectorSiblings(editableAreaEls,rootEl,{selector,excludeParent=false}){const filterFct=(el)=>this.checkSelectors(el,rootEl)&&!el.parentNode.closest("[data-oe-type=image]")&&!el.matches(".o_not_editable *")&&!el.matches(".o_we_no_overlay")&&(excludeParent?!el.parentNode.matches(excludeParent):true);const dropAreaEls=[];editableAreaEls.forEach((el)=>{const areaEls=[...el.querySelectorAll(selector)].filter(filterFct);dropAreaEls.push(...areaEls);});return dropAreaEls;}
getSelectorChildren(editableAreaEls,rootEl,{selector}){const filterFct=(el)=>this.checkSelectors(el,rootEl)&&!el.closest("[data-oe-type=image]")&&!el.matches('.o_not_editable :not([contenteditable="true"]), .o_not_editable');const dropAreaEls=[];editableAreaEls.forEach((el)=>{const areaEls=el.matches(selector)?[el]:[];areaEls.push(...el.querySelectorAll(selector));dropAreaEls.push(...areaEls.filter(filterFct));});return dropAreaEls;}
createDropzone(parentEl,isVertical,style){const dropzoneEl=this.document.createElement("div");dropzoneEl.classList.add("oe_drop_zone","oe_insert");const editorMessagesAttributes=["data-editor-message-default","data-editor-message","data-editor-sub-message",];for(const messageAttribute of editorMessagesAttributes){const message=parentEl.getAttribute(messageAttribute);if(message){dropzoneEl.setAttribute(messageAttribute,message);}}
if(isVertical){dropzoneEl.classList.add("oe_vertical");}
Object.assign(dropzoneEl.style,style);return dropzoneEl;}
createSanitizedDropzone(){const dropzoneEl=this.document.createElement("div");dropzoneEl.classList.add("oe_drop_zone","oe_insert","oe_sanitized_drop_zone","text-center","text-uppercase");const messageEl=this.document.createElement("p");messageEl.textContent=_t("For technical reasons, this block cannot be dropped here");dropzoneEl.prepend(messageEl);return dropzoneEl;}
createGridDropzone(rowEl){const columnCount=12;const rowCount=parseInt(rowEl.dataset.rowCount);const dropzoneEl=this.document.createElement("div");dropzoneEl.classList.add("oe_drop_zone","oe_insert","oe_grid_zone");Object.assign(dropzoneEl.style,{gridArea:1+"/"+1+"/"+(rowCount+1)+"/"+(columnCount+1),minHeight:window.getComputedStyle(rowEl).height,width:window.getComputedStyle(rowEl).width,});return dropzoneEl;}
setDropzoneDirection(hookEl,parentEl,toInsertInline){let vertical=false;const style={};const hookStyle=window.getComputedStyle(hookEl);const parentStyle=window.getComputedStyle(parentEl);const float=hookStyle.float||hookStyle.cssFloat;const{display,flexDirection}=parentStyle;if(toInsertInline||float==="left"||float==="right"||(display==="flex"&&flexDirection==="row")){if(!toInsertInline){style.float=float;}
const parentPaddingX=parseFloat(parentStyle.paddingLeft)+parseFloat(parentStyle.paddingRight);const parentBorderX=parseFloat(parentStyle.borderLeft)+parseFloat(parentStyle.borderRight);const hookMarginX=parseFloat(hookStyle.marginLeft)+parseFloat(hookStyle.marginRight);const parentContentWidth=parentEl.getBoundingClientRect().width-parentPaddingX-parentBorderX;const hookOuterWidth=hookEl.getBoundingClientRect().width+hookMarginX;if(parseInt(parentContentWidth)!==parseInt(hookOuterWidth)){vertical=true;const hookOuterHeight=hookEl.getBoundingClientRect().height;style.height=Math.max(hookOuterHeight,30)+"px";if(toInsertInline){style.display="inline-block";style.verticalAlign="middle";style.float="none";}}}
return{vertical,style};}
activateDropzones({selectorSiblings,selectorChildren,selectorSanitized,selectorGrids},{toInsertInline,isContentInIframe=true}={}){const isIgnored=(el)=>el.matches(".o_we_no_overlay")||!isVisible(el);const hookEls=[];for(const parentEl of selectorChildren){const validChildrenEls=[...parentEl.children].filter((el)=>!isIgnored(el));hookEls.push(...validChildrenEls);parentEl.prepend(this.createDropzone(parentEl));}
hookEls.push(...selectorSiblings);for(const hookEl of hookEls){const parentEl=hookEl.parentElement;const{vertical,style}=this.setDropzoneDirection(hookEl,parentEl,toInsertInline);let previousEl=hookEl.previousElementSibling;while(previousEl&&isIgnored(previousEl)){previousEl=previousEl.previousElementSibling;}
if(!previousEl||!previousEl.classList.contains("oe_drop_zone")){hookEl.before(this.createDropzone(parentEl,vertical,style));}
if(hookEl.classList.contains("oe_drop_clone")){continue;}
let nextEl=hookEl.nextElementSibling;while(nextEl&&isIgnored(nextEl)){nextEl=nextEl.nextElementSibling;}
if(!nextEl||!nextEl.classList.contains("oe_drop_zone")){hookEl.after(this.createDropzone(parentEl,vertical,style));}}
for(const sanitizedZoneEl of selectorSanitized){sanitizedZoneEl.style.position="relative";sanitizedZoneEl.prepend(this.createSanitizedDropzone());}
this.sanitizedZoneEls=selectorSanitized;for(const rowEl of selectorGrids){rowEl.append(this.createGridDropzone(rowEl));}
if(isContentInIframe){const iframeRect=this.iframe.getBoundingClientRect();const dropzoneEls=[...this.editable.querySelectorAll(".oe_drop_zone")];dropzoneEls.forEach((dropzoneEl)=>{dropzoneEl.oldGetBoundingRect=dropzoneEl.getBoundingClientRect;dropzoneEl.getBoundingClientRect=()=>{const rect=dropzoneEl.oldGetBoundingRect();rect.x+=iframeRect.x;rect.y+=iframeRect.y;return rect;};});}
return[...this.editable.querySelectorAll(".oe_drop_zone:not(.oe_sanitized_drop_zone)")];}
removeDropzones(){this.editable.querySelectorAll(".oe_drop_zone").forEach((dropzoneEl)=>{dropzoneEl.remove();});this.sanitizedZoneEls.forEach((sanitizedZoneEl)=>sanitizedZoneEl.style.removeProperty("position"));this.sanitizedZoneEls=[];}}
return __exports;});;

/* /html_builder/static/src/core/dropzone_selector_plugin.js */
odoo.define('@html_builder/core/dropzone_selector_plugin',['@html_editor/plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const card_parent_handlers=".s_three_columns .row > div, .s_comparisons .row > div, .s_cards_grid .row > div, .s_cards_soft .row > div, .s_product_list .row > div, .s_newsletter_centered .row > div, .s_company_team_spotlight .row > div, .s_comparisons_horizontal .row > div, .s_company_team_grid .row > div, .s_company_team_card .row > div, .s_carousel_cards_item";const special_cards_selector=`.s_card.s_timeline_card, div:is(${card_parent_handlers}) > .s_card`;const so_snippet_addition_drop_in=":not(p).oe_structure:not(.oe_structure_solo), :not(.o_mega_menu):not(p)[data-oe-type=html], :not(p).oe_structure.oe_structure_solo:not(:has(> section:not(.s_snippet_group), > div:not(.o_hook_drop_zone)))";const DropZoneSelectorPlugin=__exports.DropZoneSelectorPlugin=class DropZoneSelectorPlugin extends Plugin{static id="dropzone_selector";resources={dropzone_selector:[{selector:".accordion > .accordion-item",dropIn:".accordion:has(> .accordion-item)",},{plugin:this,get selector(){return this.plugin.getResource("so_snippet_addition_selector").join(", ");},dropIn:so_snippet_addition_drop_in,},{plugin:this,get selector(){return[...this.plugin.getResource("so_content_addition_selector"),".s_card",].join(", ");},exclude:`${special_cards_selector}`,dropIn:"nav",get dropNear(){return`p, h1, h2, h3, ul, ol, div:not(.o_grid_item_image) > img, div:not(.o_grid_item_image) > a, .btn, ${this.plugin
                        .getResource("so_content_addition_selector")
                        .join(", ")}, .s_card:not(${special_cards_selector})`;},excludeNearParent:so_snippet_addition_drop_in,},{selector:".row > div",exclude:".s_col_no_resize.row > div, .s_col_no_resize",dropNear:".row:not(.s_col_no_resize) > div",},{selector:".row > div",exclude:".s_col_no_resize.row > div, .s_col_no_resize",dropNear:".row.o_grid_mode > div",},],so_snippet_addition_selector:["section",".parallax",".s_hr"],so_content_addition_selector:["blockquote",".s_text_highlight",".s_donation",".o_snippet_drop_in_only",],};}
return __exports;});;

/* /html_builder/static/src/core/grid_layout/grid_layout_plugin.js */
odoo.define('@html_builder/core/grid_layout/grid_layout_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@web/core/utils/numbers','@html_builder/utils/grid_layout_utils','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{clamp}=require("@web/core/utils/numbers");const{addBackgroundGrid,additionalRowLimit,checkIfImageColumn,cleanUpGrid,convertColumnToGrid,convertToNormalColumn,getGridItemProperties,getGridProperties,resizeGrid,setElementToMaxZindex,toggleGridMode,hasGridLayoutOption,}=require("@html_builder/utils/grid_layout_utils");const{isMobileView}=require("@html_builder/utils/utils");const gridItemSelector=".row.o_grid_mode > div.o_grid_item";function isGridItem(el){return el.matches(gridItemSelector);}
const GridLayoutPlugin=__exports.GridLayoutPlugin=class GridLayoutPlugin extends Plugin{static id="gridLayout";static dependencies=["history","selection"];resources={get_overlay_buttons:withSequence(0,{getButtons:this.getActiveOverlayButtons.bind(this),}),on_cloned_handlers:this.onCloned.bind(this),on_snippet_preview_handlers:this.onSnippetPreviewOrDropped.bind(this),on_snippet_dropped_handlers:this.onSnippetPreviewOrDropped.bind(this),is_draggable_handlers:this.isDraggable.bind(this),on_element_dragged_handlers:this.onElementDragged.bind(this),on_element_over_dropzone_handlers:this.onDropzoneOver.bind(this),on_element_move_handlers:this.onDragMove.bind(this),on_element_out_dropzone_handlers:this.onDropzoneOut.bind(this),on_element_dropped_over_handlers:this.onElementDroppedOver.bind(this),on_element_dropped_near_handlers:this.onElementDroppedNear.bind(this),on_element_dropped_handlers:this.onElementDropped.bind(this),};setup(){this.overlayTarget=null;}
getActiveOverlayButtons(target){if(!isGridItem(target)){this.overlayTarget=null;return[];}
const buttons=[];this.overlayTarget=target;if(!isMobileView(this.overlayTarget)){buttons.push({class:"o_send_back oi",title:_t("Send to back"),handler:this.sendGridItemToBack.bind(this),},{class:"o_bring_front oi",title:_t("Bring to front"),handler:this.bringGridItemToFront.bind(this),});}
return buttons;}
onCloned({cloneEl}){if(isGridItem(cloneEl)){let{rowStart,rowEnd,columnStart,columnEnd}=getGridItemProperties(cloneEl);const columnSpan=columnEnd-columnStart;columnStart=columnEnd===13?1:columnStart+1;columnEnd=columnStart+columnSpan;const newGridArea=`${rowStart + 1} / ${columnStart} / ${rowEnd + 1} / ${columnEnd}`;cloneEl.style.gridArea=newGridArea;const rowEl=cloneEl.parentElement;setElementToMaxZindex(cloneEl,rowEl);resizeGrid(rowEl);}}
onSnippetPreviewOrDropped({snippetEl}){this.adjustGridItem(snippetEl);}
adjustGridItem(el){const gridItemEl=el.closest(".o_grid_item");if(gridItemEl&&gridItemEl!==el&&!isMobileView(gridItemEl)){const rowEl=gridItemEl.parentElement;const{rowGap,rowSize}=getGridProperties(rowEl);const{rowStart,rowEnd}=getGridItemProperties(gridItemEl);const oldRowSpan=rowEnd-rowStart;const{borderTop,borderBottom,paddingTop,paddingBottom}=window.getComputedStyle(gridItemEl);const borderY=parseFloat(borderTop)+parseFloat(borderBottom);const paddingY=parseFloat(paddingTop)+parseFloat(paddingBottom);const height=gridItemEl.scrollHeight+borderY+paddingY;const rowSpan=Math.ceil((height+rowGap)/(rowSize+rowGap));gridItemEl.style.gridRowEnd=rowStart+rowSpan;gridItemEl.classList.remove(`g-height-${oldRowSpan}`);gridItemEl.classList.add(`g-height-${rowSpan}`);resizeGrid(rowEl);return()=>{gridItemEl.style.gridRowEnd=rowEnd;gridItemEl.classList.remove(`g-height-${rowSpan}`);gridItemEl.classList.add(`g-height-${oldRowSpan}`);resizeGrid(rowEl);};}
return()=>{};}
sendGridItemToBack(){const rowEl=this.overlayTarget.parentNode;const columnEls=[...rowEl.children].filter((el)=>el!==this.overlayTarget);const minZindex=Math.min(...columnEls.map((el)=>el.style.zIndex));if(minZindex>0){this.overlayTarget.style.zIndex=minZindex-1;}else{columnEls.forEach((columnEl)=>columnEl.style.zIndex++);this.overlayTarget.style.zIndex=0;}}
bringGridItemToFront(){const rowEl=this.overlayTarget.parentNode;setElementToMaxZindex(this.overlayTarget,rowEl);}
isDraggable(targetEl){const isColumn=targetEl.parentElement?.classList.contains("row");if(isColumn&&isMobileView(targetEl)){return false;}
return true;}
onElementDragged({draggedEl,dragState}){const parentEl=draggedEl.parentElement;const isColumn=parentEl.classList.contains("row");if(isColumn){const rowEl=parentEl;const containerEl=rowEl.parentElement;const columnEl=draggedEl;const hasGridOption=hasGridLayoutOption(containerEl);const isRowInGridMode=rowEl.classList.contains("o_grid_mode");const allowGridMode=hasGridOption||isRowInGridMode;if(allowGridMode){if(!isRowInGridMode){const preserveSelection=this.dependencies.selection.preserveSelection;toggleGridMode(containerEl,preserveSelection);}
const gridItemProps=getGridItemProperties(columnEl);const{columnStart,columnEnd,rowStart,rowEnd}=gridItemProps;dragState.columnSpan=columnEnd-columnStart;dragState.rowSpan=rowEnd-rowStart;const{gridArea,zIndex}=gridItemProps;dragState.startGridArea=gridArea;dragState.startZindex=zIndex;dragState.startGridEl=rowEl;}else{const style=window.getComputedStyle(columnEl);const{borderLeft,borderRight,borderTop,borderBottom}=style;const borderX=parseFloat(borderLeft)+parseFloat(borderRight);const borderY=parseFloat(borderTop)+parseFloat(borderBottom);const isImageColumn=checkIfImageColumn(columnEl);const sizedEl=isImageColumn?columnEl.querySelector("img"):columnEl;dragState.columnWidth=sizedEl.scrollWidth+borderX;dragState.columnHeight=sizedEl.scrollHeight+borderY;}}}
onDropzoneOver({draggedEl,dragState}){const dropzoneEl=dragState.currentDropzoneEl;if(!dropzoneEl.classList.contains("oe_grid_zone")){dragState.restoreGridItem=this.adjustGridItem(draggedEl);return;}
const rowEl=dropzoneEl.parentElement;const columnEl=draggedEl;if(!columnEl.classList.contains("o_grid_item")){const{columnWidth,columnHeight}=dragState;const spans=convertColumnToGrid(rowEl,columnEl,columnWidth,columnHeight);dragState.columnSpan=spans.columnSpan;dragState.rowSpan=spans.rowSpan;}
const{columnSpan,rowSpan}=dragState;const dragHelperEl=document.createElement("div");dragHelperEl.classList.add("o_we_drag_helper");dragHelperEl.style.gridArea=`1 / 1 / ${1 + rowSpan} / ${1 + columnSpan}`;rowEl.append(dragHelperEl);const backgroundGridEl=addBackgroundGrid(rowEl,rowSpan);const rowCount=Math.max(rowEl.dataset.rowCount,rowSpan);dropzoneEl.style.gridRowEnd=rowCount+1;const{startGridEl,startZindex}=dragState;if(rowEl===startGridEl){columnEl.style.zIndex=startZindex;}else{setElementToMaxZindex(columnEl,rowEl);}
setElementToMaxZindex(backgroundGridEl,rowEl);setElementToMaxZindex(dragHelperEl,rowEl);const{rowGap,rowSize,columnGap,columnSize}=getGridProperties(rowEl);const columnHeight=rowSpan*(rowSize+rowGap)-rowGap;const columnWidth=columnSpan*(columnSize+columnGap)-columnGap;Object.assign(columnEl.style,{height:`${columnHeight}px`,width:`${columnWidth}px`,position:"absolute",gridArea:"",});rowEl.style.position="relative";Object.assign(dragState,{startHeight:rowEl.clientHeight,currentHeight:rowEl.clientHeight,dragHelperEl,backgroundGridEl,overGrid:true,});}
onDropzoneOut({draggedEl,dragState}){const dropzoneEl=dragState.currentDropzoneEl;if(!dropzoneEl.classList.contains("oe_grid_zone")){if("restoreGridItem"in dragState){dragState.restoreGridItem();delete dragState.restoreGridItem;}
return;}
dragState.overGrid=false;const columnEl=draggedEl;const rowEl=dropzoneEl.parentElement;const{dragHelperEl,backgroundGridEl}=dragState;cleanUpGrid(rowEl,columnEl,dragHelperEl,backgroundGridEl);columnEl.style.removeProperty("z-index");resizeGrid(rowEl);const rowCount=parseInt(rowEl.dataset.rowCount);dropzoneEl.style.gridRowEnd=Math.max(rowCount+1,1);}
onElementDroppedOver({droppedEl,dragState}){const dropzoneEl=dragState.currentDropzoneEl;const columnEl=droppedEl;if(dropzoneEl.classList.contains("oe_grid_zone")){dragState.overGrid=false;const rowEl=dropzoneEl.parentElement;const{dragHelperEl,backgroundGridEl}=dragState;columnEl.style.gridArea=dragHelperEl.style.gridArea;cleanUpGrid(rowEl,columnEl,dragHelperEl,backgroundGridEl);resizeGrid(rowEl);}else if(columnEl.classList.contains("o_grid_item")){convertToNormalColumn(columnEl);}}
onElementDroppedNear({droppedEl,dropzoneEl,dragState}){const columnEl=droppedEl;if(dropzoneEl.classList.contains("oe_grid_zone")){const rowEl=dropzoneEl.parentElement;if(!columnEl.classList.contains("o_grid_item")){const{columnWidth,columnHeight}=dragState;const spans=convertColumnToGrid(rowEl,columnEl,columnWidth,columnHeight);dragState.columnSpan=spans.columnSpan;dragState.rowSpan=spans.rowSpan;}
const{columnSpan,rowSpan}=dragState;columnEl.style.gridArea=`1 / 1 / ${1 + rowSpan} / ${1 + columnSpan}`;const{startGridEl,startZindex}=dragState;if(rowEl===startGridEl){columnEl.style.zIndex=startZindex;}else{setElementToMaxZindex(columnEl,rowEl);}
resizeGrid(rowEl);}else if(columnEl.classList.contains("o_grid_item")){convertToNormalColumn(columnEl);}}
onDragMove({draggedEl,dragState,x,y}){if(!dragState.overGrid){return;}
const columnEl=draggedEl;const columnHeight=parseFloat(columnEl.style.height);const columnWidth=parseFloat(columnEl.style.width);const rowEl=columnEl.parentElement;const rowRect=rowEl.getBoundingClientRect();const rowTop=rowRect.top;const rowLeft=rowRect.left;const{mousePositionYOnElement,mousePositionXOnElement}=dragState;let top=y-rowTop-mousePositionYOnElement;let left=x-rowLeft-mousePositionXOnElement;top=top<0?0:top;left=clamp(left,0,rowEl.clientWidth-columnWidth);const bottom=top+columnHeight;columnEl.style.top=`${top}px`;columnEl.style.left=`${left}px`;const{rowGap,rowSize,columnGap,columnSize}=getGridProperties(rowEl);const{columnSpan,rowSpan,dragHelperEl}=dragState;const rowStart=Math.round(top/(rowSize+rowGap))+1;const columnStart=Math.round(left/(columnSize+columnGap))+1;const rowEnd=rowStart+rowSpan;const columnEnd=columnStart+columnSpan;dragHelperEl.style.gridArea=`${rowStart} / ${columnStart} / ${rowEnd} / ${columnEnd}`;const dropzoneEl=dragState.currentDropzoneEl;const{startHeight,currentHeight,backgroundGridEl}=dragState;const rowOverflow=Math.round((bottom-currentHeight)/(rowSize+rowGap));const shouldUpdateRows=bottom>currentHeight||(bottom<=currentHeight&&bottom>startHeight);const rowCount=Math.max(rowEl.dataset.rowCount,rowSpan);const maxRowEnd=rowCount+additionalRowLimit+1;if(Math.abs(rowOverflow)>=1&&shouldUpdateRows){if(rowEnd<=maxRowEnd){const newGridEnd=parseInt(dropzoneEl.style.gridRowEnd)+rowOverflow;dropzoneEl.style.gridRowEnd=newGridEnd;backgroundGridEl.style.gridRowEnd=newGridEnd;dragState.currentHeight+=rowOverflow*(rowSize+rowGap);}else{dropzoneEl.style.gridRowEnd=maxRowEnd;backgroundGridEl.style.gridRowEnd=maxRowEnd;dragState.currentHeight=(maxRowEnd-1)*(rowSize+rowGap)-rowGap;}}}
onElementDropped({droppedEl,dragState}){const{startGridEl}=dragState;if(startGridEl){resizeGrid(startGridEl);}
if("restoreGridItem"in dragState){dragState.restoreGridItem();}
this.adjustGridItem(droppedEl);if(droppedEl.classList.contains("o_grid_item")){dragState.hasSamePositionAsStart=()=>{const parentEl=droppedEl.parentElement;const gridArea=droppedEl.style.gridArea;const{startGridEl,startGridArea}=dragState;return parentEl===startGridEl&&gridArea===startGridArea;};}}}
return __exports;});;

/* /html_builder/static/src/core/img.js */
odoo.define('@html_builder/core/img',['@odoo/owl','@web/core/utils/cache'],function(require){'use strict';let __exports={};const{Component,onWillStart,onWillUpdateProps,useEffect,useRef,xml}=require("@odoo/owl");const{Cache}=require("@web/core/utils/cache");const svgCache=new Cache(async(src)=>{let text;try{const response=await window.fetch(src);text=await response.text();}catch{text="<svg></svg>";}
const parser=new window.DOMParser();const xmlDoc=parser.parseFromString(text,"text/xml");return xmlDoc.getElementsByTagName("svg")[0];},JSON.stringify);const Img=__exports.Img=class Img extends Component{static props={src:String,class:{type:String,optional:true},style:{type:String,optional:true},alt:{type:String,optional:true},attrs:{type:Object,optional:true},svgCheck:{type:Boolean,optional:true},};static defaultProps={svgCheck:true,};static template=xml`
        <svg t-if="isSvg(props.src)" t-ref="svg"
             xmlns="http://www.w3.org/2000/svg"
             t-att-width="svg.width"
             t-att-viewBox="svg.viewBox"
             t-att-fill="svg.fill"
             class="hb-svg d-flex m-auto"
             t-att-class="props.class"
             t-att-style="props.style"
             t-att="props.attrs"/>
        <img t-else=""
             t-att-src="props.src"
             t-att-class="props.class"
             t-att-style="props.style"
             t-att-alt="props.alt"
             t-att="props.attrs"/>
        `;setup(){this.svgRef=useRef("svg");this.svg={};onWillStart(async()=>{await this.handleImgLoad(this.props.src);});onWillUpdateProps(async(nextProps)=>{if(this.props.src!==nextProps.src){await this.handleImgLoad(nextProps.src);}});useEffect(()=>{if(this.isSvg(this.props.src)&&this.svg.children.length){const children=[];for(const child of this.svg.children){children.push(child.cloneNode(true));}
this.svgRef.el.replaceChildren(...children);}});}
async handleImgLoad(src){if(this.isSvg(src)){this.svg=await this.getSvg();}else{await this.loadImage(src);}}
loadImage(){return new Promise((resolve,reject)=>{const img=new Image();img.onload=()=>resolve({status:"loaded"});img.onerror=()=>resolve({status:"error"});img.src=this.props.src;});}
isSvg(src){return this.props.svgCheck&&src.split(".").pop()==="svg";}
async getSvg(){const svgEl=(await svgCache.read(this.props.src)).cloneNode(true);return{viewBox:svgEl.getAttribute("viewBox"),width:svgEl.getAttribute("width")||"",fill:svgEl.getAttribute("fill")||"",children:svgEl.children,};}}
return __exports;});;

/* /html_builder/static/src/core/media_website_plugin.js */
odoo.define('@html_builder/core/media_website_plugin',['@html_editor/plugin','@html_editor/utils/dom_info','@html_editor/utils/dom_traversal','@html_builder/utils/utils_css','@web/core/l10n/translation','@html_editor/core/selection_plugin','@web/core/tooltip/tooltip'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{MEDIA_SELECTOR,isProtected}=require("@html_editor/utils/dom_info");const{closestElement}=require("@html_editor/utils/dom_traversal");const{shouldEditableMediaBeEditable}=require("@html_builder/utils/utils_css");const{_t}=require("@web/core/l10n/translation");const{isHtmlContentSupported}=require("@html_editor/core/selection_plugin");const{Tooltip}=require("@web/core/tooltip/tooltip");const MediaWebsitePlugin=__exports.MediaWebsitePlugin=class MediaWebsitePlugin extends Plugin{static id="media_website";static dependencies=["media","selection"];resources={user_commands:[{id:"websiteVideo",title:_t("Video"),description:_t("Insert a video"),icon:"fa-file-video-o",run:this.dependencies.media.openMediaDialog.bind(this,{noVideos:false,noImages:true,noIcons:true,extraTabs:false,}),isAvailable:isHtmlContentSupported,},],powerbox_items:[{categoryId:"media",commandId:"websiteVideo",},],};setup(){const basicMediaSelector=`${MEDIA_SELECTOR}, img`;const mediaSelector=basicMediaSelector.split(",").map((s)=>`${s}:not([data-oe-xpath])`).join(",");this.addDomListener(this.editable,"dblclick",(ev)=>{const targetEl=ev.target.closest(mediaSelector);if(!targetEl){return;}
let isEditable=targetEl.isContentEditable||(targetEl.parentElement&&targetEl.parentElement.isContentEditable);if(!isEditable&&targetEl.classList.contains("o_editable_media")){isEditable=shouldEditableMediaBeEditable(targetEl);}
if(isEditable&&!isProtected(this.dependencies.selection.getEditableSelection().anchorNode)){this.onDblClickEditableMedia(targetEl);}});this.popover=this.services.popover;this.tooltipTimeouts=[];this.removeCurrentTooltip=()=>{};this.addDomListener(this.editable,"click",(ev)=>{const targetEl=ev.target.closest(mediaSelector);if(!targetEl){return;}
let isEditable=(targetEl.parentElement&&targetEl.parentElement.isContentEditable);if(!isEditable&&targetEl.classList.contains("o_editable_media")){isEditable=shouldEditableMediaBeEditable(targetEl);}
if(isEditable&&!isProtected(this.dependencies.selection.getEditableSelection().anchorNode)){this.openImageTooltip(targetEl);}});}
onDblClickEditableMedia(mediaEl){this.removeCurrentTooltip();const params={node:mediaEl};const sel=this.dependencies.selection.getEditableSelection();const editableEl=closestElement(params.node||sel.startContainer,".o_editable")||this.editable;this.dependencies.media.openMediaDialog(params,editableEl);}
openImageTooltip(mediaEl){this.removeCurrentTooltip();const removeTooltip=this.popover.add(mediaEl,Tooltip,{tooltip:_t('Double-click to edit')});setTimeout(()=>{removeTooltip()},1500);this.removeCurrentTooltip=removeTooltip.bind(this);}
destroy(){super.destroy();this.removeCurrentTooltip();}}
return __exports;});;

/* /html_builder/static/src/core/move_plugin.js */
odoo.define('@html_builder/core/move_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@html_builder/utils/column_layout_utils','@html_builder/utils/utils','@html_builder/utils/scrolling'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{addMobileOrders,fillRemovedItemGap,removeMobileOrders,}=require("@html_builder/utils/column_layout_utils");const{isElementInViewport,isMobileView}=require("@html_builder/utils/utils");const{scrollTo}=require("@html_builder/utils/scrolling");__exports.getVisibleSibling=getVisibleSibling;function getVisibleSibling(target,direction){const siblingEls=[...target.parentNode.children];const visibleSiblingEls=siblingEls.filter((el)=>window.getComputedStyle(el).display!=="none");const targetMobileOrder=target.style.order;if(targetMobileOrder&&isMobileView(target)){visibleSiblingEls.sort((a,b)=>parseInt(a.style.order)-parseInt(b.style.order));}
const targetIndex=visibleSiblingEls.indexOf(target);const siblingIndex=direction==="prev"?targetIndex-1:targetIndex+1;if(siblingIndex===-1||siblingIndex===visibleSiblingEls.length){return false;}
return visibleSiblingEls[siblingIndex];}
const MovePlugin=__exports.MovePlugin=class MovePlugin extends Plugin{static id="move";resources={has_overlay_options:{hasOption:(el)=>this.isMovable(el)},get_overlay_buttons:withSequence(0,{getButtons:this.getActiveOverlayButtons.bind(this),}),on_cloned_handlers:this.onCloned.bind(this),on_remove_handlers:this.onRemove.bind(this),on_element_dropped_handlers:this.onElementDropped.bind(this),is_movable_selector:[{selector:"section, .s_showcase .row .row:not(.s_col_no_resize) > div",direction:"vertical",},{selector:".row:not(.s_col_no_resize) > div",exclude:".s_showcase .row .row > div",direction:"horizontal",},],};setup(){this.overlayTarget=null;this.noScroll=false;const verticalSelector=[];const verticalExclude=[];const horizontalSelector=[];const horizontalExclude=[];const noScrollSelector=[];for(const movableSelector of this.getResource("is_movable_selector")){const{selector,exclude,direction,noScroll}=movableSelector;if(selector){const selectors=direction==="vertical"?verticalSelector:horizontalSelector;selectors.push(selector);}
if(exclude){const excludes=direction==="vertical"?verticalExclude:horizontalExclude;excludes.push(exclude);}
if(noScroll){noScrollSelector.push(selector);}}
this.verticalMove={selector:verticalSelector.join(", "),exclude:verticalExclude.length>0?verticalExclude.join(", "):false,};this.horizontalMove={selector:horizontalSelector.join(", "),exclude:horizontalExclude.length>0?horizontalExclude.join(", "):false,};this.noScrollSelector=noScrollSelector.length>0?noScrollSelector.join(", "):false;const rowEls=this.editable.querySelectorAll(".row");for(const rowEl of rowEls){const columnEls=[...rowEl.children];const orderedColumnEls=columnEls.filter((el)=>el.style.order);if(orderedColumnEls.length&&orderedColumnEls.length!==columnEls.length){removeMobileOrders(orderedColumnEls);}}}
isMovable(el){return((el.matches(this.verticalMove.selector)&&!el.matches(this.verticalMove.exclude))||(el.matches(this.horizontalMove.selector)&&!el.matches(this.horizontalMove.exclude)));}
getActiveOverlayButtons(target){if(!this.isMovable(target)){this.overlayTarget=null;return[];}
const buttons=[];this.overlayTarget=target;this.noScroll=this.overlayTarget.matches(this.noScrollSelector);if(!this.areArrowsHidden()){const isVertical=this.overlayTarget.matches(this.verticalMove.selector)&&!this.overlayTarget.matches(this.verticalMove.exclude);const previousSiblingEl=getVisibleSibling(this.overlayTarget,"prev");const nextSiblingEl=getVisibleSibling(this.overlayTarget,"next");if(previousSiblingEl){const direction=isVertical?"up":"left";const button={class:`fa fa-fw fa-angle-${direction}`,title:_t("Move %s",direction),handler:this.onMoveClick.bind(this,"prev"),};buttons.push(button);}
if(nextSiblingEl){const direction=isVertical?"down":"right";const button={class:`fa fa-fw fa-angle-${direction}`,title:_t("Move %s",direction),handler:this.onMoveClick.bind(this,"next"),};buttons.push(button);}}
return buttons;}
onCloned({cloneEl,originalEl}){if(!this.isMovable(originalEl)){return;}
const hasMobileOrder=!!originalEl.style.order;if(hasMobileOrder){const siblingEls=[...originalEl.parentNode.children];const maxOrder=Math.max(...siblingEls.map((el)=>el.style.order));cloneEl.style.order=maxOrder+1;}}
onRemove(toRemoveEl){if(!this.isMovable(toRemoveEl)){return;}
const mobileOrder=toRemoveEl.style.order;if(mobileOrder){fillRemovedItemGap(toRemoveEl.parentElement,parseInt(mobileOrder));}}
onElementDropped({droppedEl,dragState}){if(!this.isMovable(droppedEl)){return;}
const parentEl=droppedEl.parentElement;const mobileOrder=droppedEl.style.order;const{startParentEl}=dragState;if(mobileOrder&&parentEl!==startParentEl){fillRemovedItemGap(startParentEl,parseInt(mobileOrder));}
removeMobileOrders(parentEl.children);}
areArrowsHidden(){const isMobile=isMobileView(this.overlayTarget);const isGridItem=this.overlayTarget.classList.contains("o_grid_item");const siblingsEl=[...this.overlayTarget.parentNode.children];const visibleSiblingEl=siblingsEl.find((el)=>el!==this.overlayTarget&&window.getComputedStyle(el).display!=="none");return!visibleSiblingEl||(isGridItem&&!isMobile);}
onMoveClick(direction){const isMobile=isMobileView(this.overlayTarget);let hasMobileOrder=!!this.overlayTarget.style.order;const parentEl=this.overlayTarget.parentNode;const siblingEls=parentEl.children;const isColumn=parentEl.classList.contains("row");if(isMobile&&isColumn&&!hasMobileOrder){addMobileOrders(siblingEls);hasMobileOrder=true;}else if(!isMobile&&hasMobileOrder){removeMobileOrders(siblingEls);hasMobileOrder=false;}
const siblingEl=getVisibleSibling(this.overlayTarget,direction);if(hasMobileOrder){const currentOrder=this.overlayTarget.style.order;this.overlayTarget.style.order=siblingEl.style.order;siblingEl.style.order=currentOrder;}else{siblingEl.insertAdjacentElement(direction==="prev"?"beforebegin":"afterend",this.overlayTarget);}
if(!this.noScroll&&!isElementInViewport(this.overlayTarget)){const{top,height}=this.overlayTarget.getBoundingClientRect();const viewportHeight=this.document.defaultView.innerHeight;const heightDiff=viewportHeight-height;const isBottomHidden=heightDiff<top;scrollTo(this.overlayTarget,{extraOffset:50,forcedOffset:isBottomHidden?heightDiff-50:undefined,duration:500,});}}}
return __exports;});;

/* /html_builder/static/src/core/operation.js */
odoo.define('@html_builder/core/operation',['@web/core/utils/concurrency'],function(require){'use strict';let __exports={};const{Mutex}=require("@web/core/utils/concurrency");const Operation=__exports.Operation=class Operation{constructor(editableDocument=document){this.mutex=new Mutex();this.editableDocument=editableDocument;}
next(fn,{load=()=>Promise.resolve(),cancellable,cancelPrevious,cancelTime=50,withLoadingEffect=true,loadingEffectDelay=500,}={}){this.cancelPrevious?.();let isCancel=false;let cancelResolve;this.cancelPrevious=cancellable&&(()=>{this.cancelPrevious=null;isCancel=true;cancelResolve?.();this.mutex.exec(async()=>{await cancelPrevious?.();});});const cancelTimePromise=new Promise((resolve)=>setTimeout(resolve,cancelTime));const cancelLoadPromise=new Promise((resolve)=>{cancelResolve=resolve;});return this.mutex.exec(async()=>{if(isCancel){return;}
const removeLoadingElement=this.addLoadingElement(withLoadingEffect,loadingEffectDelay);const applyOperation=async()=>{const loadResult=await load();if(isCancel){return;}
this.previousLoadResolve=null;if(!this.editableDocument.defaultView){return;}
await fn?.(loadResult);};try{await Promise.race([Promise.all([cancelLoadPromise,cancelTimePromise]),applyOperation(),]);}finally{removeLoadingElement();}});}
addLoadingElement(withLoadingEffect,loadingEffectDelay){const loadingScreenEl=document.createElement("div");loadingScreenEl.classList.add(...["o_loading_screen","d-flex","justify-content-center","align-items-center"]);const spinnerEl=document.createElement("img");spinnerEl.setAttribute("src","/web/static/img/spin.svg");loadingScreenEl.appendChild(spinnerEl);this.editableDocument.body.appendChild(loadingScreenEl);let loadingTimeout;if(withLoadingEffect){loadingTimeout=setTimeout(()=>loadingScreenEl.classList.add("o_we_ui_loading"),loadingEffectDelay);}
return()=>{if(loadingTimeout){clearTimeout(loadingTimeout);}
loadingScreenEl.remove();};}}
return __exports;});;

/* /html_builder/static/src/core/operation_plugin.js */
odoo.define('@html_builder/core/operation_plugin',['@html_editor/plugin','@html_builder/core/operation','@odoo/owl'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{Operation}=require("@html_builder/core/operation");const{useComponent}=require("@odoo/owl");const OperationPlugin=__exports.OperationPlugin=class OperationPlugin extends Plugin{static id="operation";static dependencies=["history"];static shared=["next"];setup(){this.operation=new Operation(this.document);}
next(fn,params){return this.operation.next(fn,params);}}
__exports.useOperation=useOperation;function useOperation(){const comp=useComponent();return(apply,...args)=>{comp.env.editor.shared.operation.next(async(...args)=>{await apply(...args);comp.env.editor.shared.history.addStep();},...args);};}
return __exports;});;

/* /html_builder/static/src/core/overlay_buttons/overlay_buttons.js */
odoo.define('@html_builder/core/overlay_buttons/overlay_buttons',['@odoo/owl'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const OverlayButtons=__exports.OverlayButtons=class OverlayButtons extends Component{static template="html_builder.OverlayButtons";static props={state:{type:Object},};setup(){this.state=this.props.state;}}
return __exports;});;

/* /html_builder/static/src/core/overlay_buttons/overlay_buttons_plugin.js */
odoo.define('@html_builder/core/overlay_buttons/overlay_buttons_plugin',['@html_editor/plugin','@odoo/owl','@web/core/utils/timing','@web/core/utils/scrolling','@html_builder/core/builder_options_plugin','@html_builder/core/overlay_buttons/overlay_buttons','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{reactive}=require("@odoo/owl");const{throttleForAnimation}=require("@web/core/utils/timing");const{getScrollingElement,getScrollingTarget}=require("@web/core/utils/scrolling");const{checkElement}=require("@html_builder/core/builder_options_plugin");const{OverlayButtons}=require("@html_builder/core/overlay_buttons/overlay_buttons");const{withSequence}=require("@html_editor/utils/resource");const OverlayButtonsPlugin=__exports.OverlayButtonsPlugin=class OverlayButtonsPlugin extends Plugin{static id="overlayButtons";static dependencies=["selection","overlay","history","operation"];static shared=["hideOverlayButtons","showOverlayButtons","hideOverlayButtonsUi","showOverlayButtonsUi",];resources={step_added_handlers:this.refreshButtons.bind(this),change_current_options_containers_listeners:this.addOverlayButtons.bind(this),on_mobile_preview_clicked:withSequence(20,this.refreshButtons.bind(this)),};setup(){this.iframe=this.editable.ownerDocument.defaultView.frameElement;this.overlay=this.dependencies.overlay.createOverlay(OverlayButtons,{positionOptions:{position:"top-middle",onPositioned:(overlayEl,position)=>{const iframeRect=this.iframe.getBoundingClientRect();if(this.target&&position.top<iframeRect.top){const targetRect=this.target.getBoundingClientRect();const newTop=iframeRect.top+targetRect.bottom+15;position.top=newTop;overlayEl.style.top=`${newTop}px`;}
return;},margin:15,flip:false,},closeOnPointerdown:false,},{sequence:49});this.target=null;this.state=reactive({isVisible:true,showUi:true,buttons:[],});this.resizeObserver=new ResizeObserver(()=>{this.overlay.updatePosition();});this.refresh=throttleForAnimation(this.refreshButtons.bind(this));this.addDomListener(window,"resize",this.refresh);const onMouseMoveOrDown=throttleForAnimation(()=>{this.showOverlayButtons();this.editable.removeEventListener("mousemove",onMouseMoveOrDown);this.editable.removeEventListener("mousedown",onMouseMoveOrDown);});this.addDomListener(this.editable,"keydown",()=>{this.hideOverlayButtons();this.editable.addEventListener("mousemove",onMouseMoveOrDown);this.editable.addEventListener("mousedown",onMouseMoveOrDown);});const scrollingElement=getScrollingElement(this.document);const scrollingTarget=getScrollingTarget(scrollingElement);this.addDomListener(scrollingTarget,"scroll",throttleForAnimation(()=>{this.hideOverlayButtons();clearTimeout(this.scrollingTimeout);this.scrollingTimeout=setTimeout(()=>{this.showOverlayButtons();},250);}),{capture:true});this._cleanups.push(()=>{this.removeOverlayButtons();this.resizeObserver.disconnect();});}
refreshButtons(){if(!this.target){return;}
const buttons=[];for(const{getButtons,editableOnly}of this.getResource("get_overlay_buttons")){if(checkElement(this.target,{editableOnly})){buttons.push(...getButtons(this.target));}}
for(const button of buttons){const handler=button.handler;button.handler=(...args)=>{this.dependencies.operation.next(async()=>{await handler(...args);this.dependencies.history.addStep();});};}
this.state.buttons=buttons;this.overlay.updatePosition();}
hideOverlayButtons(){this.state.isVisible=false;}
hideOverlayButtonsUi(){this.state.showUi=false;}
showOverlayButtons(){this.state.isVisible=true;}
showOverlayButtonsUi(){this.state.showUi=true;}
addOverlayButtons(optionsContainer){this.removeOverlayButtons();const optionWithOverlayButtons=optionsContainer.findLast((option)=>option.hasOverlayOptions);if(optionWithOverlayButtons){this.target=optionWithOverlayButtons.element;this.state.isVisible=true;this.refreshButtons();this.overlay.open({target:optionWithOverlayButtons.element,closeOnPointerdown:false,props:{state:this.state,},});this.resizeObserver.observe(this.target,{box:"border-box"});}}
removeOverlayButtons(){if(this.target){this.resizeObserver.unobserve(this.target);this.target=null;}
this.overlay.close();}}
return __exports;});;

/* /html_builder/static/src/core/remove_plugin.js */
odoo.define('@html_builder/core/remove_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@html_builder/utils/grid_layout_utils','@html_builder/core/move_plugin','@html_editor/core/delete_plugin','@html_editor/others/qweb_plugin','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{resizeGrid}=require("@html_builder/utils/grid_layout_utils");const{getVisibleSibling}=require("@html_builder/core/move_plugin");const{unremovableNodePredicates:deletePluginPredicates}=require("@html_editor/core/delete_plugin");const{isUnremovableQWebElement:qwebPluginPredicate}=require("@html_editor/others/qweb_plugin");const{isEditable}=require("@html_builder/utils/utils");const unremovableSelectors=[".s_carousel .carousel-item",".s_quotes_carousel .carousel-item",".s_carousel_intro .carousel-item",".o_mega_menu",".o_mega_menu > section",".s_dynamic_snippet_title",".s_table_of_content_navbar_wrap",".s_table_of_content_main",".nav-item",].join(", ");const unremovableNodePredicates=[(node)=>!isEditable(node.parentNode),...deletePluginPredicates,qwebPluginPredicate,(node)=>node.parentNode.matches('[data-oe-type="image"]'),(node)=>node.matches(unremovableSelectors),];__exports.isRemovable=isRemovable;function isRemovable(el){return!unremovableNodePredicates.some((p)=>p(el));}
const layoutElementsSelector=[".o_we_shape",".o_we_bg_filter",".s_parallax_bg",".o_bg_video_container",].join(",");const RemovePlugin=__exports.RemovePlugin=class RemovePlugin extends Plugin{static id="remove";static dependencies=["history","builderOptions"];resources={get_overlay_buttons:withSequence(3,{getButtons:this.getActiveOverlayButtons.bind(this),}),};static shared=["removeElement","removeElementAndUpdateContainers"];setup(){this.overlayTarget=null;}
getActiveOverlayButtons(target){if(!isRemovable(target)){this.overlayTarget=null;return[];}
const buttons=[];this.overlayTarget=target;const disabledReason=this.dependencies["builderOptions"].getRemoveDisabledReason(target);buttons.push({class:"oe_snippet_remove bg-danger fa fa-trash",title:_t("Remove"),disabledReason,handler:()=>{this.removeElementAndUpdateContainers(this.overlayTarget);},});return buttons;}
isEmptyAndRemovable(el){const childrenEls=[...el.children];const isEmptyFigureEl=el.matches("figure")&&childrenEls.length===1&&childrenEls[0].matches("figcaption");const isEmpty=isEmptyFigureEl||(el.textContent.trim()===""&&childrenEls.every((el)=>el.matches(layoutElementsSelector)));const optionsTargetEls=this.dependencies["builderOptions"].computeContainers(el).map((e)=>e.element);return(isEmpty&&!el.classList.contains("oe_structure")&&!el.parentElement.classList.contains("carousel-item")&&(!optionsTargetEls.includes(el)||optionsTargetEls.some((targetEl)=>targetEl.contains(el)))&&isRemovable(el));}
removeElementAndUpdateContainers(el){const elementToSelect=this.removeElement(el);this.dependencies.history.addStep();this.dependencies["builderOptions"].updateContainers(elementToSelect);}
removeElement(el){const elementToSelect=this.removeCurrentTarget(el);this.dispatchTo("after_remove_handlers",el);return elementToSelect;}
removeCurrentTarget(toRemoveEl){let optionsTargetEls=this.getOptionsContainersElements();this.dispatchTo("on_remove_handlers",toRemoveEl);let parentEl=toRemoveEl.parentElement;const previousSiblingEl=getVisibleSibling(toRemoveEl,"prev");const nextSiblingEl=getVisibleSibling(toRemoveEl,"next");if(parentEl.matches(".o_editable:not(body)")){parentEl=parentEl.closest("body");}
[toRemoveEl,...toRemoveEl.querySelectorAll("*")].forEach((el)=>{const tooltip=Tooltip.getInstance(el);if(tooltip){tooltip.dispose();}});toRemoveEl.remove();if(toRemoveEl.classList.contains("o_grid_item")){resizeGrid(parentEl);}
if(parentEl){const firstChildEl=parentEl.firstChild;if(firstChildEl&&!firstChildEl.tagName&&firstChildEl.textContent===" "){parentEl.removeChild(firstChildEl);}}
let nextElementToSelect;if(previousSiblingEl||nextSiblingEl){nextElementToSelect=previousSiblingEl||nextSiblingEl;}else{while(!optionsTargetEls.includes(parentEl)){const nextParentEl=parentEl.parentElement;if(!nextParentEl){break;}
if(this.isEmptyAndRemovable(parentEl,optionsTargetEls)){parentEl.remove();}
parentEl=nextParentEl;}
nextElementToSelect=parentEl;optionsTargetEls=this.getOptionsContainersElements();if(this.isEmptyAndRemovable(parentEl,optionsTargetEls)){nextElementToSelect=this.removeCurrentTarget(parentEl);}}
this.editable.querySelectorAll(".note-control-selection").forEach((el)=>(el.style.display="none"));this.editable.querySelectorAll(".o_table_handler").forEach((el)=>el.remove());return nextElementToSelect;}
getOptionsContainersElements(){return this.dependencies["builderOptions"].getContainers().map((option)=>option.element);}}
return __exports;});;

/* /html_builder/static/src/core/save_plugin.js */
odoo.define('@html_builder/core/save_plugin',['@html_builder/utils/escaping','@html_editor/plugin','@html_editor/utils/resource','@web/core/utils/arrays','@web/core/utils/functions'],function(require){'use strict';let __exports={};const{escapeTextNodes}=require("@html_builder/utils/escaping");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{groupBy}=require("@web/core/utils/arrays");const{uniqueId}=require("@web/core/utils/functions");const SavePlugin=__exports.SavePlugin=class SavePlugin extends Plugin{static id="savePlugin";static shared=["save","isAlreadySaved","saveView"];static dependencies=["history"];resources={handleNewRecords:this.handleMutations.bind(this),start_edition_handlers:this.startObserving.bind(this),savable_selectors:["#wrapwrap .oe_structure[data-oe-xpath][data-oe-id]","#wrapwrap [data-oe-field]:not([data-oe-sanitize-prevent-edition])","#wrapwrap .s_cover[data-res-model]",],before_save_handlers:[],clean_for_save_handlers:[],group_element_save_handlers:withSequence(30,this.groupElementHandler.bind(this)),save_element_handlers:[this.saveView.bind(this),],save_handlers:[],get_dirty_els:()=>this.editable.querySelectorAll(".o_dirty"),};setup(){this.canObserve=false;this.savableSelector=this.getResource("savable_selectors").join(", ");}
async save(){const proms=[];for(const fn of this.getResource("before_save_handlers")){proms.push(fn());}
await Promise.all(proms);const dirtyEls=[];for(const getDirtyEls of this.getResource("get_dirty_els")){dirtyEls.push(...getDirtyEls());}
const groupedElements=groupBy(dirtyEls,(dirtyEl)=>{const model=dirtyEl.dataset.oeModel;const field=dirtyEl.dataset.oeField;if(!model){return uniqueId("special-element-to-save-");}
const groupElementHandler=this.getResource("group_element_save_handlers")[0];return(groupElementHandler(model,field)||`${model}::${dirtyEl.dataset.oeId}::${field}`);});const saveProms=Object.values(groupedElements).map(async(dirtyEls)=>{const cleanedEls=dirtyEls.map((dirtyEl)=>{dirtyEl.classList.remove("o_dirty");const cleanedEl=dirtyEl.cloneNode(true);this.dispatchTo("clean_for_save_handlers",{root:cleanedEl});return cleanedEl;});for(const saveElementsOverride of this.getResource("save_elements_overrides")){if(await saveElementsOverride(cleanedEls)){return;}}
const proms=this.getResource("save_element_handlers").map((saveElementHandler)=>saveElementHandler(cleanedEls[0])).filter(Boolean);if(!proms.length){console.warning("no save_element_handlers for dirty element",cleanedEls[0]);}
await Promise.all(proms);});const willSaves=this.getResource("save_handlers").map((c)=>c());await Promise.all(saveProms.concat(willSaves));this.lastSavedStep=this.dependencies.history.getHistorySteps().at(-1);}
groupElementHandler(model,field){return model==="ir.ui.view"&&field==="arch"?uniqueId("view-part-to-save-"):"";}
isAlreadySaved(){return(!this.dependencies.history.getHistorySteps().length||this.lastSavedStep===this.dependencies.history.getHistorySteps().at(-1));}
saveView(el,delayTranslations=true){const viewID=Number(el.dataset["oeId"]);if(!viewID){return;}
const delay=delayTranslations?{delay_translations:false}:{};const context={website_id:this.services.website.currentWebsite.id,lang:this.services.website.currentWebsite.metadata.lang,...delay,};escapeTextNodes(el);return this.services.orm.call("ir.ui.view","save",[viewID,el.outerHTML,(!el.dataset["oeExpression"]&&el.dataset["oeXpath"])||null],{context});}
startObserving(){this.canObserve=true;}
handleMutations(records,currentOperation){if(!this.canObserve){return;}
if(currentOperation==="undo"||currentOperation==="redo"){return;}
for(const record of records){if(record.attributeName==="contenteditable"){continue;}
let targetEl=record.target;if(!targetEl.isConnected){continue;}
if(targetEl.nodeType!==Node.ELEMENT_NODE){targetEl=targetEl.parentElement;}
if(!targetEl){continue;}
const savableEl=targetEl.closest(this.savableSelector);if(!savableEl||savableEl.classList.contains("o_dirty")||savableEl.hasAttribute("data-oe-readonly")){continue;}
savableEl.classList.add("o_dirty");}}}
return __exports;});;

/* /html_builder/static/src/core/save_snippet_plugin.js */
odoo.define('@html_builder/core/save_snippet_plugin',['@html_builder/utils/escaping','@html_editor/plugin','@html_editor/utils/resource','@odoo/owl','@web/core/l10n/translation','@web/core/utils/strings'],function(require){'use strict';let __exports={};const{escapeTextNodes}=require("@html_builder/utils/escaping");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{markup}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{escape}=require("@web/core/utils/strings");const savableSelector="[data-snippet], a.btn";const savableExclude=".o_no_save, .s_donation_donate_btn, .s_website_form_send";function isSavable(el){return el.matches(savableSelector)&&!el.matches(savableExclude);}
const SaveSnippetPlugin=__exports.SaveSnippetPlugin=class SaveSnippetPlugin extends Plugin{static id="saveSnippet";resources={get_options_container_top_buttons:withSequence(1,this.getOptionsContainerTopButtons.bind(this)),on_will_save_snippet_handlers:[],on_saved_snippet_handlers:[],};getOptionsContainerTopButtons(el){if(!isSavable(el)){return[];}
return[{class:"fa fa-fw fa-save oe_snippet_save o_we_hover_warning btn o-hb-btn btn-global-color-hover",title:_t("Save this block to use it elsewhere"),handler:this.saveSnippet.bind(this),},];}
wrapWithSaveSnippetHandlers(snippetEl,callback){const onWillSaveHandlers=this.getResource("on_will_save_snippet_handlers");const onSavedHandlers=this.getResource("on_saved_snippet_handlers");onWillSaveHandlers.forEach((handler)=>handler({snippetEl}));let node;try{node=callback();}finally{onSavedHandlers.forEach((handler)=>handler({snippetEl}));}
return node;}
async saveSnippet(el){const cleanForSaveHandlers=[...this.getResource("clean_for_save_handlers"),({root})=>escapeTextNodes(root),];const savedName=await this.config.saveSnippet(el,cleanForSaveHandlers,this.wrapWithSaveSnippetHandlers.bind(this));if(savedName){const message=markup(_t("Your custom snippet was successfully saved as <strong>%s</strong>. Find it in your snippets collection.",escape(savedName)));this.services.notification.add(message,{type:"success",autocloseDelay:5000,});}}}
return __exports;});;

/* /html_builder/static/src/core/select_number_column.js */
odoo.define('@html_builder/core/select_number_column',['@html_builder/core/utils','@html_builder/utils/column_layout_utils','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{areColsCustomized}=require("@html_builder/utils/column_layout_utils");const{isMobileView}=require("@html_builder/utils/utils");const SelectNumberColumn=__exports.SelectNumberColumn=class SelectNumberColumn extends BaseOptionComponent{static template="html_builder.SelectNumberColumn";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>{const columnEls=editingElement.querySelector(":scope > .row")?.children;return{isCustomColumn:columnEls&&areColsCustomized(columnEls,isMobileView(editingElement)),canHaveZeroColumns:editingElement.matches(".s_allow_columns"),};});}}
return __exports;});;

/* /html_builder/static/src/core/setup_editor_plugin.js */
odoo.define('@html_builder/core/setup_editor_plugin',['@html_editor/plugin','@web/core/l10n/translation','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{withSequence}=require("@html_editor/utils/resource");const SetupEditorPlugin=__exports.SetupEditorPlugin=class SetupEditorPlugin extends Plugin{static id="setup_editor_plugin";static shared=["getEditableAreas"];resources={clean_for_save_handlers:this.cleanForSave.bind(this),normalize_handlers:withSequence(0,this.setContenteditable.bind(this)),};setup(){const welcomeMessageEl=this.editable.querySelector("#wrap .o_homepage_editor_welcome_message");welcomeMessageEl?.remove();this.editable.setAttribute("contenteditable",false);if(this.delegateTo("after_setup_editor_handlers")){return;}
let editableEls=this.getEditableElements("[data-oe-model]").filter((el)=>!el.matches("link, script")).filter((el)=>!el.hasAttribute("data-oe-readonly")).filter((el)=>!el.matches('img[data-oe-field="arch"], br[data-oe-field="arch"], input[data-oe-field="arch"]')).filter((el)=>!el.classList.contains("oe_snippet_editor")).filter((el)=>!el.matches("hr, br, input, textarea")).filter((el)=>!el.hasAttribute("data-oe-sanitize-prevent-edition"));editableEls.concat(Array.from(this.editable.querySelectorAll(".o_editable")));editableEls.forEach((el)=>el.classList.add("o_editable"));editableEls=this.getEditableElements('.oe_structure.oe_empty, [data-oe-type="html"]');editableEls.forEach((el)=>{if(!el.hasAttribute("data-editor-message")){el.setAttribute("data-editor-message-default",true);el.setAttribute("data-editor-message",_t("DRAG BUILDING BLOCKS HERE"));}});}
getEditableElements(selector){const editableEls=[...this.editable.querySelectorAll(selector)].filter((el)=>!el.matches(".o_not_editable")).filter((el)=>{const parent=el.closest(".o_editable, .o_not_editable");return!parent||parent.matches(".o_editable");});return editableEls;}
cleanForSave({root}){root.classList.remove("o_editable");root.querySelectorAll(".o_editable").forEach((el)=>{el.classList.remove("o_editable");});[root,...root.querySelectorAll("[data-editor-message]")].forEach((el)=>{el.removeAttribute("data-editor-message");el.removeAttribute("data-editor-message-default");});[root,...root.querySelectorAll("[contenteditable]")].forEach((el)=>el.removeAttribute("contenteditable"));}
setContenteditable(root=this.editable){const editableEls=this.getEditableElements(".o_editable");editableEls.forEach((el)=>el.setAttribute("contenteditable",!el.matches(":empty:not([placeholder])")));const uneditableEls=root.querySelectorAll(".o_not_editable");uneditableEls.forEach((el)=>el.setAttribute("contenteditable",false));}
getEditableAreas(rootEl){const editableEl=rootEl||this.editable;const editablesAreaEls=[...editableEl.querySelectorAll(".o_editable")];if(editableEl.matches(".o_editable")){editablesAreaEls.unshift(editableEl);}
return editablesAreaEls;}}
return __exports;});;

/* /html_builder/static/src/core/utils.js */
odoo.define('@html_builder/core/utils',['@html_editor/utils/dom_info','@odoo/owl','@web/core/utils/hooks','@web/core/utils/reactive','@web/core/utils/timing'],function(require){'use strict';let __exports={};const{isElement,isTextNode}=require("@html_editor/utils/dom_info");const{Component,onMounted,onWillDestroy,onWillStart,onWillUpdateProps,reactive,toRaw,useComponent,useEffect,useEnv,useRef,useState,useSubEnv,}=require("@odoo/owl");const{useBus}=require("@web/core/utils/hooks");const{effect}=require("@web/core/utils/reactive");const{useDebounced}=require("@web/core/utils/timing");function isConnectedElement(el){return el&&el.isConnected&&!!el.ownerDocument.defaultView;}
__exports.useDomState=useDomState;function useDomState(getState,{checkEditingElement=true}={}){const env=useEnv();const isValid=(el)=>(!el&&!checkEditingElement)||isConnectedElement(el);const handler=async(ev)=>{const editingElement=env.getEditingElement();if(isValid(editingElement)){const newStatePromise=getState(editingElement);if(ev){ev.detail.getStatePromises.push(newStatePromise);const newState=await newStatePromise;const shouldApply=await ev.detail.updatePromise;if(shouldApply){Object.assign(state,newState);}}else{Object.assign(state,await newStatePromise);}}};const state=useState({});onWillStart(handler);useBus(env.editorBus,"DOM_UPDATED",handler);return state;}
__exports.useActionInfo=useActionInfo;function useActionInfo(){const comp=useComponent();const getParam=(paramName)=>{let param=comp.props[paramName];param=param===undefined?comp.env.weContext[paramName]:param;if(typeof param==="object"){param=JSON.stringify(param);}
return param;};const actionParam=getParam("actionParam");return{actionId:comp.props.action||comp.env.weContext.action,actionParam,actionValue:comp.props.actionValue,classAction:getParam("classAction"),styleAction:getParam("styleAction"),styleActionValue:comp.props.styleActionValue,attributeAction:getParam("attributeAction"),attributeActionValue:comp.props.attributeActionValue,};}
function querySelectorAll(targets,selector){const elements=new Set();for(const target of targets){for(const el of target.querySelectorAll(selector)){elements.add(el);}}
return[...elements];}
__exports.useBuilderComponent=useBuilderComponent;function useBuilderComponent(){const comp=useComponent();const newEnv={};const oldEnv=useEnv();let editingElements;let applyTo=comp.props.applyTo;const updateEditingElements=()=>{editingElements=applyTo?querySelectorAll(oldEnv.getEditingElements(),applyTo):oldEnv.getEditingElements();};updateEditingElements();oldEnv.editorBus.addEventListener("UPDATE_EDITING_ELEMENT",updateEditingElements);onWillUpdateProps(async(nextProps)=>{if(comp.props.applyTo!==nextProps.applyTo){applyTo=nextProps.applyTo;oldEnv.editorBus.trigger("UPDATE_EDITING_ELEMENT");await oldEnv.triggerDomUpdated();}});onWillDestroy(()=>{oldEnv.editorBus.removeEventListener("UPDATE_EDITING_ELEMENT",updateEditingElements);});newEnv.getEditingElements=()=>editingElements;newEnv.getEditingElement=()=>editingElements[0];const weContext={};for(const key in basicContainerBuilderComponentProps){if(key in comp.props){weContext[key]=comp.props[key];}}
if(Object.keys(weContext).length){newEnv.weContext={...comp.env.weContext,...weContext};}
useSubEnv(newEnv);}
__exports.useDependencyDefinition=useDependencyDefinition;function useDependencyDefinition(id,item,{onReady}={}){const comp=useComponent();const ignore=comp.env.ignoreBuilderItem;if(onReady){onReady.then(()=>{comp.env.dependencyManager.add(id,item,ignore);});}else{comp.env.dependencyManager.add(id,item,ignore);}
onWillDestroy(()=>{comp.env.dependencyManager.removeByValue(item);});}
__exports.useDependencies=useDependencies;function useDependencies(dependencies){const env=useEnv();const isDependenciesVisible=()=>{const deps=Array.isArray(dependencies)?dependencies:[dependencies];return deps.filter(Boolean).every((dependencyId)=>{const match=dependencyId.match(/(!)?(.*)/);const inverse=!!match[1];const id=match[2];const isActiveFn=env.dependencyManager.get(id)?.isActive;if(!isActiveFn){return false;}
const isActive=isActiveFn();return inverse?!isActive:isActive;});};return isDependenciesVisible;}
function useIsActiveItem(){const env=useEnv();const listenedKeys=new Set();function isActive(itemId){const isActiveFn=env.dependencyManager.get(itemId)?.isActive;if(!isActiveFn){return false;}
return isActiveFn();}
const getState=()=>{const newState={};for(const itemId of listenedKeys){newState[itemId]=isActive(itemId);}
return newState;};const state=useDomState(getState);const listener=()=>{const newState=getState();Object.assign(state,newState);};env.dependencyManager.addEventListener("dependency-updated",listener);onWillDestroy(()=>{env.dependencyManager.removeEventListener("dependency-updated",listener);});return function isActiveItem(itemId){listenedKeys.add(itemId);if(state[itemId]===undefined){return isActive(itemId);}
return state[itemId];};}
__exports.useGetItemValue=useGetItemValue;function useGetItemValue(){const env=useEnv();const listenedKeys=new Set();function getValue(itemId){const getValueFn=env.dependencyManager.get(itemId)?.getValue;if(!getValueFn){return null;}
return getValueFn();}
const getState=()=>{const newState={};for(const itemId of listenedKeys){newState[itemId]=getValue(itemId);}
return newState;};const state=useDomState(getState);const listener=()=>{const newState=getState();Object.assign(state,newState);};env.dependencyManager.addEventListener("dependency-updated",listener);onWillDestroy(()=>{env.dependencyManager.removeEventListener("dependency-updated",listener);});return function getItemValue(itemId){listenedKeys.add(itemId);if(state[itemId]===undefined){return getValue(itemId);}
return state[itemId];};}
__exports.useSelectableComponent=useSelectableComponent;function useSelectableComponent(id,{onItemChange}={}){useBuilderComponent();const selectableItems=[];const refreshCurrentItemDebounced=useDebounced(refreshCurrentItem,0,{immediate:true});const env=useEnv();const state=reactive({currentSelectedItem:null,});function refreshCurrentItem(){let currentItem;let itemPriority=0;for(const selectableItem of selectableItems){if(selectableItem.isApplied()&&selectableItem.priority>=itemPriority){currentItem=selectableItem;itemPriority=selectableItem.priority;}}
if(currentItem&&currentItem!==toRaw(state.currentSelectedItem)){state.currentSelectedItem=currentItem;env.dependencyManager.triggerDependencyUpdated();}
if(currentItem){onItemChange?.(currentItem);}}
if(id){useDependencyDefinition(id,{type:"select",getSelectableItems:()=>selectableItems.slice(0),});}
onMounted(refreshCurrentItem);useBus(env.editorBus,"DOM_UPDATED",refreshCurrentItem);function cleanSelectedItem(...args){if(state.currentSelectedItem){state.currentSelectedItem.clean(...args);}}
useSubEnv({selectableContext:{cleanSelectedItem,addSelectableItem:(item)=>{selectableItems.push(item);},removeSelectableItem:(item)=>{const index=selectableItems.indexOf(item);if(index!==-1){selectableItems.splice(index,1);}},update:refreshCurrentItemDebounced,items:selectableItems,refreshCurrentItem:()=>refreshCurrentItem(),getSelectableState:()=>state,},});}
__exports.useSelectableItemComponent=useSelectableItemComponent;function useSelectableItemComponent(id,{getLabel=()=>{}}={}){const{operation,isApplied,getActions,priority,clean,onReady}=useClickableBuilderComponent();const env=useEnv();let isSelectableActive=isApplied;let state;if(env.selectableContext){const selectableState=env.selectableContext.getSelectableState();isSelectableActive=()=>{env.selectableContext.refreshCurrentItem();return(toRaw(selectableState.currentSelectedItem)===selectableItem||(id&&selectableState.currentSelectedItem?.id===id));};const selectableItem={isApplied,priority,getLabel,clean,getActions,id,};env.selectableContext.addSelectableItem(selectableItem);state=useState({isActive:false,});effect(({currentSelectedItem})=>{state.isActive=toRaw(currentSelectedItem)===selectableItem||(id&&currentSelectedItem?.id===id);},[selectableState]);env.selectableContext.refreshCurrentItem();onMounted(env.selectableContext.update);onWillDestroy(()=>{env.selectableContext.removeSelectableItem(selectableItem);});}else{state=useDomState(async()=>{await onReady;return{isActive:isSelectableActive(),};});}
if(id){useDependencyDefinition(id,{isActive:isSelectableActive,getActions,cleanSelectedItem:env.selectableContext?.cleanSelectedItem,},{onReady});}
return{state,operation};}
function usePrepareAction(getAllActions){const env=useEnv();const getAction=env.editor.shared.builderActions.getAction;const asyncActions=[];for(const descr of getAllActions()){if(descr.actionId){const action=getAction(descr.actionId);if(action.has("prepare")){asyncActions.push({action,descr});}}}
let onReady;if(asyncActions.length){let resolve;onReady=new Promise((r)=>{resolve=r;});onWillStart(async function(){await Promise.all(asyncActions.map((obj)=>obj.action.prepare(obj.descr)));resolve();});onWillUpdateProps(async({actionParam,actionValue})=>{onReady=new Promise((r)=>{resolve=r;});await Promise.all(asyncActions.map((obj)=>obj.action.prepare({...obj.descr,actionParam:convertParamToObject(actionParam),actionValue,})));resolve();});}
return onReady;}
function useReloadAction(getAllActions){const env=useEnv();const getAction=env.editor.shared.builderActions.getAction;let reload=false;for(const descr of getAllActions()){if(descr.actionId){const action=getAction(descr.actionId);if(action.reload){reload=action.reload;}}}
return{reload};}
__exports.useHasPreview=useHasPreview;function useHasPreview(getAllActions){const comp=useComponent();const reload=useReloadAction(getAllActions).reload;const getAction=comp.env.editor.shared.builderActions.getAction;let hasPreview=true;for(const descr of getAllActions()){if(descr.actionId){const action=getAction(descr.actionId);if(action.preview===false){hasPreview=false;}}}
return(hasPreview&&!reload&&(comp.props.preview===true||(comp.props.preview===undefined&&comp.env.weContext.preview!==false)));}
function useWithLoadingEffect(getAllActions){const env=useEnv();const getAction=env.editor.shared.builderActions.getAction;let withLoadingEffect=true;for(const descr of getAllActions()){if(descr.actionId){const action=getAction(descr.actionId);if(action.withLoadingEffect===false){withLoadingEffect=false;}}}
return withLoadingEffect;}
__exports.useClickableBuilderComponent=useClickableBuilderComponent;function useClickableBuilderComponent(){useBuilderComponent();const comp=useComponent();const{getAllActions,callOperation,isApplied}=getAllActionsAndOperations(comp);const getAction=comp.env.editor.shared.builderActions.getAction;const onReady=usePrepareAction(getAllActions);const{reload}=useReloadAction(getAllActions);const applyOperation=comp.env.editor.shared.history.makePreviewableAsyncOperation(callApply);const inheritedActionIds=comp.props.inheritedActions||comp.env.weContext.inheritedActions||[];const hasPreview=useHasPreview(getAllActions);const operationWithReload=useOperationWithReload(callApply,reload);const withLoadingEffect=useWithLoadingEffect(getAllActions);let preventNextPreview=false;const operation={commit:()=>{preventNextPreview=false;if(reload){callOperation(operationWithReload);}else{callOperation(applyOperation.commit,{operationParams:{withLoadingEffect:withLoadingEffect,},});}},preview:()=>{if(preventNextPreview){return;}
preventNextPreview=true;callOperation(applyOperation.preview,{preview:true,operationParams:{cancellable:true,cancelPrevious:()=>applyOperation.revert(),},});},revert:()=>{preventNextPreview=false;comp.env.editor.shared.operation.next();},};if(!hasPreview){operation.preview=()=>{};}
function clean(nextApplySpecs,isPreviewing){for(const{actionId,actionParam,actionValue}of getAllActions()){for(const editingElement of comp.env.getEditingElements()){let nextAction;getAction(actionId).clean?.({isPreviewing,editingElement,params:actionParam,value:actionValue,dependencyManager:comp.env.dependencyManager,selectableContext:comp.env.selectableContext,get nextAction(){nextAction=nextAction||nextApplySpecs.find((a)=>a.actionId===actionId)||{};return{params:nextAction.actionParam,value:nextAction.actionValue,};},});}}}
async function callApply(applySpecs,isPreviewing){comp.env.selectableContext?.cleanSelectedItem(applySpecs,isPreviewing);const cleans=inheritedActionIds.map((actionId)=>comp.env.dependencyManager.get(actionId).cleanSelectedItem).filter(Boolean);for(const clean of new Set(cleans)){clean(applySpecs,isPreviewing);}
const proms=[];const isAlreadyApplied=isApplied();for(const applySpec of applySpecs){const hasClean=!!applySpec.clean;const shouldClean=_shouldClean(comp,hasClean,isAlreadyApplied);if(shouldClean){proms.push(applySpec.action.clean({isPreviewing,editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadOnClean?applySpec.loadResult:null,dependencyManager:comp.env.dependencyManager,selectableContext:comp.env.selectableContext,}));}else{proms.push(applySpec.action.apply({isPreviewing,editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadResult,dependencyManager:comp.env.dependencyManager,selectableContext:comp.env.selectableContext,}));}}
await Promise.all(proms);}
function getPriority(){return(getAllActions().map((a)=>getAction(a.actionId).getPriority?.({params:a.actionParam,value:a.actionValue,})||0).find((x)=>x!==0)||0);}
return{operation,isApplied,clean,priority:getPriority(),getActions:getAllActions,onReady,};}
function useOperationWithReload(callApply,reload){const env=useEnv();return async(...args)=>{const{editingElement}=args[0][0];await Promise.all([callApply(...args),env.editor.shared.savePlugin.save()]);const target=env.editor.shared["builderOptions"].getReloadSelector(editingElement);const url=reload.getReloadUrl?.();await env.editor.config.reloadEditor({target,url});};}
__exports.useInputBuilderComponent=useInputBuilderComponent;function useInputBuilderComponent({id,defaultValue,formatRawValue=(rawValue)=>rawValue,parseDisplayValue=(displayValue)=>displayValue,}={}){const comp=useComponent();const{getAllActions,callOperation}=getAllActionsAndOperations(comp);const getAction=comp.env.editor.shared.builderActions.getAction;const state=useDomState(getState);const onReady=usePrepareAction(getAllActions);const{reload}=useReloadAction(getAllActions);const withLoadingEffect=useWithLoadingEffect(getAllActions);async function callApply(applySpecs,isPreviewing){const proms=[];for(const applySpec of applySpecs){proms.push(applySpec.action.apply({isPreviewing,editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,loadResult:applySpec.loadResult,dependencyManager:comp.env.dependencyManager,}));}
await Promise.all(proms);}
const applyOperation=comp.env.editor.shared.history.makePreviewableAsyncOperation(callApply);const operationWithReload=useOperationWithReload(callApply,reload);function getState(editingElement){if(!isConnectedElement(editingElement)){return{};}
const actionWithGetValue=getAllActions().find(({actionId})=>getAction(actionId).getValue);const{actionId,actionParam}=actionWithGetValue;const actionValue=getAction(actionId).getValue({editingElement,params:actionParam})||defaultValue;return{value:actionValue,};}
function commit(userInputValue){if(defaultValue!==undefined){userInputValue||=formatRawValue(defaultValue);}
const rawValue=parseDisplayValue(userInputValue);if(reload){callOperation(operationWithReload,{userInputValue:rawValue});}else{callOperation(applyOperation.commit,{userInputValue:rawValue,withLoadingEffect:withLoadingEffect,});}
return rawValue!==undefined?formatRawValue(rawValue):"";}
const shouldPreview=useHasPreview(getAllActions);function preview(userInputValue){if(shouldPreview){callOperation(applyOperation.preview,{preview:true,userInputValue:parseDisplayValue(userInputValue),operationParams:{cancellable:true,cancelPrevious:()=>applyOperation.revert(),},});}}
if(id){useDependencyDefinition(id,{type:"input",getValue:()=>state.value,},{onReady});}
return{state,commit,preview,onReady,};}
__exports.useApplyVisibility=useApplyVisibility;function useApplyVisibility(refName){const ref=useRef(refName);return(hasContent)=>{ref.el?.classList.toggle("d-none",!hasContent);};}
__exports.useVisibilityObserver=useVisibilityObserver;function useVisibilityObserver(contentName,callback){const contentRef=useRef(contentName);const applyVisibility=()=>{const hasContent=[...contentRef.el.childNodes].some((el)=>(isTextNode(el)&&el.textContent!=="")||(isElement(el)&&!el.classList.contains("d-none")));callback(hasContent);};const observer=new MutationObserver(applyVisibility);useEffect((contentEl)=>{if(!contentEl){return;}
applyVisibility();observer.observe(contentEl,{subtree:true,attributes:true,childList:true,attributeFilter:["class"],});return()=>{observer.disconnect();};},()=>[contentRef.el]);}
__exports.useInputDebouncedCommit=useInputDebouncedCommit;function useInputDebouncedCommit(ref){const comp=useComponent();return useDebounced(()=>{const normalizedDisplayValue=comp.commit(ref.el.value);ref.el.value=normalizedDisplayValue;},550);}
const basicContainerBuilderComponentProps=__exports.basicContainerBuilderComponentProps={id:{type:String,optional:true},applyTo:{type:String,optional:true},preview:{type:Boolean,optional:true},inheritedActions:{type:Array,element:String,optional:true},action:{type:String,optional:true},actionParam:{validate:()=>true,optional:true},classAction:{validate:()=>true,optional:true},attributeAction:{validate:()=>true,optional:true},dataAttributeAction:{validate:()=>true,optional:true},styleAction:{validate:()=>true,optional:true},};const validateIsNull={validate:(value)=>value===null};const clickableBuilderComponentProps=__exports.clickableBuilderComponentProps={...basicContainerBuilderComponentProps,inverseAction:{type:Boolean,optional:true},actionValue:{type:[Boolean,String,Number,{type:Array,element:[Boolean,String,Number]}],optional:true,},classActionValue:{type:[String,Array,validateIsNull],optional:true},attributeActionValue:{type:[String,Array,validateIsNull],optional:true},dataAttributeActionValue:{type:[String,Array,validateIsNull],optional:true},styleActionValue:{type:[String,Array,validateIsNull],optional:true},inheritedActions:{type:Array,element:String,optional:true},};__exports.getAllActionsAndOperations=getAllActionsAndOperations;function getAllActionsAndOperations(comp){const inheritedActionIds=comp.props.inheritedActions||comp.env.weContext.inheritedActions||[];function getActionsSpecs(actions,userInputValue){const getAction=comp.env.editor.shared.builderActions.getAction;const overridableMethods=["apply","clean","load","loadOnClean"];const specs=[];for(let{actionId,actionParam,actionValue}of actions){const action=getAction(actionId);actionValue=actionValue===undefined?userInputValue:actionValue;for(const editingElement of comp.env.getEditingElements()){const spec={editingElement,actionId,actionParam,actionValue,action,};for(const method of overridableMethods){if(!action.has||action.has(method)){spec[method]=action[method];}}
specs.push(spec);}}
return specs;}
function getShorthandActions(){const actions=[];const shorthands=[["classAction","classActionValue"],["attributeAction","attributeActionValue"],["dataAttributeAction","dataAttributeActionValue"],["styleAction","styleActionValue"],];for(const[actionId,actionValue]of shorthands){const actionParam=comp.env.weContext[actionId]||comp.props[actionId];if(actionParam!==undefined){actions.push({actionId,actionParam:convertParamToObject(actionParam),actionValue:comp.props[actionValue],});}}
return actions;}
function getCustomAction(){const actionId=comp.props.action||comp.env.weContext.action;if(actionId){const actionParam=comp.props.actionParam??comp.env.weContext.actionParam;return{actionId:actionId,actionParam:convertParamToObject(actionParam),actionValue:comp.props.actionValue,};}}
function getAllActions(){const actions=getShorthandActions();const{actionId,actionParam,actionValue}=getCustomAction()||{};if(actionId){actions.push({actionId,actionParam,actionValue});}
const inheritedActions=inheritedActionIds.map((actionId)=>comp.env.dependencyManager.get(actionId)?.getActions?.()||[]).flat()||[];return actions.concat(inheritedActions||[]);}
function callOperation(fn,params={}){const isPreviewing=!!params.preview;const actionsSpecs=getActionsSpecs(getAllActions(),params.userInputValue);comp.env.editor.shared.operation.next(()=>fn(actionsSpecs,isPreviewing),{load:async()=>Promise.all(actionsSpecs.map(async(applySpec)=>{if(!applySpec.action.has("load")){return;}
const hasClean=!!applySpec.action.has("clean");if(!applySpec.loadOnClean&&_shouldClean(comp,hasClean,isApplied())){return;}
const result=await applySpec.action.load({editingElement:applySpec.editingElement,params:applySpec.actionParam,value:applySpec.actionValue,});applySpec.loadResult=result;})),...params.operationParams,});}
function isApplied(){const getAction=comp.env.editor.shared.builderActions.getAction;const editingElements=comp.env.getEditingElements();if(!editingElements.length){return;}
const areActionsActiveTabs=getAllActions().map((o)=>{const{actionId,actionParam,actionValue}=o;const editingElement=editingElements[0];if(!isConnectedElement(editingElement)){return false;}
const isApplied=getAction(actionId).isApplied?.({editingElement,params:actionParam,value:actionValue,});return comp.props.inverseAction?!isApplied:isApplied;});if(areActionsActiveTabs.every((el)=>el===undefined)){return false;}
if(areActionsActiveTabs.some((el)=>el===false)){return false;}
return true;}
return{getAllActions:getAllActions,callOperation:callOperation,isApplied:isApplied,};}
function _shouldClean(comp,hasClean,isApplied){if(!hasClean){return false;}
const shouldToggle=!comp.env.selectableContext;const shouldClean=shouldToggle&&isApplied;return comp.props.inverseAction?!shouldClean:shouldClean;}
__exports.convertParamToObject=convertParamToObject;function convertParamToObject(param){if(param===undefined){param={};}else if(param instanceof Array||param instanceof Function||!(param instanceof Object)){param={["mainParam"]:param,};}
return param;}
const BaseOptionComponent=__exports.BaseOptionComponent=class BaseOptionComponent extends Component{static components={};static props={};static template="";setup(){this.isActiveItem=useIsActiveItem();const comp=useComponent();const editor=comp.env.editor;if(!comp.constructor.components){comp.constructor.components={};}
const Components=editor.shared.builderComponents.getComponents();Object.assign(comp.constructor.components,Components);}}
return __exports;});;

/* /html_builder/static/src/core/version_control_plugin.js */
odoo.define('@html_builder/core/version_control_plugin',['@html_editor/plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const VersionControlPlugin=__exports.VersionControlPlugin=class VersionControlPlugin extends Plugin{static id="versionControl";static dependencies=["builderOptions"];accessPerOutdatedEl=new WeakMap();static shared=["hasAccessToOutdatedEl","giveAccessToOutdatedEl","replaceWithNewVersion"];hasAccessToOutdatedEl(el){if(!el.dataset.snippet){return true;}
if(this.accessPerOutdatedEl.has(el)){return this.accessPerOutdatedEl.get(el);}
const snippetKey=el.dataset.snippet;const snippet=this.services["html_builder.snippets"].getOriginalSnippet(snippetKey);let isUpToDate=true;if(snippet){const{vcss:originalVcss,vxml:originalVxml,vjs:originalVjs,}=snippet.content.dataset;const{vcss:elVcss,vxml:elVxml,vjs:elVjs}=el.dataset;isUpToDate=originalVcss===elVcss&&originalVxml===elVxml&&originalVjs===elVjs;}
this.accessPerOutdatedEl.set(el,isUpToDate);return isUpToDate;}
giveAccessToOutdatedEl(el){this.accessPerOutdatedEl.set(el,true);}
replaceWithNewVersion(el){const snippetKey=el.dataset.snippet;const snippet=this.services["html_builder.snippets"].getOriginalSnippet(snippetKey);const cloneEl=snippet.content.cloneNode(true);el.replaceWith(cloneEl);this.dependencies["builderOptions"].updateContainers(cloneEl);}}
return __exports;});;

/* /html_builder/static/src/core/visibility_plugin.js */
odoo.define('@html_builder/core/visibility_plugin',['@html_editor/plugin','@html_builder/utils/utils','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{isMobileView}=require("@html_builder/utils/utils");const{withSequence}=require("@html_editor/utils/resource");const VisibilityPlugin=__exports.VisibilityPlugin=class VisibilityPlugin extends Plugin{static id="visibility";static dependencies=["builderOptions","disableSnippets"];static shared=["toggleTargetVisibility","cleanForSaveVisibility","onOptionVisibilityUpdate",];resources={on_mobile_preview_clicked:withSequence(10,this.onMobilePreviewClicked.bind(this)),system_attributes:["data-invisible"],system_classes:["o_snippet_override_invisible"],};setup(){const isMobilePreview=isMobileView(this.editable);this.editable.querySelectorAll(".o_snippet_mobile_invisible, .o_snippet_desktop_invisible").forEach((invisibleEl)=>{const isMobileHidden=invisibleEl.matches(".o_snippet_mobile_invisible");const isDesktopHidden=invisibleEl.matches(".o_snippet_desktop_invisible");if((isMobileHidden&&isMobilePreview)||(isDesktopHidden&&!isMobilePreview)){invisibleEl.setAttribute("data-invisible","1");}else{invisibleEl.removeAttribute("data-invisible");}});}
cleanForSaveVisibility(editingEl){const show=!editingEl.classList.contains("o_snippet_invisible")&&!editingEl.classList.contains("o_snippet_mobile_invisible")&&!editingEl.classList.contains("o_snippet_desktop_invisible");this.toggleTargetVisibility(editingEl,show);const overrideInvisibleEls=[editingEl,...editingEl.querySelectorAll(".o_snippet_override_invisible"),];for(const overrideInvisibleEl of overrideInvisibleEls){overrideInvisibleEl.classList.remove("o_snippet_override_invisible");}
const conditionalHiddenEls=[...editingEl.querySelectorAll("[data-visibility='conditional']"),];if(editingEl.matches("[data-visibility='conditional']")){conditionalHiddenEls.unshift(editingEl);}
conditionalHiddenEls.forEach((el)=>el.removeAttribute("data-invisible"));}
onMobilePreviewClicked(){const invisibleOverrideEls=this.editable.querySelectorAll(".o_snippet_mobile_invisible, .o_snippet_desktop_invisible");for(const invisibleOverrideEl of[...invisibleOverrideEls]){invisibleOverrideEl.classList.remove("o_snippet_override_invisible");const show=this.toggleVisibilityStatus({editingEl:invisibleOverrideEl,considerDeviceVisibility:true,});if(!show&&invisibleOverrideEl.contains(this.dependencies["builderOptions"].getTarget())){this.dependencies["builderOptions"].deactivateContainers();}}}
toggleTargetVisibility(editingEl,show,considerDeviceVisibility){show=this.toggleVisibilityStatus({editingEl,show,considerDeviceVisibility});const dispatchName=show?"target_show":"target_hide";this.dispatchTo(dispatchName,editingEl);return show;}
onOptionVisibilityUpdate(editingEl,show){const isShown=this.toggleVisibilityStatus({editingEl,show});if(!isShown){this.dependencies["builderOptions"].deactivateContainers();}
this.config.updateInvisibleElementsPanel();this.dependencies.disableSnippets.disableUndroppableSnippets();}
toggleVisibilityStatus({editingEl,show,considerDeviceVisibility=false}){if(considerDeviceVisibility&&editingEl.matches(".o_snippet_mobile_invisible, .o_snippet_desktop_invisible")){const isMobilePreview=isMobileView(editingEl);const isMobileHidden=editingEl.classList.contains("o_snippet_mobile_invisible");show=isMobilePreview!==isMobileHidden;}
if(show===undefined){show=!isTargetVisible(editingEl);}
if(show){delete editingEl.dataset.invisible;}else{editingEl.dataset.invisible="1";}
return show;}}
function isTargetVisible(editingEl){return editingEl.dataset.invisible!=="1";}
return __exports;});;

/* /html_builder/static/src/plugins/alert_option_plugin.js */
odoo.define('@html_builder/plugins/alert_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/fonts','@web/core/registry','@html_editor/utils/resource','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{before,WIDTH}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{fonts}=require("@html_editor/utils/fonts");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{BuilderAction}=require("@html_builder/core/builder_action");class AlertOptionPlugin extends Plugin{static id="alertOption";resources={builder_actions:{AlertIconAction,},builder_options:[withSequence(before(WIDTH),{template:"html_builder.AlertOption",selector:".s_alert",}),],so_content_addition_selector:[".s_alert"],};}
const AlertIconAction=__exports.AlertIconAction=class AlertIconAction extends BuilderAction{static id="alertIcon";apply({editingElement,params:{mainParam:className}}){const icon=editingElement.querySelector(".s_alert_icon");if(!icon){return;}
fonts.computeFonts();const allFaIcons=fonts.fontIcons[0].alias;icon.classList.remove(...allFaIcons);icon.classList.add(className);}
clean({editingElement,params:{mainParam:className}}){const icon=editingElement.querySelector(".s_alert_icon");if(!icon){return;}
icon.classList.remove(className);}
isApplied({editingElement,params:{mainParam:className}}){const iconEl=editingElement.querySelector(".s_alert_icon");if(!iconEl){return;}
return iconEl.classList.contains(className);}}
registry.category("website-plugins").add(AlertOptionPlugin.id,AlertOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/block_alignment_option_plugin.js */
odoo.define('@html_builder/plugins/block_alignment_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{BLOCK_ALIGN}=require("@html_builder/utils/option_sequence");class BlockAlignmentOptionPlugin extends Plugin{static id="blockAlignmentOption";resources={builder_options:[withSequence(BLOCK_ALIGN,{template:"html_builder.BlockAlignmentOption",selector:".s_alert, .s_blockquote, .s_text_highlight",}),],};}
registry.category("website-plugins").add(BlockAlignmentOptionPlugin.id,BlockAlignmentOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/border_configurator_option.js */
odoo.define('@html_builder/plugins/border_configurator_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const BorderConfigurator=__exports.BorderConfigurator=class BorderConfigurator extends BaseOptionComponent{static template="html_builder.BorderConfiguratorOption";static props={label:{type:String},direction:{type:String,optional:true},withRoundCorner:{type:Boolean,optional:true},withBSClass:{type:Boolean,optional:true},action:{type:String,optional:true},};static defaultProps={withRoundCorner:true,withBSClass:true,action:"styleAction",};setup(){super.setup();this.state=useDomState((editingElement)=>({hasBorder:this.hasBorder(editingElement),}));}
getStyleActionParam(param){return`border-${this.props.direction ? this.props.direction + "-" : ""}${param}`;}
hasBorder(editingElement){const getAction=this.env.editor.shared.builderActions.getAction;const styleActionValue=getAction("styleAction").getValue({editingElement,params:{mainParam:this.getStyleActionParam("width"),},});const values=(styleActionValue||"0").match(/\d+/g);return values.some((value)=>parseInt(value)>0);}}
return __exports;});;

/* /html_builder/static/src/plugins/font/font_plugin.js */
odoo.define('@html_builder/plugins/font/font_plugin',['@html_editor/plugin','@web/core/registry','@web/core/l10n/translation','@web/core/utils/cache','@web/core/assets','@html_builder/utils/utils_css','@html_builder/plugins/font/font_size_selector'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{Cache}=require("@web/core/utils/cache");const{loadCSS}=require("@web/core/assets");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{BuilderFontSizeSelector}=require("@html_builder/plugins/font/font_size_selector");const BuilderFontPlugin=__exports.BuilderFontPlugin=class BuilderFontPlugin extends Plugin{static id="builderFont";static shared=["getFontsCache","getFontsData"];static dependencies=["savePlugin","toolbar"];resources={fontCssVariables:["font","headings-font","h2-font","h3-font","h4-font","h5-font","h6-font","display-1-font","display-2-font","display-3-font","display-4-font","buttons-font",],};setup(){this.fontsCache=new Cache(this._fetchFonts.bind(this),JSON.stringify);const buttonGroups=this.dependencies.toolbar.getToolbarInfo().buttonGroups;for(const buttonGroup of buttonGroups){if(buttonGroup.id!=="font"){continue;}
for(const button of buttonGroup.buttons){if(button.id==="font-size"){button.Component=BuilderFontSizeSelector;}}}}
destroy(){super.destroy();this.fontsCache.invalidate();}
getFontsCache(){return this.fontsCache;}
async getFontsData(){return this.fontsCache.read({});}
async _fetchFonts(){const style=window.getComputedStyle(this.document.documentElement);const nbFonts=parseInt(getCSSVariableValue("number-of-fonts",style));const googleFontsProperty=getCSSVariableValue("google-fonts",style);let googleFonts=googleFontsProperty?googleFontsProperty.split(/\s*,\s*/g):[];googleFonts=googleFonts.map((font)=>font.substring(1,font.length-1));const googleLocalFontsProperty=getCSSVariableValue("google-local-fonts",style);const googleLocalFonts=googleLocalFontsProperty?googleLocalFontsProperty.slice(1,-1).split(/\s*,\s*/g):[];const uploadedLocalFontsProperty=getCSSVariableValue("uploaded-local-fonts",style);const uploadedLocalFonts=uploadedLocalFontsProperty?uploadedLocalFontsProperty.slice(1,-1).split(/\s*,\s*/g):[];googleFonts=googleFonts.filter((font)=>{const localFonts=googleLocalFonts.map((localFont)=>localFont.split(":")[0]);return localFonts.indexOf(`'${font}'`)===-1;});const allFonts=[];const fontsToLoad=[];for(const font of googleFonts){const fontURL=`https://fonts.googleapis.com/css?family=${encodeURIComponent(
                font
            ).replace(/%20/g, "+")}`;fontsToLoad.push(fontURL);}
for(const font of googleLocalFonts){const attachmentId=font.split(/\s*:\s*/)[1];const fontURL=`/web/content/${encodeURIComponent(attachmentId)}`;fontsToLoad.push(fontURL);}
const proms=fontsToLoad.map(async(fontURL)=>loadCSS(fontURL));const _fonts=[];const themeFontsNb=nbFonts-(googleLocalFonts.length+googleFonts.length+uploadedLocalFonts.length);const localFontsOffset=nbFonts-googleLocalFonts.length-uploadedLocalFonts.length;const uploadedFontsOffset=nbFonts-uploadedLocalFonts.length;for(let fontNb=0;fontNb<nbFonts;fontNb++){const realFontNb=fontNb+1;const fontKey=getCSSVariableValue(`font-number-${realFontNb}`,style);allFonts.push(fontKey);let fontName=fontKey.slice(1,-1);const fontFamilyValue=`'${fontName}'`;let styleFontFamily=fontName;const isSystemFonts=fontName==="SYSTEM_FONTS";if(isSystemFonts){fontName=_t("System Fonts");styleFontFamily="var(--o-system-fonts)";}
let type="cloud";let indexForType=fontNb-themeFontsNb;if(fontNb>=localFontsOffset){if(fontNb<uploadedFontsOffset){type="google";indexForType=fontNb-localFontsOffset;}else{type="uploaded";indexForType=fontNb-uploadedFontsOffset;}}
_fonts.push({type,indexForType,fontFamilyValue,styleFontFamily,string:fontName,});}
await Promise.all(proms);return{allFonts,googleFonts,googleLocalFonts,uploadedLocalFonts,_fonts,};}}
registry.category("website-plugins").add(BuilderFontPlugin.id,BuilderFontPlugin);return __exports;});;

/* /html_builder/static/src/plugins/font/font_size_selector.js */
odoo.define('@html_builder/plugins/font/font_size_selector',['@html_editor/main/font/font_size_selector'],function(require){'use strict';let __exports={};const{FontSizeSelector}=require("@html_editor/main/font/font_size_selector");const BuilderFontSizeSelector=__exports.BuilderFontSizeSelector=class BuilderFontSizeSelector extends FontSizeSelector{static template="html_builder.FontSizeSelector";setup(){super.setup();this.fontSizeTags={"display-1-font-size":"Display 1","display-2-font-size":"Display 2","display-3-font-size":"Display 3","display-4-font-size":"Display 4","h1-font-size":"Heading 1","h2-font-size":"Heading 2","h3-font-size":"Heading 3","h4-font-size":"Heading 4","h5-font-size":"Heading 5","h6-font-size":"Normal","font-size-base":"Normal","small-font-size":"Small",};}}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_filter_option.js */
odoo.define('@html_builder/plugins/image/image_filter_option',['@html_builder/core/utils','@html_editor/main/media/image_post_process_plugin','@html_editor/utils/image_processing'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{shouldPreventGifTransformation}=require("@html_editor/main/media/image_post_process_plugin");const{loadImageInfo}=require("@html_editor/utils/image_processing");const ImageFilterOption=__exports.ImageFilterOption=class ImageFilterOption extends BaseOptionComponent{static template="html_builder.ImageFilterOption";static props={level:{type:Number,optional:true},};static defaultProps={level:0,};setup(){super.setup();this.state=useDomState(async(editingElement)=>{const data=await loadImageInfo(editingElement).then((data)=>({...editingElement.dataset,...data,}));return{isCustomFilter:editingElement.dataset.glFilter==="custom",showFilter:data.mimetypeBeforeConversion&&!shouldPreventGifTransformation(data),};});}}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_filter_option_plugin.js */
odoo.define('@html_builder/plugins/image/image_filter_option_plugin',['@html_builder/core/builder_action','@html_builder/utils/utils_css','@html_editor/main/media/image_post_process_plugin','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{normalizeColor}=require("@html_builder/utils/utils_css");const{defaultImageFilterOptions}=require("@html_editor/main/media/image_post_process_plugin");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class ImageFilterOptionPlugin extends Plugin{static id="ImageFilterOption";resources={builder_actions:{GlFilterAction,SetCustomFilterAction,},};}
const GlFilterAction=__exports.GlFilterAction=class GlFilterAction extends BuilderAction{static id="glFilter";static dependencies=["imagePostProcess"];isApplied({editingElement,params:{mainParam:glFilterName}}){if(glFilterName){return editingElement.dataset.glFilter===glFilterName;}else{return!editingElement.dataset.glFilter;}}
async load({editingElement:img,params:{mainParam:glFilterName}}){return await this.dependencies.imagePostProcess.processImage({img,newDataset:{glFilter:glFilterName,},});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const SetCustomFilterAction=__exports.SetCustomFilterAction=class SetCustomFilterAction extends BuilderAction{static id="setCustomFilter";static dependencies=["imagePostProcess"];getValue({editingElement,params:{mainParam:filterProperty}}){const filterOptions=JSON.parse(editingElement.dataset.filterOptions||"{}");return filterOptions[filterProperty]||defaultImageFilterOptions[filterProperty];}
isApplied({editingElement,params:{mainParam:filterProperty},value:filterValue}){const filterOptions=JSON.parse(editingElement.dataset.filterOptions||"{}");return(filterValue===(filterOptions[filterProperty]||defaultImageFilterOptions[filterProperty]));}
async load({editingElement:img,params:{mainParam:filterProperty},value}){const filterOptions=JSON.parse(img.dataset.filterOptions||"{}");filterOptions[filterProperty]=filterProperty==="filterColor"?normalizeColor(value):value;return this.dependencies.imagePostProcess.processImage({img,newDataset:{filterOptions:JSON.stringify(filterOptions),},});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
registry.category("website-plugins").add(ImageFilterOptionPlugin.id,ImageFilterOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/image/image_format_option.js */
odoo.define('@html_builder/plugins/image/image_format_option',['@html_builder/core/utils','@html_editor/utils/image','@web/core/utils/numbers'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{getImageSrc,getMimetype}=require("@html_editor/utils/image");const{clamp}=require("@web/core/utils/numbers");const ImageFormatOption=__exports.ImageFormatOption=class ImageFormatOption extends BaseOptionComponent{static template="html_builder.ImageFormat";static props={level:{type:Number,optional:true},computeMaxDisplayWidth:{type:Function,optional:true},};static defaultProps={level:0,};MAX_SUGGESTED_WIDTH=1920;setup(){super.setup();this.state=useDomState(async(editingElement)=>{const formats=await this.env.editor.shared.imageFormatOption.computeAvailableFormats(editingElement,this.computeMaxDisplayWidth.bind(this));const hasSrc=!!getImageSrc(editingElement);return{showQuality:["image/jpeg","image/webp"].includes(getMimetype(editingElement)),formats:hasSrc?formats:[],};});}
computeMaxDisplayWidth(img){if(this.props.computeMaxDisplayWidth){return this.props.computeMaxDisplayWidth(img);}
return computeMaxDisplayWidth(img,this.MAX_SUGGESTED_WIDTH);}}
__exports.computeMaxDisplayWidth=computeMaxDisplayWidth;function computeMaxDisplayWidth(img,MAX_SUGGESTED_WIDTH=1920){const window=img.ownerDocument.defaultView;if(!window){return;}
const computedStyles=window.getComputedStyle(img);const displayWidth=parseFloat(computedStyles.getPropertyValue("width"));const gutterWidth=parseFloat(computedStyles.getPropertyValue("--o-grid-gutter-width"))||30;if(img.closest("nav")){return Math.round(Math.min(displayWidth*3,MAX_SUGGESTED_WIDTH));}else if(img.closest(".container, .o_container_small")){const mdContainerMaxWidth=parseFloat(computedStyles.getPropertyValue("--o-md-container-max-width"))||720;const mdContainerInnerWidth=mdContainerMaxWidth-gutterWidth;return Math.round(clamp(displayWidth,mdContainerInnerWidth,MAX_SUGGESTED_WIDTH));}else if(img.closest(".container-fluid")){const lgBp=parseFloat(computedStyles.getPropertyValue("--breakpoint-lg"))||992;const mdContainerFluidMaxInnerWidth=lgBp-gutterWidth;return Math.round(clamp(displayWidth,mdContainerFluidMaxInnerWidth,MAX_SUGGESTED_WIDTH));}
return Math.round(Math.min(displayWidth*1.5,MAX_SUGGESTED_WIDTH));}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_format_option_plugin.js */
odoo.define('@html_builder/plugins/image/image_format_option_plugin',['@html_builder/core/builder_action','@html_editor/main/media/image_post_process_plugin','@html_editor/plugin','@html_editor/utils/image_processing','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{DEFAULT_IMAGE_QUALITY,shouldPreventGifTransformation,}=require("@html_editor/main/media/image_post_process_plugin");const{Plugin}=require("@html_editor/plugin");const{loadImage,loadImageInfo}=require("@html_editor/utils/image_processing");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");class ImageFormatOptionPlugin extends Plugin{static id="imageFormatOption";static shared=["computeAvailableFormats"];resources={builder_actions:{SetImageFormatAction,SetImageQualityAction,},};async computeAvailableFormats(img,computeMaxDisplayWidth){const data={...img.dataset,...(await loadImageInfo(img))};if(!data.mimetypeBeforeConversion||shouldPreventGifTransformation(data)){return[];}
const maxWidth=await this.getImageWidth(data.originalSrc,data.width);const optimizedWidth=Math.min(maxWidth,computeMaxDisplayWidth?.(img)||0);const widths={128:["128px","image/webp"],256:["256px","image/webp"],512:["512px","image/webp"],1024:["1024px","image/webp"],1920:["1920px","image/webp"],};widths[img.naturalWidth]=[_t("%spx",img.naturalWidth),"image/webp"];widths[optimizedWidth]=[_t("%spx (Suggested)",optimizedWidth),"image/webp"];const mimetypeBeforeConversion=data.mimetypeBeforeConversion;widths[maxWidth]=[_t("%spx (Original)",maxWidth),mimetypeBeforeConversion,true];if(mimetypeBeforeConversion!=="image/webp"){widths[maxWidth-0.1]=[_t("%spx",maxWidth),"image/webp"];}
return Object.entries(widths).filter(([width])=>width<=maxWidth).sort(([v1],[v2])=>v1-v2).map(([width,[label,mimetype,isOriginal]])=>{const id=`${width}-${mimetype}`;return{id,width:Math.round(width),label,mimetype,isOriginal};});}
async getImageWidth(originalSrc,width){const getNaturalWidth=()=>loadImage(originalSrc).then((i)=>i.naturalWidth);return width?Math.round(width):await getNaturalWidth();}}
const SetImageFormatAction=__exports.SetImageFormatAction=class SetImageFormatAction extends BuilderAction{static id="setImageFormat";static dependencies=["imagePostProcess"];isApplied({editingElement,params:{width,mimetype,isOriginal}}){const isOriginalUntouched=(!editingElement.dataset.resizeWidth||!editingElement.dataset.formatMimetype)&&isOriginal;return(isOriginalUntouched||(editingElement.dataset.resizeWidth===String(width)&&editingElement.dataset.formatMimetype===mimetype));}
async load({editingElement:img,params:{width,mimetype}}){return this.dependencies.imagePostProcess.processImage({img,newDataset:{resizeWidth:width,formatMimetype:mimetype,},});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const SetImageQualityAction=__exports.SetImageQualityAction=class SetImageQualityAction extends BuilderAction{static id="setImageQuality";static dependencies=["imagePostProcess"];getValue({editingElement:img}){return("quality"in img.dataset&&img.dataset.quality)||DEFAULT_IMAGE_QUALITY;}
async load({editingElement:img,value:quality}){return this.dependencies.imagePostProcess.processImage({img,newDataset:{quality,},});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
registry.category("website-plugins").add(ImageFormatOptionPlugin.id,ImageFormatOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/image/image_helpers.js */
odoo.define('@html_builder/plugins/image/image_helpers',[],function(require){'use strict';let __exports={};__exports.getShapeURL=getShapeURL;function getShapeURL(shapeName){const[module,directory,fileName]=shapeName.split("/");return`/${encodeURIComponent(module)}/static/image_shapes/${encodeURIComponent(
        directory
    )}/${encodeURIComponent(fileName)}.svg`;}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_shape_option.js */
odoo.define('@html_builder/plugins/image/image_shape_option',['@html_builder/core/utils','@html_builder/utils/utils','@web/core/l10n/translation','@html_builder/plugins/shape/shape_selector'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{toRatio}=require("@html_builder/utils/utils");const{_t}=require("@web/core/l10n/translation");const{ShapeSelector}=require("@html_builder/plugins/shape/shape_selector");const ImageShapeOption=__exports.ImageShapeOption=class ImageShapeOption extends BaseOptionComponent{static template="html_builder.ImageShapeOption";static props={};setup(){super.setup();this.customizeTabPlugin=this.env.editor.shared.customizeTab;this.imageShapeOption=this.env.editor.shared.imageShapeOption;this.toRatio=toRatio;this.state=useDomState((editingElement)=>{let shape=editingElement.dataset.shape;if(shape){shape=shape.replace("web_editor","html_builder");}
return{hasShape:!!shape,shapeLabel:this.imageShapeOption.getShapeLabel(shape),showImageShape0:this.isShapeVisible(editingElement,0),showImageShape1:this.isShapeVisible(editingElement,1),showImageShape2:this.isShapeVisible(editingElement,2),showImageShape3:this.isShapeVisible(editingElement,3),showImageShape4:this.isShapeVisible(editingElement,4),showImageShapeTransform:this.imageShapeOption.isTransformableShape(shape),showImageShapeAnimation:this.imageShapeOption.isAnimableShape(shape),togglableRatio:this.imageShapeOption.isTogglableRatioShape(shape),};});}
isShapeVisible(img,shapeIndex){const shapeName=img.dataset.shape;const shapeColors=img.dataset.shapeColors;if(!shapeName||!shapeColors){return false;}
const colors=img.dataset.shapeColors.split(";");return colors[shapeIndex];}
showImageShapes(){this.customizeTabPlugin.openCustomizeComponent(ShapeSelector,this.env.getEditingElements(),{shapeActionId:"setImageShape",buttonWrapperClassName:"o-hb-img-shape-btn",selectorTitle:_t("Shapes"),shapeGroups:this.imageShapeOption.getImageShapeGroups(),});}}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_shape_option_plugin.js */
odoo.define('@html_builder/plugins/image/image_shape_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/color','@web/core/utils/colors','@html_builder/utils/utils_css','@html_builder/plugins/image/image_helpers','@html_editor/utils/image_processing','@html_builder/utils/utils','@html_builder/plugins/image/image_shapes_definition','@html_editor/main/media/image_post_process_plugin','@web/core/l10n/translation','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{DEFAULT_PALETTE}=require("@html_editor/utils/color");const{isCSSColor}=require("@web/core/utils/colors");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{getShapeURL}=require("@html_builder/plugins/image/image_helpers");const{activateCropper,createDataURL,loadImage}=require("@html_editor/utils/image_processing");const{getValueFromVar}=require("@html_builder/utils/utils");const{imageShapeDefinitions}=require("@html_builder/plugins/image/image_shapes_definition");const{getImageTransformationData,shouldPreventGifTransformation,}=require("@html_editor/main/media/image_post_process_plugin");const{_t}=require("@web/core/l10n/translation");const{BuilderAction}=require("@html_builder/core/builder_action");const CSS_ANIMATION_RULE_REGEX=/(?<declaration>animation(?:-duration)?: .*?)(?<value>(?:\d+(?:\.\d+)?)|(?:\.\d+))(?<unit>ms|s)(?<separator>\s|;|"|$)/gm;const SVG_DUR_TIMECOUNT_VAL_REGEX=/(?<attribute_name>\sdur="\s*)(?<value>(?:\d+(?:\.\d+)?)|(?:\.\d+))(?<unit>h|min|ms|s)?\s*"/gm;const CSS_ANIMATION_RATIO_REGEX=/(--animation_ratio: (?<ratio>\d*(\.\d+)?));/m;const ImageShapeOptionPlugin=__exports.ImageShapeOptionPlugin=class ImageShapeOptionPlugin extends Plugin{static id="imageShapeOption";static dependencies=["history","userCommand","imagePostProcess"];static shared=["getImageShapeGroups","isTransformableShape","isAnimableShape","isTogglableRatioShape","getShapeLabel","loadShape","getCSSColorValue",];resources={builder_actions:{SetImageShapeAction,SetImgShapeColorAction,FlipImageShapeAction,RotateImageShapeAction,SetImageShapeSpeedAction,ToggleImageShapeRatioAction,},process_image_warmup_handlers:this.processImageWarmup.bind(this),process_image_post_handlers:this.processImagePost.bind(this),};setup(){this.shapeSvgTextCache={};this.imageShapes=this.makeImageShapes();}
async getShapeSvgText(shapeName){let shapeSvgText=this.shapeSvgTextCache[shapeName];if(shapeSvgText){return shapeSvgText;}
const shapeURL=getShapeURL(shapeName);shapeSvgText=await(await fetch(shapeURL)).text();this.shapeSvgTextCache[shapeName]=shapeSvgText;return shapeSvgText;}
async loadShape(img,newData={}){return this.dependencies.imagePostProcess.processImage({img,newDataset:newData});}
async processImageWarmup(img,newDataset){const getData=(propName)=>propName in newDataset?newDataset[propName]:img.dataset[propName];const shapeId=getData("shape");if(!shapeId){return;}
const isNewShape="shape"in newDataset&&newDataset.shape!==img.dataset.shape;const shapeSvgText=await this.getShapeSvgText(shapeId);const defaultShapeColors=this.getThemedSvgColors(shapeSvgText).join(";");newDataset.shapeColors=newDataset.shapeColors??(isNewShape?defaultShapeColors:img.dataset.shapeColors??defaultShapeColors);const getNaturalWidth=async()=>{if(img.naturalWidth){return img.naturalWidth;}
await new Promise((resolve,reject)=>{img.addEventListener("load",()=>resolve(img),{once:true});img.addEventListener("error",reject,{once:true});});return img.naturalWidth;};const svgWidth=getData("resizeWidth")||getData("width")||(await getNaturalWidth());const svg=this.computeShape(shapeSvgText,{shapeId,shapeFlip:getData("shapeFlip")||"",shapeRotate:getData("shapeRotate")||0,shapeAnimationSpeed:Number(getData("shapeAnimationSpeed"))||0,shapeColors:newDataset.shapeColors,});const svgAspectRatio=parseInt(svg.getAttribute("width"))/parseInt(svg.getAttribute("height"));const imgAspectRatio=svg.dataset.imgAspectRatio;if(isNewShape&&!("aspectRatio"in newDataset)){const data=getImageTransformationData({...img.dataset,...newDataset});const shouldBeSquared=this.imageShapes[shapeId].togglableRatio&&!img.dataset.aspectRatio;if(shouldBeSquared&&!shouldPreventGifTransformation(data)){newDataset.aspectRatio="1/1";}}
const postProcessCroppedCanvas=async(canvas)=>{const img=await loadImage(canvas.toDataURL());document.createElement("div").appendChild(img);const cropper=await activateCropper(img,1,{y:0});const croppedCanvas=cropper.getCroppedCanvas();cropper.destroy();return croppedCanvas;};return{getHeight:svg.dataset.imgPerspective&&((canvas)=>canvas.width/svgAspectRatio),perspective:svg.dataset.imgPerspective||null,newDataset,postProcessCroppedCanvas:imgAspectRatio&&postProcessCroppedCanvas,svg,svgAspectRatio,svgWidth,};}
async processImagePost(b64url,handlerDataset,processContext){const{svg,svgAspectRatio,svgWidth}=processContext;if(!svg){return;}
svg.querySelectorAll("image").forEach((image)=>{image.setAttribute("xlink:href",b64url);});const loadedImage=await loadImage(b64url);if(!svg.dataset.forcedSize){svg.setAttribute("width",loadedImage.naturalWidth);svg.setAttribute("height",loadedImage.naturalHeight);}else{const imageWidth=Math.trunc(svgWidth);const newHeight=imageWidth/svgAspectRatio;svg.setAttribute("width",imageWidth);svg.setAttribute("height",newHeight);}
const blob=new Blob([svg.outerHTML],{type:"image/svg+xml",});const dataURL=await createDataURL(blob);return[dataURL,{...handlerDataset,mimetype:"image/svg+xml"}];}
computeShape(svgText,{shapeId,shapeFlip,shapeRotate,shapeAnimationSpeed,shapeColors}){svgText=this.replaceSvgColors(svgText,shapeColors.split(";"));if(shapeAnimationSpeed){svgText=this.replaceAnimationDuration(svgText,shapeAnimationSpeed);}
const svg=new DOMParser().parseFromString(svgText,"image/svg+xml").documentElement;if((shapeFlip||shapeRotate)&&this.isTransformableShape(shapeId)){const shapeTransformValues=[];if(shapeFlip){shapeTransformValues.push(`scale${shapeFlip === "x" ? "X" : shapeFlip === "y" ? "Y" : ""}(-1)`);}
if(shapeRotate){shapeTransformValues.push(`rotate(${shapeRotate}deg)`);}
const transformOrigin="transform-origin: 0.5px 0.5px;";svg.querySelector("#filterPath").setAttribute("style",`transform: ${shapeTransformValues.join(" ")}; ${transformOrigin}`);}
svg.removeChild(svg.querySelector("#preview"));return svg;}
replaceAnimationDuration(svgText,speed){const ratio=(speed>=0.0?1.0+speed:1.0/(1.0-speed)).toFixed(3);function callbackCssAnimationRule(match,declaration,value,unit,separator){value=parseFloat(value)/(ratio?ratio:1);return`${declaration}${value}${unit}${separator}`;}
function callbackSvgDurTimecountVal(match,attribute_name,value,unit){value=parseFloat(value)/(ratio?ratio:1);return`${attribute_name}${value}${unit ? unit : "s"}"`;}
svgText=svgText.replace(CSS_ANIMATION_RULE_REGEX,callbackCssAnimationRule);svgText=svgText.replace(SVG_DUR_TIMECOUNT_VAL_REGEX,callbackSvgDurTimecountVal);if(CSS_ANIMATION_RATIO_REGEX.test(svgText)){svgText=svgText.replace(CSS_ANIMATION_RATIO_REGEX,`--animation_ratio: ${ratio};`);}else{const regex=/<svg .*>/m;const subst=`$&\n\t<style>\n\t\t:root { \n\t\t\t--animation_ratio: ${ratio};\n\t\t}\n\t</style>`;svgText=svgText.replace(regex,subst);}
return svgText;}
replaceSvgColors(shapeSvgText,colors){const svgColors=this.getSvgColors(shapeSvgText);for(const[i,color]of colors.entries()){shapeSvgText=shapeSvgText.replace(new RegExp(svgColors[i],"g"),this.getCSSColorValue(color));}
return shapeSvgText;}
getSvgColors(shapeSvgText){return Object.values(DEFAULT_PALETTE).map((color)=>shapeSvgText.includes(color)?color:null);}
getThemedSvgColors(shapeSvgText){const svgColors=this.getSvgColors(shapeSvgText);return svgColors.map((color,i)=>color!==null?this.getCSSColorValue(`o-color-${i + 1}`):null);}
applyShapeColors(editingElement,newColors){}
getCSSColorValue(color){if(!color||isCSSColor(color)){return color;}
return getCSSVariableValue(color);}
isTransformableShape(shapeId){if(!shapeId){return false;}
const canTransform=this.imageShapes[shapeId].transform;return typeof canTransform==="undefined"?true:canTransform;}
getShapeLabel(shapeId){if(!shapeId){return _t("None");}
return this.imageShapes[shapeId].selectLabel||_t("None");}
isAnimableShape(shape){if(!shape){return false;}
return this.imageShapes[shape].animated;}
isTogglableRatioShape(shape){if(!shape){return false;}
return this.imageShapes[shape].togglableRatio;}
getImageShapeGroups(){return imageShapeDefinitions;}
makeImageShapes(){const entries=Object.values(this.getImageShapeGroups()).map((x)=>Object.values(x.subgroups).map((x)=>Object.entries(x.shapes)).flat()).flat();return Object.fromEntries(entries);}}
const SetImageShapeAction=__exports.SetImageShapeAction=class SetImageShapeAction extends BuilderAction{static id="setImageShape";static dependencies=["imageShapeOption"];async load({editingElement:img,value:shapeId}){const params={shape:shapeId};return this.dependencies.imageShapeOption.loadShape(img,params);}
apply({editingElement:img,loadResult:updateImageAttributes}){updateImageAttributes();const imgFilename=img.dataset.originalSrc.split("/").pop().split(".")[0];img.dataset.fileName=`${imgFilename}.svg`;}}
const SetImgShapeColorAction=__exports.SetImgShapeColorAction=class SetImgShapeColorAction extends BuilderAction{static id="setImgShapeColor";static dependencies=["imageShapeOption"];getValue({editingElement:img,params:{index:colorIndex}}){return img.dataset.shapeColors?.split(";")[colorIndex]||"";}
async load({editingElement:img,params:{index:colorIndex},value:color}){color=getValueFromVar(color);const newColorId=parseInt(colorIndex);const oldColors=img.dataset.shapeColors.split(";");const newColors=oldColors.slice(0);newColors[newColorId]=this.dependencies.imageShapeOption.getCSSColorValue(color===""?`o-color-${newColorId + 1}`:color);return this.dependencies.imageShapeOption.loadShape(img,{shapeColors:newColors.join(";"),});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const FlipImageShapeAction=__exports.FlipImageShapeAction=class FlipImageShapeAction extends BuilderAction{static id="flipImageShape";static dependencies=["imageShapeOption"];async load({editingElement:img,params:{axis}}){const currentAxis=img.dataset.shapeFlip||"";const newAxis=currentAxis.includes(axis)?currentAxis.replace(axis,""):currentAxis+axis;return this.dependencies.imageShapeOption.loadShape(img,{shapeFlip:newAxis==="yx"?"xy":newAxis,});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const RotateImageShapeAction=__exports.RotateImageShapeAction=class RotateImageShapeAction extends BuilderAction{static id="rotateImageShape";static dependencies=["imageShapeOption"];async load({editingElement:img,params:{side}}){const currentRotateValue=parseInt(img.dataset.shapeRotate)||0;const rotation=side==="left"?-90:90;const newRotateValue=(currentRotateValue+rotation+360)%360;return this.dependencies.imageShapeOption.loadShape(img,{shapeRotate:newRotateValue});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const SetImageShapeSpeedAction=__exports.SetImageShapeSpeedAction=class SetImageShapeSpeedAction extends BuilderAction{static id="setImageShapeSpeed";static dependencies=["imageShapeOption"];getValue({editingElement:img}){return img.dataset.shapeAnimationSpeed||0;}
async load({editingElement:img,value:speed}){return this.dependencies.imageShapeOption.loadShape(img,{shapeAnimationSpeed:speed,});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const ToggleImageShapeRatioAction=__exports.ToggleImageShapeRatioAction=class ToggleImageShapeRatioAction extends BuilderAction{static id="toggleImageShapeRatio";static dependencies=["imageShapeOption"];isApplied({editingElement:img}){return img.dataset.aspectRatio!=="1/1";}
async load({editingElement:img}){const isStretched=img.dataset.aspectRatio!=="1/1";return this.dependencies.imageShapeOption.loadShape(img,{aspectRatio:isStretched?"1/1":"0/0",x:undefined,y:undefined,width:undefined,height:undefined,});}
apply({editingElement:img,loadResult:updateImageAttributes}){updateImageAttributes();}}
registry.category("website-plugins").add(ImageShapeOptionPlugin.id,ImageShapeOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/image/image_shapes_definition.js */
odoo.define('@html_builder/plugins/image/image_shapes_definition',['@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{_t}=require("@web/core/l10n/translation");const imageShapeDefinitions=__exports.imageShapeDefinitions={basic:{label:_t("Basic"),subgroups:{geometrics:{label:_t("Geometrics"),shapes:{"html_builder/geometric/geo_shuriken":{selectLabel:_t("Shuriken"),transform:false,togglableRatio:true,},"html_builder/geometric/geo_diamond":{selectLabel:_t("Diamond"),transform:false,togglableRatio:true,},"html_builder/geometric/geo_triangle":{selectLabel:_t("Triangle"),togglableRatio:true,},"html_builder/geometric/geo_cornered_triangle":{selectLabel:_t("Corner Triangle"),togglableRatio:true,},"html_builder/geometric/geo_pentagon":{selectLabel:_t("Pentagon"),togglableRatio:true,},"html_builder/geometric/geo_hexagon":{selectLabel:_t("Hexagon"),togglableRatio:true,},"html_builder/geometric/geo_heptagon":{selectLabel:_t("Heptagon"),togglableRatio:true,},"html_builder/geometric/geo_star":{selectLabel:_t("Star 1"),togglableRatio:true,},"html_builder/geometric/geo_star_8pin":{selectLabel:_t("Star 2"),transform:false,togglableRatio:true,},"html_builder/geometric/geo_star_16pin":{selectLabel:_t("Star 3"),transform:false,togglableRatio:true,},"html_builder/geometric/geo_slanted":{selectLabel:_t("Slanted"),togglableRatio:true,},"html_builder/geometric/geo_emerald":{selectLabel:_t("Emerald"),togglableRatio:true,},"html_builder/geometric/geo_tetris":{selectLabel:_t("Tetris"),togglableRatio:true,},"html_builder/geometric/geo_kayak":{selectLabel:_t("Kayak"),togglableRatio:true,},"html_builder/geometric/geo_tear":{selectLabel:_t("Tear"),togglableRatio:true,},"html_builder/geometric/geo_gem":{selectLabel:_t("Gem"),togglableRatio:true,},"html_builder/geometric/geo_sonar":{selectLabel:_t("Sonar"),togglableRatio:true,},"html_builder/geometric/geo_door":{selectLabel:_t("Door"),togglableRatio:true,},"html_builder/geometric/geo_square_1":{selectLabel:_t("Square 1"),animated:true,},"html_builder/geometric/geo_square_2":{selectLabel:_t("Square 2"),animated:true,},"html_builder/geometric/geo_square_3":{selectLabel:_t("Square 3"),animated:true,},"html_builder/geometric/geo_square_4":{selectLabel:_t("Square 4"),animated:true,},"html_builder/geometric/geo_square_5":{selectLabel:_t("Square 5"),animated:true,},"html_builder/geometric/geo_square_6":{selectLabel:_t("Square 6"),animated:true,},},},geometrics_rounded:{label:_t("Geometrics Rounded"),shapes:{"html_builder/geometric_round/geo_round_circle":{selectLabel:_t("Circle"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_square":{selectLabel:_t("Square (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_diamond":{selectLabel:_t("Diamond (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_shuriken":{selectLabel:_t("Shuriken (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_triangle":{selectLabel:_t("Triangle (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_pentagon":{selectLabel:_t("Pentagon (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_hexagon":{selectLabel:_t("Hexagon (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_heptagon":{selectLabel:_t("Heptagon (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_star":{selectLabel:_t("Star 1 (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_star_7pin":{selectLabel:_t("Star 2 (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_star_8pin":{selectLabel:_t("Star 3 (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_star_16pin":{selectLabel:_t("Star 4 (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_emerald":{selectLabel:_t("Emerald (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_lemon":{selectLabel:_t("Lemon (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_tear":{selectLabel:_t("Tear (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_pill":{selectLabel:_t("Pill (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_gem":{selectLabel:_t("Gem (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_cornered":{selectLabel:_t("Cornered"),togglableRatio:true,},"html_builder/geometric_round/geo_round_door":{selectLabel:_t("Door (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_sonar":{selectLabel:_t("Sonar (R)"),togglableRatio:true,},"html_builder/geometric_round/geo_round_clover":{selectLabel:_t("Clover (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_bread":{selectLabel:_t("Bread (R)"),transform:false,togglableRatio:true,},"html_builder/geometric_round/geo_round_square_1":{selectLabel:_t("Square 1 (R)"),animated:true,},"html_builder/geometric_round/geo_round_square_2":{selectLabel:_t("Square 2 (R)"),animated:true,},"html_builder/geometric_round/geo_round_blob_soft":{selectLabel:_t("Blob Soft"),animated:true,},"html_builder/geometric_round/geo_round_blob_medium":{selectLabel:_t("Blob Medium"),animated:true,},"html_builder/geometric_round/geo_round_blob_hard":{selectLabel:_t("Blob Hard"),animated:true,},},},geometric_panels:{label:_t("Geometrics Panels"),shapes:{"html_builder/panel/panel_duo":{selectLabel:_t("Duo"),},"html_builder/panel/panel_duo_r":{selectLabel:_t("Duo (R)"),},"html_builder/panel/panel_duo_step":{selectLabel:_t("Duo Step"),},"html_builder/panel/panel_duo_step_pill":{selectLabel:_t("Duo Step Pill"),},"html_builder/panel/panel_trio_in_r":{selectLabel:_t("Trio In (R)"),},"html_builder/panel/panel_trio_out_r":{selectLabel:_t("Trio Out (R)"),},"html_builder/panel/panel_window":{selectLabel:_t("Window"),transform:false,togglableRatio:true,},},},composites:{label:_t("Composites"),shapes:{"html_builder/composite/composite_double_pill":{selectLabel:_t("Double Pill"),},"html_builder/composite/composite_triple_pill":{selectLabel:_t("Triple Pill"),},"html_builder/composite/composite_half_circle":{selectLabel:_t("Half Circle"),},"html_builder/composite/composite_sonar":{selectLabel:_t("Double Sonar"),},"html_builder/composite/composite_cut_circle":{selectLabel:_t("Cut Circle"),},},},},},decorative:{label:_t("Decorative"),subgroups:{brushed:{label:_t("Brushed"),shapes:{"html_builder/brushed/brush_1":{selectLabel:_t("Brush 1"),togglableRatio:true,},"html_builder/brushed/brush_2":{selectLabel:_t("Brush 2"),togglableRatio:true,},"html_builder/brushed/brush_3":{selectLabel:_t("Brush 3"),togglableRatio:true,},"html_builder/brushed/brush_4":{selectLabel:_t("Brush 4"),},},},composition:{label:_t("Composition"),shapes:{"html_builder/composition/composition_organic_line":{selectLabel:_t("Organic Line"),transform:false,},"html_builder/composition/composition_oval_line":{selectLabel:_t("Oval Line"),transform:false,},"html_builder/composition/composition_triangle_line":{selectLabel:_t("Triangle Line"),animated:true,transform:false,},"html_builder/composition/composition_line_1":{selectLabel:_t("Line 1"),animated:true,transform:false,},"html_builder/composition/composition_line_3":{selectLabel:_t("Line 2"),animated:true,transform:false,},"html_builder/composition/composition_line_2":{selectLabel:_t("Line 2"),animated:true,transform:false,},"html_builder/composition/composition_mixed_1":{selectLabel:_t("Mixed 1"),animated:true,transform:false,},"html_builder/composition/composition_mixed_2":{selectLabel:_t("Mixed 2"),animated:true,transform:false,},"html_builder/composition/composition_planet_1":{selectLabel:_t("Planet 1"),animated:true,transform:false,},"html_builder/composition/composition_planet_2":{selectLabel:_t("Planet 2"),animated:true,transform:false,},"html_builder/composition/composition_square_1":{selectLabel:_t("Square Dot 1"),animated:true,transform:false,},"html_builder/composition/composition_square_2":{selectLabel:_t("Square Dot 2"),animated:true,transform:false,},"html_builder/composition/composition_square_3":{selectLabel:_t("Square Dot 3"),animated:true,transform:false,},"html_builder/composition/composition_square_4":{selectLabel:_t("Square Dot 4"),animated:true,transform:false,},"html_builder/composition/composition_square_line":{selectLabel:_t("Square Line"),animated:true,transform:false,},},},patterns:{label:_t("Patterns"),shapes:{"html_builder/pattern/pattern_organic_cross":{selectLabel:_t("Organic Cross"),transform:false,},"html_builder/pattern/pattern_organic_caps":{selectLabel:_t("Organic Caps"),transform:false,},"html_builder/pattern/pattern_oval_zebra":{selectLabel:_t("Oval Zebra"),transform:false,},"html_builder/pattern/pattern_wave_1":{selectLabel:_t("Wave 1"),animated:true,transform:false,},"html_builder/pattern/pattern_line_star":{selectLabel:_t("Star"),animated:true,transform:false,},"html_builder/pattern/pattern_line_sun":{selectLabel:_t("Sun"),animated:true,transform:false,},"html_builder/pattern/pattern_wave_2":{selectLabel:_t("Wave 2"),animated:true,transform:false,},"html_builder/pattern/pattern_wave_3":{selectLabel:_t("Wave 3"),animated:true,transform:false,},"html_builder/pattern/pattern_point":{selectLabel:_t("Point"),animated:true,transform:false,},"html_builder/pattern/pattern_organic_dot":{selectLabel:_t("Organic Dot"),animated:true,transform:false,},"html_builder/pattern/pattern_labyrinth":{selectLabel:_t("Labyrinth"),animated:true,transform:false,},"html_builder/pattern/pattern_circuit":{selectLabel:_t("Circuit"),animated:true,transform:false,},"html_builder/pattern/pattern_wave_4":{selectLabel:_t("Wave 4"),animated:true,transform:false,},},},solids:{label:_t("Solids"),shapes:{"html_builder/solid/solid_blob_1":{selectLabel:_t("Blob 1"),transform:false,},"html_builder/solid/solid_blob_2":{selectLabel:_t("Blob 2"),transform:false,},"html_builder/solid/solid_blob_3":{selectLabel:_t("Blob 3"),transform:false,},"html_builder/solid/solid_blob_4":{selectLabel:_t("Blob 4"),},"html_builder/solid/solid_blob_5":{selectLabel:_t("Blob 5"),transform:false,},"html_builder/solid/solid_blob_shadow_1":{selectLabel:_t("Blob Shadow 1"),transform:false,anmated:true,},"html_builder/solid/solid_blob_shadow_2":{selectLabel:_t("Blob Shadow 2"),transform:false,anmated:true,},"html_builder/solid/solid_square_1":{selectLabel:_t("Square 1"),transform:false,anmated:true,},"html_builder/solid/solid_square_2":{selectLabel:_t("Square 2"),transform:false,anmated:true,},"html_builder/solid/solid_square_3":{selectLabel:_t("Square 3"),transform:false,anmated:true,},},},specials:{label:_t("Specials"),shapes:{"html_builder/special/special_speed":{selectLabel:_t("Speed"),animated:true,transform:false,},"html_builder/special/special_rain":{selectLabel:_t("Rain"),animated:true,transform:false,},"html_builder/special/special_snow":{selectLabel:_t("Snow"),animated:true,transform:false,},"html_builder/special/special_layered":{selectLabel:_t("Layered"),animated:true,transform:false,},"html_builder/special/special_filter":{selectLabel:_t("Filter"),animated:true,transform:false,},"html_builder/special/special_flag":{selectLabel:_t("Flag"),animated:true,},"html_builder/special/special_organic":{selectLabel:_t("Organic"),animated:true,},},},},},devices:{label:_t("Devices"),subgroups:{devices:{label:_t("Devices"),shapes:{"html_builder/devices/iphone_front_portrait":{selectLabel:_t("iPhone #1"),imgSize:"0.46:1",transform:false,},"html_builder/devices/iphone_3d_portrait_01":{selectLabel:_t("iPhone #2"),imgSize:"0.46:1",transform:false,},"html_builder/devices/iphone_3d_portrait_02":{selectLabel:_t("iPhone #3"),imgSize:"0.46:1",transform:false,},"html_builder/devices/iphone_front_landscape":{selectLabel:_t("iPhone #4"),imgSize:"2.17:1",transform:false,},"html_builder/devices/iphone_3d_landscape_01":{selectLabel:_t("iPhone #5"),imgSize:"2.17:1",transform:false,},"html_builder/devices/iphone_3d_landscape_02":{selectLabel:_t("iPhone #6"),imgSize:"2.17:1",transform:false,},"html_builder/devices/galaxy_front_portrait":{selectLabel:_t("Galaxy S #1"),imgSize:"0.45:1",transform:false,},"html_builder/devices/galaxy_3d_portrait_01":{selectLabel:_t("Galaxy S #2"),imgSize:"0.45:1",transform:false,},"html_builder/devices/galaxy_3d_portrait_02":{selectLabel:_t("Galaxy S #3"),imgSize:"0.45:1",transform:false,},"html_builder/devices/galaxy_front_landscape":{selectLabel:_t("Galaxy S #4"),imgSize:"2.22:1",transform:false,},"html_builder/devices/galaxy_3d_landscape_01":{selectLabel:_t("Galaxy S #5"),imgSize:"2.22:1",transform:false,},"html_builder/devices/galaxy_3d_landscape_02":{selectLabel:_t("Galaxy S #6"),imgSize:"2.22:1",transform:false,},"html_builder/devices/galaxy_front_portrait_half":{selectLabel:_t("Half Galaxy S"),imgSize:"0.45:1",transform:false,},"html_builder/devices/ipad_front_portrait":{selectLabel:_t("iPad #1"),imgSize:"0.75:1",transform:false,},"html_builder/devices/ipad_3d_portrait_01":{selectLabel:_t("iPad #2"),imgSize:"0.75:1",transform:false,},"html_builder/devices/ipad_3d_portrait_02":{selectLabel:_t("iPad #3"),imgSize:"0.75:1",transform:false,},"html_builder/devices/ipad_front_landscape":{selectLabel:_t("iPad #4"),imgSize:"4:3",transform:false,},"html_builder/devices/ipad_3d_landscape_01":{selectLabel:_t("iPad #5"),imgSize:"4:3",transform:false,},"html_builder/devices/ipad_3d_landscape_02":{selectLabel:_t("iPad #6"),imgSize:"4:3",transform:false,},"html_builder/devices/imac_front":{selectLabel:_t("iMac #1"),imgSize:"16:9",transform:false,},"html_builder/devices/imac_3d_01":{selectLabel:_t("iMac #2"),imgSize:"16:9",transform:false,},"html_builder/devices/imac_3d_02":{selectLabel:_t("iMac #3"),imgSize:"16:9",transform:false,},"html_builder/devices/macbook_front":{selectLabel:_t("MacBook #1"),imgSize:"1.6:1",transform:false,},"html_builder/devices/macbook_3d_01":{selectLabel:_t("MacBook #2"),imgSize:"1.6:1",transform:false,},"html_builder/devices/macbook_3d_02":{selectLabel:_t("MacBook #3"),imgSize:"1.6:1",transform:false,},"html_builder/devices/browser_01":{selectLabel:_t("Browser #1"),transform:false,},"html_builder/devices/browser_02":{selectLabel:_t("Browser #2"),transform:false,},"html_builder/devices/browser_03":{selectLabel:_t("Browser #3"),transform:false,},},},},},};return __exports;});;

/* /html_builder/static/src/plugins/image/image_tool_option.js */
odoo.define('@html_builder/plugins/image/image_tool_option',['@html_builder/core/utils','@html_builder/plugins/image/image_shape_option','@html_builder/plugins/image/image_filter_option','@html_builder/plugins/image/image_format_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{ImageShapeOption}=require("@html_builder/plugins/image/image_shape_option");const{ImageFilterOption}=require("@html_builder/plugins/image/image_filter_option");const{ImageFormatOption}=require("@html_builder/plugins/image/image_format_option");const ImageToolOption=__exports.ImageToolOption=class ImageToolOption extends BaseOptionComponent{static template="html_builder.ImageToolOption";static components={ImageShapeOption,ImageFilterOption,ImageFormatOption,};static props={};}
return __exports;});;

/* /html_builder/static/src/plugins/image/image_tool_option_plugin.js */
odoo.define('@html_builder/plugins/image/image_tool_option_plugin',['@html_editor/utils/image_processing','@web/core/registry','@html_editor/plugin','@html_builder/plugins/image/image_tool_option','@html_editor/utils/image','@html_editor/utils/resource','@html_builder/utils/option_sequence','@html_builder/plugins/image/replace_media_option','@html_builder/plugins/image/image_format_option','@html_builder/core/builder_action','@html_editor/utils/dom_traversal'],function(require){'use strict';let __exports={};const{cropperDataFieldsWithAspectRatio,isGif,loadImage,loadImageInfo,}=require("@html_editor/utils/image_processing");const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{ImageToolOption}=require("@html_builder/plugins/image/image_tool_option");const{isImageCorsProtected,getMimetype}=require("@html_editor/utils/image");const{withSequence}=require("@html_editor/utils/resource");const{REPLACE_MEDIA,IMAGE_TOOL,ALIGNMENT_STYLE_PADDING,}=require("@html_builder/utils/option_sequence");const{ReplaceMediaOption,searchSupportedParentLinkEl}=require("@html_builder/plugins/image/replace_media_option");const{computeMaxDisplayWidth}=require("@html_builder/plugins/image/image_format_option");const{BuilderAction}=require("@html_builder/core/builder_action");const{selectElements}=require("@html_editor/utils/dom_traversal");const REPLACE_MEDIA_SELECTOR=__exports.REPLACE_MEDIA_SELECTOR="img, .media_iframe_video, span.fa, i.fa";const REPLACE_MEDIA_EXCLUDE=__exports.REPLACE_MEDIA_EXCLUDE="[data-oe-xpath], a[href^='/website/social/'] > i.fa, a[class*='s_share_'] > i.fa";class ImageToolOptionPlugin extends Plugin{static id="imageToolOption";static dependencies=["history","userCommand","imagePostProcess","imageCrop","media","builderOptions",];static shared=["canHaveHoverEffect"];resources={builder_options:[withSequence(REPLACE_MEDIA,{OptionComponent:ReplaceMediaOption,selector:REPLACE_MEDIA_SELECTOR,exclude:REPLACE_MEDIA_EXCLUDE,name:"replaceMediaOption",}),withSequence(IMAGE_TOOL,{OptionComponent:ImageToolOption,selector:"img",exclude:"[data-oe-type='image'] > img",}),withSequence(ALIGNMENT_STYLE_PADDING,{template:"html_builder.ImageAndFaOption",selector:"span.fa, i.fa, img",exclude:"[data-oe-type='image'] > img, [data-oe-xpath]",}),],builder_actions:{CropImageAction,ResetCropAction,TransformImageAction,ResetTransformImageAction,ReplaceMediaAction,SetLinkAction,SetUrlAction,SetNewWindowAction,AltAction,},on_media_dialog_saved_handlers:async(elements,{node})=>{for(const image of elements){if(image&&image.tagName==="IMG"){const updateImageAttributes=await this.dependencies.imagePostProcess.processImage({img:image,newDataset:{formatMimetype:"image/webp",},onImageInfoLoaded:async(dataset)=>{if(!dataset.originalSrc||!dataset.originalId){return true;}
const original=await loadImage(dataset.originalSrc);const maxWidth=dataset.width?image.naturalWidth:original.naturalWidth;const optimizedWidth=Math.min(maxWidth,computeMaxDisplayWidth(node||this.editable));if(!["image/gif","image/svg+xml"].includes(dataset.mimetypeBeforeConversion)){dataset.resizeWidth=optimizedWidth;}else if(dataset.shape&&dataset.mimetypeBeforeConversion!=="image/gif"){dataset.resizeWidth=optimizedWidth;}else{return true;}},});updateImageAttributes();}}},normalize_handlers:this.migrateImages.bind(this),};async canHaveHoverEffect(img){const getDataset=async()=>Object.assign({},img.dataset,await loadImageInfo(img));return(img.tagName==="IMG"&&!this.isDeviceShape(img)&&!this.isAnimatedShape(img)&&this.isImageSupportedForShapes(img,await getDataset())&&!(await isImageCorsProtected(img)));}
isDeviceShape(img){const shapeName=img.dataset.shape;if(!shapeName){return false;}
const shapeCategory=shapeName.split("/")[1];return shapeCategory==="devices";}
isAnimatedShape(img){return false;}
isImageSupportedForShapes(img,dataset=img.dataset){return dataset.originalId&&isImageSupportedForProcessing(getMimetype(img));}
migrateImages(rootEl){for(const el of selectElements(rootEl,"img[data-original-id]:not([data-attachment-id]), .oe_img_bg[data-original-id]:not([data-attachment-id])")){el.dataset.attachmentId=el.dataset.originalId;}
for(const el of selectElements(rootEl,"img[data-original-mimetype]:not([data-format-mimetype]), .oe_img_bg[data-original-mimetype]:not([data-format-mimetype])")){el.dataset.formatMimetype=el.dataset.originalMimetype;delete el.dataset.originalMimetype;}}}
const CropImageAction=__exports.CropImageAction=class CropImageAction extends BuilderAction{static id="cropImage";static dependencies=["imageCrop","imagePostProcess"];isApplied({editingElement}){return cropperDataFieldsWithAspectRatio.some((field)=>editingElement.dataset[field]);}
load({editingElement:img}){return new Promise((resolve)=>{this.dependencies.imageCrop.openCropImage(img,{onClose:resolve,onSave:async(newDataset)=>{resolve(this.dependencies.imagePostProcess.processImage({img,newDataset}));},});});}
apply({loadResult:updateImageAttributes}){updateImageAttributes?.();}}
const ResetCropAction=__exports.ResetCropAction=class ResetCropAction extends BuilderAction{static id="resetCrop";static dependencies=["imagePostProcess"];async load({editingElement:img}){const newDataset=Object.fromEntries(cropperDataFieldsWithAspectRatio.map((field)=>[field,undefined]));return this.dependencies.imagePostProcess.processImage({img,newDataset});}
apply({loadResult:updateImageAttributes}){updateImageAttributes();}}
const TransformImageAction=__exports.TransformImageAction=class TransformImageAction extends BuilderAction{static id="transformImage";static dependencies=["userCommand"];isApplied({editingElement}){return editingElement.matches(`[style*="transform"]`);}
apply({editingElement}){return this.dependencies.userCommand.getCommand("transformImage").run(editingElement);}}
const ResetTransformImageAction=__exports.ResetTransformImageAction=class ResetTransformImageAction extends BuilderAction{static id="resetTransformImage";apply({editingElement}){editingElement.setAttribute("style",(editingElement.getAttribute("style")||"").replace(/[^;]*transform[\w:]*;?/g,""));}}
const ReplaceMediaAction=__exports.ReplaceMediaAction=class ReplaceMediaAction extends BuilderAction{static id="replaceMedia";static dependencies=["media","history","builderOptions"];async load({editingElement}){let image;await this.dependencies.media.openMediaDialog({node:editingElement,save:(newImage)=>{image=newImage;},});return image;}
apply({editingElement,loadResult:newImage}){if(!newImage){return;}
editingElement.replaceWith(newImage);this.dependencies.history.addStep();this.dependencies["builderOptions"].updateContainers(newImage);}}
const SetLinkAction=__exports.SetLinkAction=class SetLinkAction extends BuilderAction{static id="setLink";setup(){this.preview=false;}
apply({editingElement}){const parentEl=searchSupportedParentLinkEl(editingElement);if(parentEl.tagName!=="A"){const wrapperEl=document.createElement("a");editingElement.after(wrapperEl);wrapperEl.appendChild(editingElement);}else{const fragment=document.createDocumentFragment();fragment.append(...parentEl.childNodes);parentEl.replaceWith(fragment);}}
isApplied({editingElement}){const parentEl=searchSupportedParentLinkEl(editingElement);return parentEl.tagName==="A";}}
const SetUrlAction=__exports.SetUrlAction=class SetUrlAction extends BuilderAction{static id="setUrl";setup(){this.preview=false;}
apply({editingElement,value}){const linkEl=searchSupportedParentLinkEl(editingElement);let url=value;if(!url){linkEl.removeAttribute("href");return;}
if(!url.startsWith("/")&&!url.startsWith("#")&&!/^([a-zA-Z]*.):.+$/gm.test(url)){url="http://"+url;}
linkEl.setAttribute("href",url);}
getValue({editingElement}){const linkEl=searchSupportedParentLinkEl(editingElement);return linkEl.getAttribute("href");}}
const SetNewWindowAction=__exports.SetNewWindowAction=class SetNewWindowAction extends BuilderAction{static id="setNewWindow";setup(){this.preview=false;}
apply({editingElement,value}){const linkEl=searchSupportedParentLinkEl(editingElement);linkEl.setAttribute("target","_blank");}
clean({editingElement}){const linkEl=searchSupportedParentLinkEl(editingElement);linkEl.removeAttribute("target");}
isApplied({editingElement}){const linkEl=searchSupportedParentLinkEl(editingElement);return linkEl.getAttribute("target")==="_blank";}}
const AltAction=__exports.AltAction=class AltAction extends BuilderAction{static id="alt";getValue({editingElement:imgEl}){return imgEl.alt;}
apply({editingElement:imgEl,value}){const trimmedValue=value.trim();if(trimmedValue){imgEl.alt=trimmedValue;if(imgEl.getAttribute("role")==="presentation"){imgEl.removeAttribute("role");}}else{imgEl.removeAttribute("alt");}}}
registry.category("website-plugins").add(ImageToolOptionPlugin.id,ImageToolOptionPlugin);function isImageSupportedForProcessing(mimetype,strict=false){if(isGif(mimetype)){return!strict;}
return["image/jpeg","image/png","image/webp"].includes(mimetype);}
return __exports;});;

/* /html_builder/static/src/plugins/image/replace_media_option.js */
odoo.define('@html_builder/plugins/image/replace_media_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const ReplaceMediaOption=__exports.ReplaceMediaOption=class ReplaceMediaOption extends BaseOptionComponent{static template="html_builder.ReplaceMediaOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({canSetLink:this.canSetLink(editingElement),hasHref:this.hasHref(editingElement),}));}
canSetLink(editingElement){return(isImageSupportedForStyle(editingElement)&&!searchSupportedParentLinkEl(editingElement).matches("a[data-oe-xpath]")&&!editingElement.classList.contains("media_iframe_video"));}
hasHref(editingElement){const parentEl=searchSupportedParentLinkEl(editingElement);return parentEl.tagName==="A"&&parentEl.hasAttribute("href");}}
__exports.isImageSupportedForStyle=isImageSupportedForStyle;function isImageSupportedForStyle(img){if(!img.parentElement){return false;}
const isTFieldImg="oeType"in img.parentElement.dataset;const isEditableRootElement="oeXpath"in img.dataset;return!isTFieldImg&&!isEditableRootElement;}
__exports.searchSupportedParentLinkEl=searchSupportedParentLinkEl;function searchSupportedParentLinkEl(editingElement){const parentEl=editingElement.parentElement;return parentEl.matches("figure")?parentEl.parentElement:parentEl;}
return __exports;});;

/* /html_builder/static/src/plugins/layout_column_option.js */
odoo.define('@html_builder/plugins/layout_column_option',['@html_builder/core/select_number_column','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{SelectNumberColumn}=require("@html_builder/core/select_number_column");const{BaseOptionComponent}=require("@html_builder/core/utils");const LayoutColumnOption=__exports.LayoutColumnOption=class LayoutColumnOption extends BaseOptionComponent{static template="html_builder.LayoutColumnOption";static components={SelectNumberColumn,};static props={};}
return __exports;});;

/* /html_builder/static/src/plugins/layout_column_option_plugin.js */
odoo.define('@html_builder/plugins/layout_column_option_plugin',['@html_builder/core/builder_action','@html_builder/utils/column_layout_utils','@html_builder/utils/utils','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/plugins/layout_column_option','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{getFirstItem,getNbColumns,getRow}=require("@html_builder/utils/column_layout_utils");const{isMobileView}=require("@html_builder/utils/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{LayoutColumnOption}=require("@html_builder/plugins/layout_column_option");const{LAYOUT_COLUMN}=require("@html_builder/utils/option_sequence");class LayoutColumnOptionPlugin extends Plugin{static id="LayoutColumnOption";static dependencies=["clone","selection"];resources={builder_options:[withSequence(LAYOUT_COLUMN,{OptionComponent:LayoutColumnOption,selector:"section.s_features_grid, section.s_process_steps",applyTo:":scope > *:has(> .row), :scope > .s_allow_columns",}),],on_cloned_handlers:this.onCloned.bind(this),builder_actions:{ChangeColumnCountAction,},};onCloned({cloneEl}){const cloneElClassList=cloneEl.classList;const offsetClasses=[...cloneElClassList].filter((cls)=>cls.match(/^offset-(lg-)?([0-9]{1,2})$/));cloneElClassList.remove(...offsetClasses);}}
const ChangeColumnCountAction=__exports.ChangeColumnCountAction=class ChangeColumnCountAction extends BuilderAction{static id="changeColumnCount";static dependencies=["selection","clone"];apply({editingElement,value:nbColumns}){if(nbColumns==="custom"){return;}
let rowEl=getRow(editingElement);let columnEls,prevNbColumns;if(!rowEl){const cursors=this.dependencies.selection.preserveSelection();rowEl=document.createElement("div");const columnEl=document.createElement("div");rowEl.classList.add("row");columnEl.classList.add("col-lg-12");columnEl.append(...editingElement.children);rowEl.append(columnEl);editingElement.append(rowEl);cursors.restore();columnEls=[columnEl];prevNbColumns=0;}else{columnEls=rowEl.children;prevNbColumns=getNbColumns(columnEls,isMobileView(this.editable));}
if(nbColumns===prevNbColumns){return;}
this._resizeColumns(columnEls,nbColumns||1);const itemsDelta=nbColumns-rowEl.children.length;if(itemsDelta>0){for(let i=0;i<itemsDelta;i++){const lastEl=rowEl.lastElementChild;this.dependencies.clone.cloneElement(lastEl,{activateClone:false,});}}
if(nbColumns===0){const cursors=this.dependencies.selection.preserveSelection();const columnEl=editingElement.querySelector(".row > div");editingElement.append(...columnEl.children);rowEl.remove();cursors.restore();}}
isApplied({editingElement,value}){const columnEls=getRow(editingElement)?.children;return getNbColumns(columnEls,isMobileView(this.editable))===value;}
_resizeColumns(columnEls,nbColumns){const isMobile=isMobileView(this.editable);const itemSize=Math.floor(12/nbColumns)||1;const firstItem=getFirstItem(columnEls,isMobile);const firstItemOffset=Math.floor((12-itemSize*nbColumns)/2);const resolutionModifier=isMobile?"":"-lg";const replacingRegex=new RegExp(`(?:^|\\s+)(col|offset)${resolutionModifier}(-\\d{1,2})?(?!\\S)`,"g");for(const columnEl of columnEls){columnEl.className=columnEl.className.replace(replacingRegex,"");columnEl.classList.add(`col${resolutionModifier}-${itemSize}`);if(firstItemOffset&&columnEl===firstItem){columnEl.classList.add(`offset${resolutionModifier}-${firstItemOffset}`);}
const hasMobileOffset=columnEl.className.match(/(^|\s+)offset-\d{1,2}(?!\S)/);const hasDesktopOffset=columnEl.className.match(/(^|\s+)offset-lg-[1-9][0-1]?(?!\S)/);columnEl.classList.toggle("offset-lg-0",hasMobileOffset&&!hasDesktopOffset);}}}
registry.category("website-plugins").add(LayoutColumnOptionPlugin.id,LayoutColumnOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/rating_option_plugin.js */
odoo.define('@html_builder/plugins/rating_option_plugin',['@html_builder/core/builder_action','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class RatingOptionPlugin extends Plugin{static id="ratingOption";static dependencies=["history","media"];selector=".s_rating";resources={builder_options:{template:"html_builder.RatingOption",selector:".s_rating",},so_content_addition_selector:[".s_rating"],builder_actions:{SetIconsAction,CustomIconAction,ActiveIconsNumberAction,TotalIconsNumberAction,},};}
const SetIconsAction=__exports.SetIconsAction=class SetIconsAction extends BuilderAction{static id="setIcons";apply({editingElement,params:{mainParam:iconParam}}){editingElement.dataset.icon=iconParam;renderIcons(editingElement);delete editingElement.dataset.activeCustomIcon;delete editingElement.dataset.inactiveCustomIcon;}
isApplied({editingElement,params:{mainParam:iconParam}}){return getIconType(editingElement)===iconParam;}}
const CustomIconAction=__exports.CustomIconAction=class CustomIconAction extends BuilderAction{static id="customIcon";static dependencies=["media"];async load({editingElement,params:{mainParam:customParam}}){return new Promise((resolve)=>{const isCustomActive=customParam==="customActiveIcon";const media=document.createElement("i");media.className=isCustomActive?getActiveCustomIcons(editingElement):getInactiveCustomIcons(editingElement);const mediaDialogParams={noImages:true,noDocuments:true,noVideos:true,media,save:(icon)=>{resolve(icon);},};const onClose=this.dependencies.media.openMediaDialog(mediaDialogParams,this.editable);onClose.then(resolve);});}
apply({editingElement,loadResult:savedIconEl,params:{mainParam:customParam}}){if(!savedIconEl){return;}
const isCustomActive=customParam==="customActiveIcon";const customClass=savedIconEl.className;const activeIconEls=getActiveIcons(editingElement);const inactiveIconEls=getInactiveIcons(editingElement);const iconEls=isCustomActive?activeIconEls:inactiveIconEls;iconEls.forEach((iconEl)=>(iconEl.className=customClass));const faClassActiveCustomIcons=activeIconEls.length>0?activeIconEls[0].getAttribute("class"):customClass;const faClassInactiveCustomIcons=inactiveIconEls.length>0?inactiveIconEls[0].getAttribute("class"):customClass;editingElement.dataset.activeCustomIcon=faClassActiveCustomIcons;editingElement.dataset.inactiveCustomIcon=faClassInactiveCustomIcons;editingElement.dataset.icon="custom";}}
const ActiveIconsNumberAction=__exports.ActiveIconsNumberAction=class ActiveIconsNumberAction extends BuilderAction{static id="activeIconsNumber";apply({editingElement,value}){const nbActiveIcons=parseInt(value);const nbTotalIcons=getAllIcons(editingElement).length;createIcons({editingElement:editingElement,nbActiveIcons:nbActiveIcons,nbTotalIcons:nbTotalIcons,});}
getValue({editingElement}){return getActiveIcons(editingElement).length;}}
const TotalIconsNumberAction=__exports.TotalIconsNumberAction=class TotalIconsNumberAction extends BuilderAction{static id="totalIconsNumber";apply({editingElement,value}){const nbTotalIcons=Math.max(parseInt(value),1);const nbActiveIcons=getActiveIcons(editingElement).length;createIcons({editingElement:editingElement,nbActiveIcons:nbActiveIcons,nbTotalIcons:nbTotalIcons,});}
getValue({editingElement}){return getAllIcons(editingElement).length;}}
registry.category("website-plugins").add(RatingOptionPlugin.id,RatingOptionPlugin);function createIcons({editingElement,nbActiveIcons,nbTotalIcons}){const activeIconEl=editingElement.querySelector(".s_rating_active_icons");const inactiveIconEl=editingElement.querySelector(".s_rating_inactive_icons");const iconEls=getAllIcons(editingElement);[...iconEls].forEach((iconEl)=>iconEl.remove());for(let i=0;i<nbTotalIcons;i++){const targetEl=i<nbActiveIcons?activeIconEl:inactiveIconEl;targetEl.appendChild(document.createElement("i"));targetEl.appendChild(document.createTextNode(" "));}
renderIcons(editingElement);}
function getActiveCustomIcons(editingElement){return editingElement.dataset.activeCustomIcon||"";}
function getActiveIcons(editingElement){return editingElement.querySelectorAll(".s_rating_active_icons > i");}
function getAllIcons(editingElement){return editingElement.querySelectorAll(".s_rating_icons i");}
function getIconType(editingElement){return editingElement.dataset.icon;}
function getInactiveCustomIcons(editingElement){return editingElement.dataset.inactiveCustomIcon||"";}
function getInactiveIcons(editingElement){return editingElement.querySelectorAll(".s_rating_inactive_icons  > i");}
function renderIcons(editingElement){const iconType=getIconType(editingElement);const icons={"fa-star":"fa-star-o","fa-thumbs-up":"fa-thumbs-o-up","fa-circle":"fa-circle-o","fa-square":"fa-square-o","fa-heart":"fa-heart-o",};const faClassActiveIcons=iconType==="custom"?getActiveCustomIcons(editingElement):"fa "+iconType;const faClassInactiveIcons=iconType==="custom"?getInactiveCustomIcons(editingElement):"fa "+icons[iconType];const activeIconEls=getActiveIcons(editingElement);const inactiveIconEls=getInactiveIcons(editingElement);activeIconEls.forEach((activeIconEl)=>(activeIconEl.className=faClassActiveIcons));inactiveIconEls.forEach((inactiveIconEl)=>(inactiveIconEl.className=faClassInactiveIcons));}
return __exports;});;

/* /html_builder/static/src/plugins/separator_option_plugin.js */
odoo.define('@html_builder/plugins/separator_option_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class SeparatorOptionPlugin extends Plugin{static id="separatorOption";resources={builder_options:[{template:"html_builder.SeparatorOption",selector:".s_hr",applyTo:"hr",},],dropzone_selector:{selector:".s_hr",dropNear:"p, h1, h2, h3, blockquote, .s_hr",},so_content_addition_selector:[".s_hr"],is_movable_selector:{selector:".s_hr",direction:"vertical"},};}
registry.category("website-plugins").add(SeparatorOptionPlugin.id,SeparatorOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/shadow_option.js */
odoo.define('@html_builder/plugins/shadow_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const ShadowOption=__exports.ShadowOption=class ShadowOption extends BaseOptionComponent{static template="html_builder.ShadowOption";static props={setShadowModeAction:{type:String,optional:true},setShadowAction:{type:String,optional:true},};static defaultProps={setShadowModeAction:"setShadowMode",setShadowAction:"setShadow",};}
return __exports;});;

/* /html_builder/static/src/plugins/shadow_option_plugin.js */
odoo.define('@html_builder/plugins/shadow_option_plugin',['@html_builder/core/builder_action','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const shadowClass="shadow";class ShadowOptionPlugin extends Plugin{static id="shadowOption";resources={builder_actions:{SetShadowModeAction,SetShadowAction,},};}
__exports.getDefaultShadow=getDefaultShadow;function getDefaultShadow(mode){const el=document.createElement("div");el.classList.add(shadowClass);document.body.appendChild(el);const shadow=`${getComputedStyle(el).boxShadow}${mode === "inset" ? " inset" : ""}`;el.remove();return shadow;}
function getShadowMode(editingElement){const currentBoxShadow=getComputedStyle(editingElement)["box-shadow"];if(currentBoxShadow==="none"){return"none";}
if(currentBoxShadow.includes("inset")){return"inset";}
if(!currentBoxShadow.includes("inset")&&currentBoxShadow!=="none"){return"outset";}}
function setBoxShadow(editingElement,value){editingElement.style.setProperty("box-shadow",value,"important");}
__exports.getCurrentShadow=getCurrentShadow;function getCurrentShadow(editingElement){return parseShadow(getComputedStyle(editingElement)["box-shadow"]);}
function parseShadow(value){if(!value||value==="none"){return{};}
const regex=/(?<color>(rgb(a)?\([^)]*\))|(var\([^)]+\)))\s+(?<offsetX>\d+px)\s+(?<offsetY>\d+px)\s+(?<blur>\d+px)\s+(?<spread>\d+px)(\s+)?(?<mode>\w+)?/;return value.match(regex).groups;}
__exports.shadowToString=shadowToString;function shadowToString(shadow){if(!shadow){return"";}
return`${shadow.color} ${shadow.offsetX} ${shadow.offsetY} ${shadow.blur} ${shadow.spread} ${
        shadow.mode ? shadow.mode : ""
    }`;}
registry.category("website-plugins").add(ShadowOptionPlugin.id,ShadowOptionPlugin);const SetShadowModeAction=__exports.SetShadowModeAction=class SetShadowModeAction extends BuilderAction{static id="setShadowMode";isApplied({editingElement,value:shadowMode}){return shadowMode===getShadowMode(editingElement);}
getValue({editingElement}){return getShadowMode(editingElement,"mode");}
apply({editingElement,value:shadowMode}){if(shadowMode==="none"){editingElement.classList.remove(shadowClass);setBoxShadow(editingElement,"");return;}
if(!editingElement.classList.contains(shadowClass)){editingElement.classList.add(shadowClass);}
if(editingElement.style["box-shadow"]===""){setBoxShadow(editingElement,getDefaultShadow(shadowMode));}else{const shadow=getCurrentShadow(editingElement);if(shadowMode==="inset"){shadow.mode="inset";}else{shadow.mode="";}
setBoxShadow(editingElement,shadowToString(shadow));}}}
const SetShadowAction=__exports.SetShadowAction=class SetShadowAction extends BuilderAction{static id="setShadow";apply({editingElement,params:{mainParam:attributeName},value}){const shadow=getCurrentShadow(editingElement);shadow[attributeName]=value;setBoxShadow(editingElement,shadowToString(shadow));}
getValue({editingElement,params:{mainParam:attributeName}}){return getCurrentShadow(editingElement)[attributeName];}}
return __exports;});;

/* /html_builder/static/src/plugins/shape/shape_selector.js */
odoo.define('@html_builder/plugins/shape/shape_selector',['@odoo/owl','@html_builder/core/utils','@web/core/utils/timing','@html_builder/plugins/image/image_helpers'],function(require){'use strict';let __exports={};const{useRef,useState}=require("@odoo/owl");const{BaseOptionComponent}=require("@html_builder/core/utils");const{useThrottleForAnimation}=require("@web/core/utils/timing");const{getShapeURL}=require("@html_builder/plugins/image/image_helpers");const ShapeSelector=__exports.ShapeSelector=class ShapeSelector extends BaseOptionComponent{static template="html_builder.shapeSelector";static props={onClose:Function,selectorTitle:String,shapeGroups:Object,shapeActionId:String,buttonWrapperClassName:{type:String,optional:true},imgThroughDiv:{type:Boolean,optional:true},getShapeUrl:{type:Function,optional:true},};setup(){super.setup();this.rootRef=useRef("root");this.tabsRef=useRef("tabs");this.state=useState({activeGroup:"basic"});this.onScroll=useThrottleForAnimation(this._onScroll);}
getShapeUrl(shapePath){return this.props.getShapeUrl?this.props.getShapeUrl(shapePath):getShapeURL(shapePath);}
getShapeClass(shapePath){return`o_${shapePath.replaceAll("/", "_")}`;}
scrollToShapes(id){this.rootRef.el?.querySelector(`[data-shape-group-id="${id}"]`)?.scrollIntoView({behavior:"smooth"});}
_onScroll(){const pagerContainerRect=this.rootRef.el.getBoundingClientRect();const threshold=pagerContainerRect.height/2;const anchorEls=this.tabsRef.el.querySelectorAll(".o-hb-select-pager-tab");for(const anchorEl of anchorEls){const groupId=anchorEl.dataset.groupId;const sectionEl=this.rootRef.el.querySelector(`[data-shape-group-id="${groupId}"]`);const nextSectionEl=sectionEl.nextElementSibling;const sectionTop=sectionEl.getBoundingClientRect().top-pagerContainerRect.top;const nextSectionTop=nextSectionEl&&nextSectionEl.getBoundingClientRect().top-pagerContainerRect.top;if(sectionTop<threshold&&(!nextSectionEl||nextSectionTop>threshold)){this.state.activeGroup=groupId;}}}}
return __exports;});;

/* /html_builder/static/src/plugins/text_alignment_option_plugin.js */
odoo.define('@html_builder/plugins/text_alignment_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{TEXT_ALIGNMENT}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");class TextAlignmentOptionPlugin extends Plugin{static id="textAlignmentOption";resources={builder_options:[withSequence(TEXT_ALIGNMENT,{template:"html_builder.TextAlignmentOption",selector:".s_share, .s_text_highlight, .s_social_media",}),],};}
registry.category("website-plugins").add(TextAlignmentOptionPlugin.id,TextAlignmentOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/vertical_alignment_option.js */
odoo.define('@html_builder/plugins/vertical_alignment_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const VerticalAlignmentOption=__exports.VerticalAlignmentOption=class VerticalAlignmentOption extends BaseOptionComponent{static template="html_builder.VerticalAlignmentOption";static props={level:{type:Number,optional:true},applyTo:{type:String,optional:true},justify:{type:Boolean,optional:true},};static defaultProps={level:0,justify:true,};}
return __exports;});;

/* /html_builder/static/src/plugins/vertical_alignment_option_plugin.js */
odoo.define('@html_builder/plugins/vertical_alignment_option_plugin',['@html_editor/plugin','@web/core/registry','@html_builder/core/core_builder_action_plugin','@html_builder/plugins/vertical_alignment_option','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");const{VerticalAlignmentOption}=require("@html_builder/plugins/vertical_alignment_option");const{withSequence}=require("@html_editor/utils/resource");const{VERTICAL_ALIGNMENT}=require("@html_builder/utils/option_sequence");class VerticalAlignmentOptionPlugin extends Plugin{static id="verticalAlignmentOption";resources={builder_options:[withSequence(VERTICAL_ALIGNMENT,{OptionComponent:VerticalAlignmentOption,selector:".s_text_image, .s_image_text, .s_three_columns, .s_showcase, .s_numbers, .s_faq_collapse, .s_references, .s_accordion_image, .s_shape_image",applyTo:".row",props:{level:1,},}),],builder_actions:{SetVerticalAlignmentAction,},};}
const SetVerticalAlignmentAction=__exports.SetVerticalAlignmentAction=class SetVerticalAlignmentAction extends ClassAction{static id="setVerticalAlignment";getPriority({params:{mainParam:classNames}={mainParam:""}}){return classNames==="align-items-stretch"?0:1;}
isApplied({params:{mainParam:classNames}}){if(classNames==="align-items-stretch"){return true;}
return super.isApplied(...arguments);}}
registry.category("website-plugins").add(VerticalAlignmentOptionPlugin.id,VerticalAlignmentOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/vertical_justify_option_plugin.js */
odoo.define('@html_builder/plugins/vertical_justify_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");class VerticalJustifyOptionPlugin extends Plugin{static id="verticalJustifyOption";resources={builder_options:[withSequence(END,{template:"html_builder.VerticalJustifyOption",selector:".s_masonry_block .o_grid_item, .s_quadrant .o_grid_item",exclude:".o_grid_item_image",}),],};}
registry.category("website-plugins").add(VerticalJustifyOptionPlugin.id,VerticalJustifyOptionPlugin);return __exports;});;

/* /html_builder/static/src/plugins/width_option_plugin.js */
odoo.define('@html_builder/plugins/width_option_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{WIDTH}=require("@html_builder/utils/option_sequence");class WidthOptionPlugin extends Plugin{static id="widthOption";resources={builder_options:[withSequence(WIDTH,{template:"html_builder.WidthOption",selector:".s_alert, .s_blockquote, .s_text_highlight",}),],};}
registry.category("website-plugins").add(WidthOptionPlugin.id,WidthOptionPlugin);return __exports;});;

/* /html_builder/static/src/sidebar/block_tab.js */
odoo.define('@html_builder/sidebar/block_tab',['@odoo/owl','@web/core/utils/hooks','@web/core/tooltip/tooltip','@web/core/utils/scrolling','@web/core/l10n/translation','@web/core/utils/ui','@html_editor/utils/drag_and_drop','@html_builder/utils/utils_css','@html_builder/utils/scrolling','@html_builder/sidebar/snippet','@html_builder/sidebar/custom_inner_snippet'],function(require){'use strict';let __exports={};const{Component,onMounted,onWillDestroy,useRef,useState}=require("@odoo/owl");const{useService}=require("@web/core/utils/hooks");const{Tooltip}=require("@web/core/tooltip/tooltip");const{getScrollingElement}=require("@web/core/utils/scrolling");const{_t}=require("@web/core/l10n/translation");const{closest}=require("@web/core/utils/ui");const{useDragAndDrop}=require("@html_editor/utils/drag_and_drop");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{scrollTo}=require("@html_builder/utils/scrolling");const{Snippet}=require("@html_builder/sidebar/snippet");const{CustomInnerSnippet}=require("@html_builder/sidebar/custom_inner_snippet");const BlockTab=__exports.BlockTab=class BlockTab extends Component{static template="html_builder.BlockTab";static components={Snippet,CustomInnerSnippet};static props={};setup(){this.dialog=useService("dialog");this.orm=useService("orm");this.popover=useService("popover");this.snippetModel=useState(useService("html_builder.snippets"));this.blockTabRef=useRef("block-tab");this.state=useState({ongoingInsertion:false});onMounted(()=>{this.makeSnippetDraggable();});onWillDestroy(()=>{this.draggableComponent?.destroy();});}
get document(){return this.env.editor.document;}
get editable(){return this.env.editor.editable;}
get shared(){return this.env.editor.shared;}
onSnippetGroupClick(snippet){this.shared.operation.next(async()=>{this.cancelDragAndDrop=this.shared.history.makeSavePoint();let snippetEl;const baseSectionEl=snippet.content.cloneNode(true);this.state.ongoingInsertion=true;await new Promise((resolve)=>{this.snippetModel.openSnippetDialog(snippet,{onSelect:(snippet)=>{snippetEl=snippet.content.cloneNode(true);const selectors=this.shared.dropzone.getSelectors(baseSectionEl);const dropzoneEls=this.shared.dropzone.activateDropzones(selectors);this.editable.querySelectorAll(".oe_drop_zone").forEach((dropzoneEl)=>dropzoneEl.classList.add("invisible"));const iframeWindow=this.document.defaultView;const viewPortCenterPoint={x:iframeWindow.innerWidth/2,y:iframeWindow.innerHeight/2,};const validDropzoneEls=dropzoneEls.filter((el)=>el.getBoundingClientRect().top>=viewPortCenterPoint.y/2);const closestDropzoneEl=closest(validDropzoneEls,viewPortCenterPoint)||dropzoneEls.at(-1);closestDropzoneEl.after(snippetEl);this.shared.dropzone.removeDropzones();return snippetEl;},onClose:()=>{resolve();},},this.env.editor);});if(snippetEl){await scrollTo(snippetEl,{extraOffset:50});await this.processDroppedSnippet(snippetEl);}
this.state.ongoingInsertion=false;delete this.cancelDragAndDrop;},{withLoadingEffect:false});}
async onSnippetGroupDrop(snippet,hookEl){this.state.ongoingInsertion=true;const hookParentEl=hookEl.parentElement;this.snippetModel.snippetStructures.forEach((snippet)=>{const{selectorChildren}=this.shared.dropzone.getSelectors(snippet.content);snippet.isExcluded=![...selectorChildren].some((el)=>el===hookParentEl);});let selectedSnippetEl;await new Promise((resolve)=>{this.snippetModel.openSnippetDialog(snippet,{onSelect:(snippet)=>{selectedSnippetEl=snippet.content.cloneNode(true);hookEl.replaceWith(selectedSnippetEl);return selectedSnippetEl;},onClose:()=>{if(!selectedSnippetEl){hookEl.remove();}
this.snippetModel.snippetStructures.forEach((snippet)=>delete snippet.isExcluded);resolve();},},this.env.editor);});if(selectedSnippetEl){await scrollTo(selectedSnippetEl,{extraOffset:50});await this.processDroppedSnippet(selectedSnippetEl);}else{this.cancelDragAndDrop();}
this.state.ongoingInsertion=false;delete this.cancelDragAndDrop;}
showSnippetTooltip(ev){const snippetEl=ev.currentTarget.closest(".o_snippet.o_draggable");if(snippetEl){this.hideSnippetToolTip?.();this.hideSnippetToolTip=this.popover.add(snippetEl,Tooltip,{tooltip:_t("Drag and drop the building block"),});setTimeout(this.hideSnippetToolTip,1500);}}
makeSnippetDraggable(){let dropzoneEls=[];let dragAndDropResolve;let snippet,snippetEl,isSnippetGroup;const iframeWindow=this.document.defaultView!==window?this.document.defaultView:false;const scrollingElement=()=>this.shared.dropzone.getDropRootElement()||this.editable.querySelector(".o_notebook")||getScrollingElement(this.document)||this.editable.querySelector(".o_editable");const dragAndDropOptions={ref:{el:this.blockTabRef.el},iframeWindow,cursor:"move",el:this.blockTabRef.el,elements:".o_snippet.o_draggable",scrollingElement,handle:".o_snippet_thumbnail:not(.o_we_ongoing_insertion .o_snippet_thumbnail)",dropzones:()=>dropzoneEls,helper:({element,helperOffset})=>{snippet=element;const draggedEl=element.cloneNode(true);draggedEl.querySelectorAll(".o_snippet_thumbnail_title, .o_snippet_thumbnail_area, .rename-delete-buttons").forEach((el)=>el.remove());draggedEl.style.position="fixed";document.body.append(draggedEl);const thumbnailImgEl=element.querySelector(".o_snippet_thumbnail_img");helperOffset.x=thumbnailImgEl.offsetWidth/2;helperOffset.y=thumbnailImgEl.offsetHeight/2;return draggedEl;},onDragStart:({element})=>{const dragAndDropProm=new Promise((resolve)=>(dragAndDropResolve=()=>resolve()));this.shared.operation.next(async()=>await dragAndDropProm,{withLoadingEffect:false,});const restoreDragSavePoint=this.shared.history.makeSavePoint();this.cancelDragAndDrop=()=>{this.dragState.restoreCallbacks?.forEach((restore)=>restore());restoreDragSavePoint();};this.hideSnippetToolTip?.();this.document.body.classList.add("oe_dropzone_active");this.state.ongoingInsertion=true;this.dragState={};dropzoneEls=[];const restoreCallbacks=[];for(const prepareDrag of this.env.editor.getResource("on_prepare_drag_handlers")){const restore=prepareDrag();restoreCallbacks.push(restore);}
this.dragState.restoreCallbacks=restoreCallbacks;const category=element.closest(".o_snippets_container").id;const id=element.dataset.id;snippet=this.snippetModel.getSnippet(category,id);snippetEl=snippet.content.cloneNode(true);isSnippetGroup=category==="snippet_groups";this.document.body.appendChild(snippetEl);const snippetStyle=window.getComputedStyle(snippetEl);const isInlineSnippet=snippetStyle.display.includes("inline");snippetEl.remove();const dynamicSvgEls=[...snippetEl.querySelectorAll('img[src^="/html_editor/shape/"], img[src^="/web_editor/shape/"]'),];dynamicSvgEls.forEach((dynamicSvgEl)=>{const colorCustomizedURL=new URL(dynamicSvgEl.getAttribute("src"),window.location.origin);colorCustomizedURL.searchParams.forEach((value,key)=>{const match=key.match(/^c([1-5])$/);if(match){colorCustomizedURL.searchParams.set(key,getCSSVariableValue(`o-color-${match[1]}`));}});dynamicSvgEl.src=colorCustomizedURL.pathname+colorCustomizedURL.search;});const selectors=this.shared.dropzone.getSelectors(snippetEl);dropzoneEls=this.shared.dropzone.activateDropzones(selectors,{toInsertInline:isInlineSnippet,});this.env.editor.dispatchTo("on_snippet_dragged_handlers",{snippetEl,dragState:this.dragState,});},dropzoneOver:({dropzone})=>{const dropzoneEl=dropzone.el;if(isSnippetGroup){dropzoneEl.classList.add("o_dropzone_highlighted");return;}
dropzoneEl.after(snippetEl);dropzoneEl.classList.add("invisible");this.dragState.currentDropzoneEl=dropzoneEl;this.env.editor.dispatchTo("on_snippet_over_dropzone_handlers",{snippetEl,dragState:this.dragState,});this.cancelSnippetPreview=this.shared.history.makeSavePoint();this.env.editor.dispatchTo("on_snippet_preview_handlers",{snippetEl,dragState:this.dragState,});},dropzoneOut:({dropzone})=>{const dropzoneEl=dropzone.el;if(isSnippetGroup){dropzoneEl.classList.remove("o_dropzone_highlighted");return;}
this.cancelSnippetPreview();delete this.cancelSnippetPreview;this.env.editor.dispatchTo("on_snippet_out_dropzone_handlers",{snippetEl,dragState:this.dragState,});snippetEl.remove();dropzoneEl.classList.remove("invisible");this.dragState.currentDropzoneEl=null;},onDragEnd:async({x,y,helper,dropzone})=>{this.cancelSnippetPreview?.();this.document.body.classList.remove("oe_dropzone_active");snippetEl.remove();let currentDropzoneEl=dropzone&&dropzone.el;if(!currentDropzoneEl){const blockTabLeft=this.blockTabRef.el.getBoundingClientRect().left;if(y>3&&x+helper.getBoundingClientRect().height<blockTabLeft){const closestDropzoneEl=closest(dropzoneEls,{x,y});if(closestDropzoneEl){currentDropzoneEl=closestDropzoneEl;}}}
if(currentDropzoneEl){currentDropzoneEl.after(snippetEl);this.shared.dropzone.removeDropzones();this.dragState.restoreCallbacks.forEach((restore)=>restore());this.dragState.restoreCallbacks=null;if(!isSnippetGroup){await this.processDroppedSnippet(snippetEl);delete this.cancelDragAndDrop;}else{this.shared.operation.next(async()=>{await this.onSnippetGroupDrop(snippet,snippetEl);},{withLoadingEffect:false});}}else{this.cancelDragAndDrop();delete this.cancelDragAndDrop;}
this.state.ongoingInsertion=false;delete this.cancelSnippetPreview;dragAndDropResolve();},};this.draggableComponent=useDragAndDrop(dragAndDropOptions);}
async processDroppedSnippet(snippetEl){this.updateDroppedSnippet(snippetEl);for(const onSnippetDropped of this.env.editor.getResource("on_snippet_dropped_handlers")){const cancel=await onSnippetDropped({snippetEl,dragState:this.dragState});if(cancel){this.cancelDragAndDrop();return;}}
this.env.editor.config.updateInvisibleElementsPanel();this.shared.disableSnippets.disableUndroppableSnippets();this.shared.history.addStep();}
updateDroppedSnippet(snippetEl){if(snippetEl.classList.contains("o_snippet_drop_in_only")){snippetEl.classList.remove("o_snippet_drop_in_only");delete snippetEl.dataset.snippet;delete snippetEl.dataset.name;}}}
return __exports;});;

/* /html_builder/static/src/sidebar/custom_inner_snippet.js */
odoo.define('@html_builder/sidebar/custom_inner_snippet',['@html_builder/core/img','@odoo/owl','@web/core/utils/hooks'],function(require){'use strict';let __exports={};const{Img}=require("@html_builder/core/img");const{Component,useState,useRef}=require("@odoo/owl");const{useAutofocus}=require("@web/core/utils/hooks");const CustomInnerSnippet=__exports.CustomInnerSnippet=class CustomInnerSnippet extends Component{static template="html_builder.CustomInnerSnippet";static props={snippetModel:{type:Object},snippet:{type:Object},onClickHandler:{type:Function},disabledTooltip:{type:String},};static components={Img};setup(){this.renameInputRef=useRef("rename-input");useAutofocus({refName:"rename-input"});this.state=useState({isRenaming:false});}
get snippet(){return this.props.snippet;}
toggleRenamingState(){this.state.isRenaming=!this.state.isRenaming;}
onConfirmRename(){this.props.snippetModel.renameCustomSnippet(this.snippet,this.renameInputRef.el.value);this.toggleRenamingState();}}
return __exports;});;

/* /html_builder/static/src/sidebar/customize_component.js */
odoo.define('@html_builder/sidebar/customize_component',['@odoo/owl','@html_builder/utils/utils','@html_builder/core/img'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{useOptionsSubEnv}=require("@html_builder/utils/utils");const{Img}=require("@html_builder/core/img");const CustomizeComponent=__exports.CustomizeComponent=class CustomizeComponent extends Component{static template="html_builder.CustomizeComponent";static components={Img};static props={editingElements:{type:Array},comp:{type:Function},compProps:{type:Object},};setup(){useOptionsSubEnv(()=>this.props.editingElements);}}
return __exports;});;

/* /html_builder/static/src/sidebar/customize_tab.js */
odoo.define('@html_builder/sidebar/customize_tab',['@odoo/owl','@html_builder/sidebar/option_container','@html_builder/core/utils','@html_builder/sidebar/customize_component'],function(require){'use strict';let __exports={};const{Component,useState}=require("@odoo/owl");const{OptionsContainer}=require("@html_builder/sidebar/option_container");const{useVisibilityObserver}=require("@html_builder/core/utils");const{CustomizeComponent}=require("@html_builder/sidebar/customize_component");const CustomizeTab=__exports.CustomizeTab=class CustomizeTab extends Component{static template="html_builder.CustomizeTab";static components={CustomizeComponent,OptionsContainer};static props={currentOptionsContainers:{type:Array,optional:true},snippetModel:{type:Object},};static defaultProps={currentOptionsContainers:[],};setup(){this.state=useState({hasContent:true,});this.customizeComponent=useState(this.env.editor.shared.customizeTab.getCustomizeComponent());useVisibilityObserver("content",(hasContent)=>{this.state.hasContent=hasContent;});}
getCurrentOptionsContainers(){const currentOptionsContainers=this.props.currentOptionsContainers;if(!currentOptionsContainers.length){return this.env.editor.shared["builderOptions"].getPageContainers();}
return currentOptionsContainers;}}
return __exports;});;

/* /html_builder/static/src/sidebar/invisible_elements_panel.js */
odoo.define('@html_builder/sidebar/invisible_elements_panel',['@odoo/owl','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Component,onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{getSnippetName}=require("@html_builder/utils/utils");const InvisibleElementsPanel=__exports.InvisibleElementsPanel=class InvisibleElementsPanel extends Component{static template="html_builder.InvisibleElementsPanel";static props={invisibleEls:{type:Array},invisibleSelector:{type:String},};setup(){this.state=useState({invisibleEntries:null});onWillStart(()=>this.updateInvisibleElementsPanel(this.props.invisibleEls));onWillUpdateProps((nextProps)=>{this.updateInvisibleElementsPanel(nextProps["invisibleEls"]);});}
get shared(){return this.env.editor.shared;}
updateInvisibleElementsPanel(invisibleEls){const descendantPerSnippet=new Map();const rootInvisibleSnippetEls=invisibleEls.filter((invisibleSnippetEl)=>{const ancestorInvisibleEl=invisibleSnippetEl.parentElement.closest(this.props.invisibleSelector);if(!ancestorInvisibleEl){return true;}
const descendantSnippets=descendantPerSnippet.get(ancestorInvisibleEl)||[];descendantPerSnippet.set(ancestorInvisibleEl,[...descendantSnippets,invisibleSnippetEl,]);return false;});const createInvisibleEntries=(snippetEls,parentEl=null)=>snippetEls.map((snippetEl)=>{const descendantSnippetEls=descendantPerSnippet.get(snippetEl);const invisibleElement={snippetEl:snippetEl,name:getSnippetName(snippetEl),isRootParent:!parentEl&&!!descendantSnippetEls,isDescendant:!!parentEl,isVisible:snippetEl.dataset.invisible!=="1",children:[],parentEl,};if(descendantSnippetEls){invisibleElement.children=createInvisibleEntries(descendantSnippetEls,invisibleElement);}
return invisibleElement;});this.state.invisibleEntries=createInvisibleEntries(rootInvisibleSnippetEls);}
toggleElementVisibility(invisibleEntry){const toggleVisibility=(snippetEl)=>{const show=this.shared.visibility.toggleTargetVisibility(snippetEl);invisibleEntry.isVisible=show;this.shared.disableSnippets.disableUndroppableSnippets();if(show){this.shared["builderOptions"].updateContainers(snippetEl);}else{this.shared["builderOptions"].deactivateContainers();}};if(invisibleEntry.isVisible){invisibleEntry.children.forEach((child)=>{if(child.isVisible){this.toggleElementVisibility(child);}});}else if(invisibleEntry.parentEl&&!invisibleEntry.parentEl.isVisible){this.toggleElementVisibility(invisibleEntry.parentEl);}
toggleVisibility(invisibleEntry.snippetEl);}}
return __exports;});;

/* /html_builder/static/src/sidebar/option_container.js */
odoo.define('@html_builder/sidebar/option_container',['@html_builder/plugins/border_configurator_option','@html_builder/plugins/shadow_option','@html_builder/utils/utils','@odoo/owl','@web/core/user','@web/core/utils/hooks','@html_builder/core/operation_plugin','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const{ShadowOption}=require("@html_builder/plugins/shadow_option");const{getSnippetName,useOptionsSubEnv}=require("@html_builder/utils/utils");const{onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{user}=require("@web/core/user");const{useService}=require("@web/core/utils/hooks");const{useOperation}=require("@html_builder/core/operation_plugin");const{BaseOptionComponent,useApplyVisibility,useGetItemValue,useVisibilityObserver,}=require("@html_builder/core/utils");const OptionsContainer=__exports.OptionsContainer=class OptionsContainer extends BaseOptionComponent{static template="html_builder.OptionsContainer";static components={BorderConfigurator,ShadowOption,};static props={snippetModel:{type:Object},options:{type:Array},editingElement:true,isRemovable:false,removeDisabledReason:{type:String,optional:true},isClonable:false,cloneDisabledReason:{type:String,optional:true},containerTopButtons:{type:Array},containerTitle:{type:Object,optional:true},headerMiddleButtons:{type:Array,optional:true},};static defaultProps={containerTitle:{},headerMiddleButtons:[],};setup(){useOptionsSubEnv(()=>[this.props.editingElement]);super.setup();this.notification=useService("notification");this.getItemValue=useGetItemValue();useVisibilityObserver("content",useApplyVisibility("root"));this.callOperation=useOperation();this.state=useState({isUpToDate:this.env.editor.shared.versionControl.hasAccessToOutdatedEl(this.props.editingElement),});this.hasGroup={};onWillStart(async()=>{await this.updateAccessGroup(this.props.options);});onWillUpdateProps(async(nextProps)=>{await this.updateAccessGroup(nextProps.options);});}
async updateAccessGroup(options){const proms=[];const groups=[...new Set(options.flatMap((o)=>o.groups||[]))];for(const group of groups){proms.push(user.hasGroup(group).then((result)=>{this.hasGroup[group]=result;}));}
await Promise.all(proms);}
hasAccess(groups){if(!groups){return true;}
return groups.every((group)=>this.hasGroup[group]);}
get title(){let title;for(const option of this.props.options){title=option.title||title;}
const titleExtraInfo=this.props.containerTitle.getTitleExtraInfo?this.props.containerTitle.getTitleExtraInfo(this.props.editingElement):"";return(title||getSnippetName(this.env.getEditingElement()))+titleExtraInfo;}
selectElement(){this.env.editor.shared["builderOptions"].updateContainers(this.props.editingElement);}
toggleOverlayPreview(el,show){if(show){this.env.editor.shared.overlayButtons.hideOverlayButtons();this.env.editor.shared.builderOverlay.showOverlayPreview(el);}else{this.env.editor.shared.overlayButtons.showOverlayButtons();this.env.editor.shared.builderOverlay.hideOverlayPreview(el);}}
onMouseEnter(){this.toggleOverlayPreview(this.props.editingElement,true);}
onMouseLeave(){this.toggleOverlayPreview(this.props.editingElement,false);}
removeElement(){this.callOperation(()=>{this.env.editor.shared.remove.removeElementAndUpdateContainers(this.props.editingElement);});}
cloneElement(){this.callOperation(()=>{this.env.editor.shared.clone.cloneElement(this.props.editingElement,{activateClone:false,});});}
replaceElementWithNewVersion(){this.callOperation(()=>{this.env.editor.shared.versionControl.replaceWithNewVersion(this.props.editingElement);});}
accessOutdated(){this.env.editor.shared.versionControl.giveAccessToOutdatedEl(this.props.editingElement);this.state.isUpToDate=true;}}
return __exports;});;

/* /html_builder/static/src/sidebar/snippet.js */
odoo.define('@html_builder/sidebar/snippet',['@html_builder/core/img','@odoo/owl'],function(require){'use strict';let __exports={};const{Img}=require("@html_builder/core/img");const{Component}=require("@odoo/owl");const Snippet=__exports.Snippet=class Snippet extends Component{static template="html_builder.Snippet";static components={Img};static props={snippetModel:{type:Object},snippet:{type:Object},onClickHandler:{type:Function},disabledTooltip:{type:String},};get snippet(){return this.props.snippet;}
onInstallableHover(ev){if(this.snippet.isInstallable){ev.currentTarget.querySelector(".o_install_btn").classList.toggle("visually-hidden-focusable",ev.type!=="mouseover");}}
onClickInstall(){this.props.snippetModel.installSnippetModule(this.props.snippet,this.env.editor.config.installSnippetModule);}}
return __exports;});;

/* /html_builder/static/src/snippets/add_snippet_dialog.js */
odoo.define('@html_builder/snippets/add_snippet_dialog',['@odoo/owl','@web/core/assets','@web/core/browser/feature_detection','@web/core/dialog/dialog','@web/core/l10n/localization','@html_builder/snippets/snippet_viewer'],function(require){'use strict';let __exports={};const{Component,onMounted,onWillUnmount,onWillRender,useRef,useState}=require("@odoo/owl");const{loadBundle,loadCSS}=require("@web/core/assets");const{isBrowserFirefox}=require("@web/core/browser/feature_detection");const{Dialog}=require("@web/core/dialog/dialog");const{localization}=require("@web/core/l10n/localization");const{SnippetViewer}=require("@html_builder/snippets/snippet_viewer");const AddSnippetDialog=__exports.AddSnippetDialog=class AddSnippetDialog extends Component{static template="html_builder.AddSnippetDialog";static components={Dialog};static props={selectedSnippet:{type:Object},selectSnippet:{type:Function},snippetModel:{type:Object},close:{type:Function},installSnippetModule:{type:Function},editor:{type:Object},};setup(){this.iframeRef=useRef("iframe");this.state=useState({search:"",groupSelected:this.props.selectedSnippet.groupName,showIframe:false,hasNoSearchResults:false,});this.snippetViewerProps={state:this.state,hasSearchResults:(has)=>{this.state.hasNoSearchResults=!has;},selectSnippet:(...args)=>{this.props.selectSnippet(...args);this.props.close();},snippetModel:this.props.snippetModel,installSnippetModule:this.props.installSnippetModule,frontendDirection:this.props.editor.editable.classList.contains("o_rtl")?"rtl":"ltr",};let root;onMounted(async()=>{const isFirefox=isBrowserFirefox();if(isFirefox){await new Promise((resolve)=>{this.iframeRef.el.addEventListener("load",resolve,{once:true});});}
const iframeDocument=this.iframeRef.el.contentDocument;iframeDocument.body.parentElement.classList.add("o_add_snippets_preview");iframeDocument.body.style.setProperty("direction",localization.direction);root=this.__owl__.app.createRoot(SnippetViewer,{props:this.snippetViewerProps,});root.mount(iframeDocument.body);await this.insertStyle();this.state.showIframe=true;});onWillRender(()=>{if(!this.props.snippetModel.hasCustomGroup&&this.state.groupSelected==="custom"){this.state.groupSelected=this.props.snippetModel.snippetGroups[0].groupName;}});onWillUnmount(()=>{root.destroy();});}
async insertStyle(){const loadCSSBundleFromEditor=(bundleName,loadOptions)=>{const cssLinkEl=this.props.editor.document.head.querySelector(`link[type="text/css"][href*="/${bundleName}."]`);if(cssLinkEl){return loadCSS(cssLinkEl.getAttribute("href"),loadOptions);}
return loadBundle(bundleName,loadOptions);};const loadOptions={targetDoc:this.iframeRef.el.contentDocument,js:false};await Promise.all([loadCSSBundleFromEditor("web.assets_frontend",loadOptions),loadBundle("html_builder.iframe_add_dialog",loadOptions),]);}
get snippetGroups(){return this.props.snippetModel.snippetGroups.filter((snippetGroup)=>!snippetGroup.moduleId);}
selectGroup(snippetGroup){this.state.groupSelected=snippetGroup.groupName;const iframeDocument=this.iframeRef.el.contentDocument;iframeDocument.body.scrollTop=0;}}
return __exports;});;

/* /html_builder/static/src/snippets/input_confirmation_dialog.js */
odoo.define('@html_builder/snippets/input_confirmation_dialog',['@odoo/owl','@web/core/confirmation_dialog/confirmation_dialog'],function(require){'use strict';let __exports={};const{useState}=require("@odoo/owl");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const InputConfirmationDialog=__exports.InputConfirmationDialog=class InputConfirmationDialog extends ConfirmationDialog{static template="html_builder.InputConfirmationDialog";static props={...ConfirmationDialog.props,inputLabel:{type:String,optional:true},defaultValue:{type:String,optional:true},};setup(){super.setup();this.inputState=useState({value:this.props.defaultValue,});}
execButton(callback){return super.execButton((...args)=>callback?.(...args,this.inputState.value));}}
return __exports;});;

/* /html_builder/static/src/snippets/snippet_service.js */
odoo.define('@html_builder/snippets/snippet_service',['@web/core/confirmation_dialog/confirmation_dialog','@web/core/l10n/translation','@web/core/utils/functions','@web/core/utils/reactive','@web/core/utils/strings','@html_builder/snippets/add_snippet_dialog','@web/core/registry','@web/core/user','@odoo/owl'],function(require){'use strict';let __exports={};const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{_t}=require("@web/core/l10n/translation");const{uniqueId}=require("@web/core/utils/functions");const{Reactive}=require("@web/core/utils/reactive");const{escape}=require("@web/core/utils/strings");const{AddSnippetDialog}=require("@html_builder/snippets/add_snippet_dialog");const{registry}=require("@web/core/registry");const{user}=require("@web/core/user");const{markup}=require("@odoo/owl");const SnippetModel=__exports.SnippetModel=class SnippetModel extends Reactive{constructor(services,{snippetsName,context}){super();this.orm=services.orm;this.dialog=services.dialog;this.snippetsName=snippetsName;this.context=context;this.loadProm=null;this.snippetsByCategory={snippet_groups:[],snippet_custom:[],snippet_structure:[],snippet_content:[],snippet_custom_content:[],};}
get hasCustomGroup(){return!!this.snippetsByCategory.snippet_custom.length;}
get snippetGroups(){const snippetGroups=this.snippetsByCategory.snippet_groups;if(this.hasCustomGroup){return snippetGroups;}
return snippetGroups.filter((snippet)=>snippet.groupName!=="custom");}
get snippetStructures(){return[...this.snippetsByCategory.snippet_structure,...this.snippetsByCategory.snippet_custom,];}
get snippetInnerContents(){return this.snippetsByCategory.snippet_content;}
get hasCustomInnerContents(){return!!this.snippetsByCategory.snippet_custom_content.length;}
get snippetCustomInnerContents(){return this.snippetsByCategory.snippet_custom_content;}
isCustomInnerContent(customSnippetName){return!!this.snippetsByCategory.snippet_content.find((snippet)=>snippet.name===customSnippetName);}
isCustomStructure(customSnippetName){return!!this.snippetsByCategory.snippet_structure.find((snippet)=>snippet.name===customSnippetName);}
getSnippet(category,id){return this.snippetsByCategory[category].find((snippet)=>snippet.id===id);}
getSnippetByName(category,name){return this.snippetsByCategory[category].find((snippet)=>snippet.name===name);}
installSnippetModule(snippet,installSnippetModule){const bodyText=_t("Do you want to install %s App?",snippet.moduleDisplayName);const linkText=_t("More info about this app.");const linkUrl="/odoo/action-base.open_module_tree/"+encodeURIComponent(snippet.moduleId);this.dialog.add(ConfirmationDialog,{title:_t("Install %s",snippet.moduleDisplayName),body:markup`${bodyText}\n<a href="${linkUrl}" target="_blank"><i class="oi oi-arrow-right me-1"></i>${linkText}</a>`,confirm:async()=>installSnippetModule(snippet),confirmLabel:_t("Save and Install"),cancel:()=>{},});}
openSnippetDialog(snippet,{onSelect,onClose},editor){this.dialog.add(AddSnippetDialog,{selectedSnippet:snippet,snippetModel:this,selectSnippet:(...args)=>{const newSnippetEl=onSelect(...args);this.updateSnippetContent(newSnippetEl);},installSnippetModule:editor.config.installSnippetModule,editor,},{onClose});}
load(){if(!this.loadProm){this.loadProm=(async()=>{const context={...this.context,rendering_bundle:true};if(context.user_lang){context.lang=this.context.user_lang;context.snippet_lang=this.context.lang;}
const html=await this.orm.silent.call("ir.ui.view","render_public_asset",[this.snippetsName,{}],{context});const snippetsDocument=new DOMParser().parseFromString(html,"text/html");const processors=registry.category("html_builder.snippetsPreprocessor").getAll();for(const processor of Object.values(processors)){processor(this.snippetsName,snippetsDocument);}
this.computeSnippetTemplates(snippetsDocument);this.setSnippetName(snippetsDocument);})();}
return this.loadProm;}
reload(context={}){this.loadProm=null;this.context={...this.context,...context,};return this.load();}
computeSnippetTemplates(snippetsDocument){const snippetsBody=snippetsDocument.body;this.snippetsByCategory={};for(const snippetCategory of snippetsBody.querySelectorAll("snippets")){const snippets=[];for(const snippetEl of snippetCategory.children){const snippet={id:uniqueId(),title:snippetEl.getAttribute("name"),name:snippetEl.children[0].dataset.snippet,content:snippetEl.children[0],viewId:parseInt(snippetEl.dataset.oeSnippetId),key:snippetEl.dataset.oeSnippetKey,thumbnailSrc:escape(snippetEl.dataset.oeThumbnail),imagePreviewSrc:snippetEl.dataset.oImagePreview,isCustom:false,label:snippetEl.dataset.oLabel,isDisabled:false,forbidSanitize:false,};const moduleId=snippetEl.dataset.moduleId;if(moduleId){Object.assign(snippet,{moduleId,isInstallable:!!moduleId,moduleDisplayName:snippetEl.dataset.moduleDisplayName,});}
if(snippetEl.dataset.oeForbidSanitize){Object.assign(snippet,{forbidSanitize:snippetEl.dataset.oeForbidSanitize});}
switch(snippetCategory.id){case"snippet_groups":snippet.groupName=snippetEl.dataset.oSnippetGroup;break;case"snippet_structure":snippet.groupName=snippetEl.dataset.oGroup;snippet.keyWords=snippetEl.dataset.oeKeywords;break;case"snippet_custom":snippet.groupName="custom";snippet.isCustom=true;break;}
snippets.push(snippet);}
this.snippetsByCategory[snippetCategory.id]=snippets;}
const customInnerContent=[];const customSnippets=this.snippetsByCategory.snippet_custom;for(let i=customSnippets.length-1;i>=0;i--){const snippet=customSnippets[i];const customSnippetName=snippet.name.startsWith("s_button_")?"s_button":snippet.name;if(this.isCustomInnerContent(customSnippetName)){customInnerContent.unshift(snippet);customSnippets.splice(i,1);}else if(!this.isCustomStructure(customSnippetName)){customSnippets.splice(i,1);}}
this.snippetsByCategory["snippet_custom_content"]=customInnerContent;}
async deleteCustomSnippet(snippet){return new Promise((resolve)=>{const message=_t("Are you sure you want to delete the block %s?",snippet.title);this.dialog.add(ConfirmationDialog,{body:message,confirm:async()=>{const isInnerContent=this.snippetsByCategory.snippet_custom_content.includes(snippet);const snippetCustom=isInnerContent?this.snippetsByCategory.snippet_custom_content:this.snippetsByCategory.snippet_custom;const index=snippetCustom.findIndex((s)=>s.id===snippet.id);if(index>-1){snippetCustom.splice(index,1);}
await this.orm.call("ir.ui.view","delete_snippet",[],{view_id:snippet.viewId,template_key:this.snippetsName,});},cancel:()=>{},confirmLabel:_t("Yes"),cancelLabel:_t("No"),},{onClose:resolve,});});}
async renameCustomSnippet(snippet,newName){if(newName===snippet.title){return;}
snippet.title=newName;await this.orm.call("ir.ui.view","rename_snippet",[],{name:newName,view_id:snippet.viewId,template_key:this.snippetsName,});await this.reload();}
setSnippetName(snippetsDocument){for(const snippetEl of snippetsDocument.body.querySelectorAll("snippets > *")){snippetEl.children[0].dataset["name"]=snippetEl.getAttribute("name");}}
getOriginalSnippet(snippetKey){if(!snippetKey){return;}
return[...this.snippetStructures,...this.snippetInnerContents].find((snippet)=>snippet.name===snippetKey);}
getSnippetThumbnailURL(snippetKey){const originalSnippet=this.getOriginalSnippet(snippetKey);return originalSnippet.thumbnailSrc;}
updateSnippetContent(snippetEl){snippetEl.querySelectorAll(".s_dialog_preview").forEach((el)=>el.remove());}
saveSnippet(snippetEl,cleanForSaveHandlers,wrapWithSaveSnippetHandlers=(_,callback)=>callback()){return new Promise((resolve)=>{this.dialog.add(ConfirmationDialog,{title:_t("Create a custom snippet"),body:_t("Do you want to save this snippet as a custom one?"),confirmLabel:_t("Save"),cancel:()=>resolve(false),confirm:async()=>{const isButton=snippetEl.matches("a.btn");const snippetKey=isButton?"s_button":snippetEl.dataset.snippet;const thumbnailURL=this.getSnippetThumbnailURL(snippetKey);const snippetCopyEl=wrapWithSaveSnippetHandlers(snippetEl,()=>snippetEl.cloneNode(true));const rootEl=snippetEl.matches(".s_popup")?snippetCopyEl.firstElementChild:snippetCopyEl;cleanForSaveHandlers.forEach((handler)=>handler({root:rootEl}));const defaultSnippetName=isButton?_t("Custom Button"):_t("Custom %s",snippetEl.dataset.name);snippetCopyEl.classList.add("s_custom_snippet");delete snippetCopyEl.dataset.name;if(isButton){snippetCopyEl.classList.remove("mb-2");snippetCopyEl.classList.add("o_snippet_drop_in_only","s_custom_button");}
const editableParentEl=snippetEl.closest("[data-oe-model][data-oe-field][data-oe-id]");const context={...this.context,model:editableParentEl.dataset.oeModel,field:editableParentEl.dataset.oeField,resId:editableParentEl.dataset.oeId,};const savedName=await this.orm.call("ir.ui.view","save_snippet",[],{name:defaultSnippetName,arch:snippetCopyEl.outerHTML,template_key:this.snippetsName,snippet_key:snippetKey,thumbnail_url:thumbnailURL,context,});await this.reload();resolve(savedName);},},{onClose:()=>resolve(false)});});}}
registry.category("services").add("html_builder.snippets",{dependencies:["orm","dialog","website"],start(env,{orm,dialog,website}){const services={orm,dialog,website};const context={lang:website.currentWebsite?.default_lang_id.code,user_lang:user.context.lang,};return new SnippetModel(services,{snippetsName:"website.snippets",context,});},});return __exports;});;

/* /html_builder/static/src/snippets/snippet_viewer.js */
odoo.define('@html_builder/snippets/snippet_viewer',['@odoo/owl','@web/core/l10n/translation','@web/core/utils/hooks','@html_builder/snippets/input_confirmation_dialog','@web/core/utils/search'],function(require){'use strict';let __exports={};const{Component,markup,onMounted,onPatched,onWillUnmount,onWillPatch,useRef,}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{useService}=require("@web/core/utils/hooks");const{InputConfirmationDialog}=require("@html_builder/snippets/input_confirmation_dialog");const{fuzzyLookup}=require("@web/core/utils/search");const SnippetViewer=__exports.SnippetViewer=class SnippetViewer extends Component{static template="html_builder.SnippetViewer";static props={state:{type:Object},selectSnippet:{type:Function},hasSearchResults:Function,snippetModel:{type:Object},installSnippetModule:{type:Function},frontendDirection:{type:String},};setup(){this.dialog=useService("dialog");this.content=useRef("content");this.websiteService=useService("website");this.innerWebsiteEditService=this.websiteService.websiteRootInstance?.bindService("website_edit");this.previousSearch="";const updatePreview=()=>{if(this.innerWebsiteEditService){this.innerWebsiteEditService.update(this.content.el,"preview");}};const stopPreview=()=>{if(this.innerWebsiteEditService){this.innerWebsiteEditService.stop(this.content.el);}};onMounted(updatePreview);onPatched(updatePreview);onWillPatch(stopPreview);onWillUnmount(stopPreview);}
onClickRename(snippet){this.dialog.add(InputConfirmationDialog,{title:_t("Rename the block"),inputLabel:_t("Name"),defaultValue:snippet.title,confirmLabel:_t("Save"),confirm:(inputValue)=>{this.props.snippetModel.renameCustomSnippet(snippet,inputValue);},cancelLabel:_t("Discard"),cancel:()=>{},});}
onClickDelete(snippet){this.props.snippetModel.deleteCustomSnippet(snippet);}
getSnippetColumns(){const snippets=this.getSelectedSnippets();const columns=[[],[]];for(const index in snippets){if(index%2===0){columns[0].push(snippets[index]);}else{columns[1].push(snippets[index]);}}
let numResults=0;for(const column of columns){numResults+=column.length;}
this.props.hasSearchResults(numResults>0);return columns;}
onClick(snippet){if(snippet.moduleId){this.props.snippetModel.installSnippetModule(snippet,this.props.installSnippetModule);}else{this.props.selectSnippet(snippet);}}
getContent(elem){return markup(elem.outerHTML);}
getButtonInstallName(snippet){return _t("Install %s",snippet.title);}
getSelectedSnippets(){const snippetStructures=this.props.snippetModel.snippetStructures.filter((snippet)=>!snippet.isExcluded&&!snippet.isDisabled);if(this.previousSearch!==this.props.state.search){this.previousSearch=this.props.state.search;this.content.el.ownerDocument.body.scrollTop=0;}
const getClasses=(snippet)=>{const classes=new Set();const elements=[snippet.content,...snippet.content.querySelectorAll("*")];for(const el of elements){for(const className of el.classList){if(className.startsWith("s_")){classes.add(className);}}}
return Array.from(classes);};if(this.props.state.search){return fuzzyLookup(this.props.state.search,snippetStructures,(snippet)=>[snippet.title||"",snippet.name||"",...(snippet.keyWords?.split(",")||""),...getClasses(snippet),]);}
return snippetStructures.filter((snippet)=>snippet.groupName===this.props.state.groupSelected);}}
return __exports;});;

/* /html_builder/static/src/utils/column_layout_utils.js */
odoo.define('@html_builder/utils/column_layout_utils',[],function(require){'use strict';let __exports={};__exports.getNbColumns=getNbColumns;function getNbColumns(columnEls,isMobile){if(!columnEls){return 0;}
if(areColsCustomized(columnEls,isMobile)){return"custom";}
const resolutionModifier=isMobile?"":"lg-";const colRegex=new RegExp(`(?:^|\\s+)col-${resolutionModifier}(\\d{1,2})(?!\\S)`);const colSize=parseInt(columnEls[0].className.match(colRegex)?.[1]||12);const offsetSize=getFirstItem(columnEls,isMobile).classList.contains(`offset-${resolutionModifier}1`)?1:0;return Math.floor((12-offsetSize)/colSize);}
const getRow=__exports.getRow=(el)=>el.querySelector(":scope > .row");__exports.getFirstItem=getFirstItem;function getFirstItem(columnEls,isMobile){return(isMobile&&[...columnEls].find((el)=>el.style.order==="0"))||columnEls[0];}
__exports.addMobileOrders=addMobileOrders;function addMobileOrders(columnEls){for(let i=0;i<columnEls.length;i++){columnEls[i].style.order=i;columnEls[i].classList.add("order-lg-0");}}
__exports.removeMobileOrders=removeMobileOrders;function removeMobileOrders(columnEls){for(const el of columnEls){el.style.order="";el.classList.remove("order-lg-0");}}
__exports.areColsCustomized=areColsCustomized;function areColsCustomized(columnEls,isMobile){const resolutionModifier=isMobile?"":"lg-";const colRegex=new RegExp(`(?:^|\\s+)col-${resolutionModifier}(\\d{1,2})(?!\\S)`);const colSize=parseInt(columnEls[0].className.match(colRegex)?.[1]||12);const allColsSizesEqual=[...columnEls].every((columnEl)=>parseInt(columnEl.className.match(colRegex)?.[1]||12)===colSize);if(!allColsSizesEqual){return true;}
const offsetRegex=new RegExp(`(?:^|\\s+)offset-${resolutionModifier}[1-9][0-1]?(?!\\S)`);const nbOffsets=[...columnEls].filter((columnEl)=>columnEl.className.match(offsetRegex)).length;if(nbOffsets===0){return false;}
if(nbOffsets===1&&colSize===2&&getFirstItem(columnEls,isMobile).className.match(`offset-${resolutionModifier}1`)){return false;}
return true;}
__exports.fillRemovedItemGap=fillRemovedItemGap;function fillRemovedItemGap(parentEl,itemOrder){[...parentEl.children].forEach((el)=>{const elOrder=parseInt(el.style.order);if(elOrder>itemOrder){el.style.order=elOrder-1;}});}
return __exports;});;

/* /html_builder/static/src/utils/escaping.js */
odoo.define('@html_builder/utils/escaping',[],function(require){'use strict';let __exports={};__exports.escapeTextNodes=escapeTextNodes;function escapeTextNodes(el){const nodeFilter=(node)=>{if(node.nodeType===Node.ELEMENT_NODE&&(node.matches("object,iframe,script,style")||(node.hasAttribute("data-oe-model")&&node.getAttribute("data-oe-model")!=="ir.ui.view"))){return NodeFilter.FILTER_REJECT;}
if(node.nodeType===Node.TEXT_NODE){return NodeFilter.FILTER_ACCEPT;}
return NodeFilter.FILTER_SKIP;};if(nodeFilter(el)===NodeFilter.FILTER_REJECT){return;}
const walker=document.createTreeWalker(el,NodeFilter.SHOW_ALL,nodeFilter);const escaper=document.createElement("div");let node;while((node=walker.nextNode())){escaper.textContent=node.nodeValue;node.nodeValue=escaper.innerHTML;}}
return __exports;});;

/* /html_builder/static/src/utils/grid_layout_utils.js */
odoo.define('@html_builder/utils/grid_layout_utils',['@web/core/utils/render'],function(require){'use strict';let __exports={};const{renderToElement}=require("@web/core/utils/render");const rowSize=__exports.rowSize=50;const additionalRowLimit=__exports.additionalRowLimit=10;const defaultGridPadding=10;const layoutOptionSelector=__exports.layoutOptionSelector={selector:"section, section.s_carousel_wrapper .carousel-item, .s_carousel_intro_item",exclude:".s_dynamic, .s_dynamic_snippet_content, .s_dynamic_snippet_title, .s_masonry_block, .s_framed_intro, .s_features_grid, .s_media_list, .s_table_of_content, .s_process_steps, .s_image_gallery, .s_pricelist_boxed, .s_quadrant, .s_pricelist_cafe, .s_faq_horizontal, .s_image_frame, .s_card_offset, .s_contact_info, .s_tabs, .s_tabs_images, .s_floating_blocks .s_floating_blocks_block",applyTo:":scope > *:has(> .row), :scope > .s_allow_columns",};__exports.hasGridLayoutOption=hasGridLayoutOption;function hasGridLayoutOption(containerEl){const{selector,exclude,applyTo}=layoutOptionSelector;const snippetEl=containerEl.closest(selector);if(!snippetEl||snippetEl.matches(exclude)){return false;}
const containerWithOptionEl=snippetEl.querySelector(applyTo);if(containerWithOptionEl&&containerWithOptionEl===containerEl){return true;}
return false;}
__exports.getGridProperties=getGridProperties;function getGridProperties(rowEl){const style=window.getComputedStyle(rowEl);const rowGap=parseFloat(style.rowGap);const columnGap=parseFloat(style.columnGap);const columnSize=(rowEl.clientWidth-11*columnGap)/12;return{rowGap,rowSize,columnGap,columnSize};}
__exports.getGridItemProperties=getGridItemProperties;function getGridItemProperties(gridItemEl){const style=gridItemEl.style;const rowStart=parseInt(style.gridRowStart);const rowEnd=parseInt(style.gridRowEnd);const columnStart=parseInt(style.gridColumnStart);const columnEnd=parseInt(style.gridColumnEnd);const gridArea=style.gridArea;const zIndex=style.zIndex;return{rowStart,rowEnd,columnStart,columnEnd,gridArea,zIndex};}
__exports.setElementToMaxZindex=setElementToMaxZindex;function setElementToMaxZindex(element,rowEl){const childrenEls=[...rowEl.children].filter((el)=>el!==element&&!el.classList.contains("o_we_grid_preview"));element.style.zIndex=Math.max(...childrenEls.map((el)=>el.style.zIndex))+1;}
__exports.addBackgroundGrid=addBackgroundGrid;function addBackgroundGrid(rowEl,gridHeight){const gridProp=getGridProperties(rowEl);const rowCount=Math.max(rowEl.dataset.rowCount,gridHeight);const backgroundGrid=renderToElement("html_builder.background_grid",{rowCount:rowCount+1,rowGap:gridProp.rowGap,rowSize:gridProp.rowSize,columnGap:gridProp.columnGap,columnSize:gridProp.columnSize,});rowEl.prepend(backgroundGrid);return rowEl.firstElementChild;}
__exports.resizeGrid=resizeGrid;function resizeGrid(rowEl){const columnEls=[...rowEl.children].filter((c)=>c.classList.contains("o_grid_item"));rowEl.dataset.rowCount=Math.max(...columnEls.map((el)=>el.style.gridRowEnd))-1;}
__exports.cleanUpGrid=cleanUpGrid;function cleanUpGrid(rowEl,columnEl,dragHelperEl,backgroundGridEl){const columnStyleProps=["position","top","left","height","width"];columnStyleProps.forEach((prop)=>columnEl.style.removeProperty(prop));rowEl.style.removeProperty("position");dragHelperEl.remove();backgroundGridEl.remove();}
__exports.toggleGridMode=toggleGridMode;function toggleGridMode(containerEl,preserveSelection){let rowEl=containerEl.querySelector(":scope > .row");const outOfRowEls=[...containerEl.children].filter((el)=>!el.classList.contains("row"));const restoreSelection=!rowEl||outOfRowEls.length>0?preserveSelection().restore:()=>{};if(rowEl&&outOfRowEls.length>0){const columnEl=document.createElement("div");columnEl.classList.add("col-lg-12");for(let i=outOfRowEls.length-1;i>=0;i--){columnEl.prepend(outOfRowEls[i]);}
rowEl.prepend(columnEl);}
if(!rowEl){rowEl=document.createElement("div");rowEl.classList.add("row");const columnEl=document.createElement("div");columnEl.classList.add("col-lg-12");const containerChildren=containerEl.children;for(let i=containerChildren.length-1;i>=0;i--){columnEl.prepend(containerChildren[i]);}
rowEl.appendChild(columnEl);containerEl.appendChild(rowEl);}
restoreSelection();const columnEls=rowEl.children;const columnSize=rowEl.clientWidth/12;rowEl.style.position="relative";const rowCount=placeColumns(columnEls,rowSize,0,columnSize,0)-1;rowEl.style.removeProperty("position");rowEl.dataset.rowCount=rowCount;const classesToRemove=[...rowEl.classList].filter((c)=>/^align-items/.test(c));rowEl.classList.remove(...classesToRemove);rowEl.classList.add("o_grid_mode");}
function placeColumns(columnEls,rowSize,rowGap,columnSize,columnGap){let maxRowEnd=0;const columnSpans=[];let zIndex=1;const imageColumns=[];for(const columnEl of columnEls){const isImageColumn=checkIfImageColumn(columnEl);const imageEl=columnEl.querySelector("img");const hasBackgroundColor=columnEl.classList.contains("o_cc");const isImageWithoutPadding=isImageColumn&&!hasBackgroundColor;const style=window.getComputedStyle(columnEl);const borderLeft=parseFloat(style.borderLeft);const columnLeft=isImageWithoutPadding&&!borderLeft?imageEl.offsetLeft:columnEl.offsetLeft;const paddingLeft=parseFloat(style.paddingLeft);let width=isImageWithoutPadding?parseFloat(imageEl.scrollWidth):parseFloat(columnEl.scrollWidth)-(hasBackgroundColor?0:2*paddingLeft);const borderX=borderLeft+parseFloat(style.borderRight);width+=borderX+(hasBackgroundColor||isImageColumn?0:2*defaultGridPadding);let columnSpan=Math.round((width+columnGap)/(columnSize+columnGap));if(columnSpan<1){columnSpan=1;}
const columnStart=Math.round(columnLeft/(columnSize+columnGap))+1;const columnEnd=columnStart+columnSpan;const borderTop=parseFloat(style.borderTop);const columnTop=isImageWithoutPadding&&!borderTop?imageEl.offsetTop:columnEl.offsetTop;const paddingTop=parseFloat(style.paddingTop);const paddingBottom=parseFloat(style.paddingBottom);const rowOffsetTop=Math.floor((paddingTop+rowGap)/(rowSize+rowGap));let height=isImageWithoutPadding?parseFloat(imageEl.scrollHeight):parseFloat(columnEl.scrollHeight)-
(hasBackgroundColor?0:paddingTop+paddingBottom);const borderY=borderTop+parseFloat(style.borderBottom);height+=borderY+(hasBackgroundColor||isImageColumn?0:2*defaultGridPadding);const rowSpan=Math.ceil((height+rowGap)/(rowSize+rowGap));const rowStart=Math.round(columnTop/(rowSize+rowGap))+
1+
(hasBackgroundColor||isImageWithoutPadding?0:rowOffsetTop);const rowEnd=rowStart+rowSpan;columnEl.style.gridArea=`${rowStart} / ${columnStart} / ${rowEnd} / ${columnEnd}`;columnEl.classList.add("o_grid_item");columnEl.classList.add(`g-col-lg-${columnSpan}`,`g-height-${rowSpan}`);columnEl.style.zIndex=zIndex++;if(hasBackgroundColor){columnEl.style.setProperty("--grid-item-padding-y",`${paddingTop}px`);columnEl.style.setProperty("--grid-item-padding-x",`${paddingLeft}px`);}
reloadLazyImages(columnEl);maxRowEnd=Math.max(rowEnd,maxRowEnd);columnSpans.push(columnSpan);imageColumns.push(isImageColumn);}
for(const[i,columnEl]of[...columnEls].entries()){const regex=/^(((pt|pb)\d{1,3}$)|col-lg-|offset-lg-)/;const toRemove=[...columnEl.classList].filter((c)=>regex.test(c));columnEl.classList.remove(...toRemove);columnEl.classList.add("col-lg-"+columnSpans[i]);if(imageColumns[i]){convertImageColumn(columnEl);}}
return maxRowEnd;}
__exports.reloadLazyImages=reloadLazyImages;function reloadLazyImages(columnEl){const imageEls=columnEl.querySelectorAll("img");for(const imageEl of imageEls){const src=imageEl.getAttribute("src");imageEl.src="";imageEl.src=src;}}
__exports.convertColumnToGrid=convertColumnToGrid;function convertColumnToGrid(rowEl,columnEl,columnWidth,columnHeight){if(checkIfImageColumn(columnEl)){convertImageColumn(columnEl);}
const paddingX=parseFloat(rowEl.style.getPropertyValue("--grid-item-padding-x"))||defaultGridPadding;const paddingY=parseFloat(rowEl.style.getPropertyValue("--grid-item-padding-y"))||defaultGridPadding;columnWidth+=2*paddingX;columnHeight+=2*paddingY;const{rowGap,rowSize,columnGap,columnSize}=getGridProperties(rowEl);const columnSpan=Math.round((columnWidth+columnGap)/(columnSize+columnGap));const rowSpan=Math.ceil((columnHeight+rowGap)/(rowSize+rowGap));const regex=/^(pt|pb|col-|offset-)/;const toRemove=[...columnEl.classList].filter((c)=>regex.test(c));columnEl.classList.remove(...toRemove);columnEl.classList.add(`g-col-lg-${columnSpan}`,`g-height-${rowSpan}`,`col-lg-${columnSpan}`);columnEl.classList.add("o_grid_item");return{columnSpan,rowSpan};}
__exports.convertToNormalColumn=convertToNormalColumn;function convertToNormalColumn(columnEl){const gridSizeClasses=columnEl.className.match(/(g-col-lg|g-height)-[0-9]+/g);columnEl.classList.remove("o_grid_item","o_grid_item_image","o_grid_item_image_contain",...gridSizeClasses);columnEl.style.removeProperty("z-index");columnEl.style.removeProperty("--grid-item-padding-x");columnEl.style.removeProperty("--grid-item-padding-y");columnEl.style.removeProperty("grid-area");}
__exports.checkIfImageColumn=checkIfImageColumn;function checkIfImageColumn(columnEl){let isImageColumn=false;const imageEls=columnEl.querySelectorAll(":scope > img, :scope > a > img");const columnChildrenEls=[...columnEl.children].filter((el)=>el.nodeName!=="BR");if(imageEls.length===1&&columnChildrenEls.length===1){const textNodeEls=[...columnEl.childNodes].filter((el)=>el.nodeType===Node.TEXT_NODE);const areTextNodesEmpty=[...textNodeEls].every((textNodeEl)=>textNodeEl.nodeValue.trim()==="");isImageColumn=areTextNodesEmpty;}
return isImageColumn;}
function convertImageColumn(columnEl){columnEl.querySelectorAll("br").forEach((el)=>el.remove());const textNodeEls=[...columnEl.childNodes].filter((el)=>el.nodeType===Node.TEXT_NODE);textNodeEls.forEach((el)=>el.remove());const imageEl=columnEl.querySelector("img");columnEl.classList.add("o_grid_item_image");imageEl.style.removeProperty("width");}
return __exports;});;

/* /html_builder/static/src/utils/option_sequence.js */
odoo.define('@html_builder/utils/option_sequence',[],function(require){'use strict';let __exports={};const BEGIN=1;const END=100;const ALL=[BEGIN,END];const DEFAULT=__exports.DEFAULT=track(10);function track(position){if(!(position in ALL)){const index=ALL.findIndex((value)=>value>position);if(index===-1){ALL.push(position);}else{ALL.splice(index,0,position);}}
return position;}
__exports.splitBetween=splitBetween;function splitBetween(beginPosition,endPosition,count){const result=[];const delta=(endPosition-beginPosition)/(count+1);for(let index=1;index<=count;index++){result.push(track(beginPosition+delta*index));}
return result;}
__exports.between=between;function between(previousPosition,nextPosition){return splitBetween(previousPosition,nextPosition,1)[0];}
__exports.after=after;function after(position){const index=ALL.findIndex((value)=>value===position);if(index===-1){throw new Error("Position "+position+" does not exist. Do not use arbitrary numbers.");}
if(index===ALL.length-1){throw new Error("Cannot place something after END position.");}
const nextPosition=ALL[index+1];return between(position,nextPosition);}
__exports.before=before;function before(position){const index=ALL.findIndex((value)=>value===position);if(index===-1){throw new Error("Position "+position+" does not exist. Do not use arbitrary numbers.");}
if(index===0){throw new Error("Cannot place something before BEGIN position.");}
const previousPosition=ALL[index-1];return between(previousPosition,position);}
const SNIPPET_SPECIFIC=DEFAULT;const[REPLACE_MEDIA,FONT_AWESOME,IMAGE_TOOL,ALIGNMENT_STYLE_PADDING,DYNAMIC_SVG,AFTER_HTML_BUILDER,SNIPPET_SPECIFIC_BEFORE,...__DETECT_ERROR_1__]=splitBetween(BEGIN,SNIPPET_SPECIFIC,7);if(__DETECT_ERROR_1__.length>0){console.error("Wrong count in split before default");}
const[SNIPPET_SPECIFIC_AFTER,LAYOUT_COLUMN,VERTICAL_ALIGNMENT,SNIPPET_SPECIFIC_NEXT,SNIPPET_SPECIFIC_END,...__DETECT_ERROR_2__]=splitBetween(SNIPPET_SPECIFIC,END,5);if(__DETECT_ERROR_2__.length>0){console.error("Wrong count in split after default");}
const[TEXT_ALIGNMENT,TITLE_LAYOUT_SIZE,WIDTH,BLOCK_ALIGN,...__DETECT_ERROR_3__]=splitBetween(AFTER_HTML_BUILDER,SNIPPET_SPECIFIC_BEFORE,4);if(__DETECT_ERROR_3__.length>0){console.error("Wrong count in website split before specific");}
Object.assign(__exports,{TEXT_ALIGNMENT,TITLE_LAYOUT_SIZE,WIDTH,BLOCK_ALIGN});Object.assign(__exports,{BEGIN,REPLACE_MEDIA,FONT_AWESOME,IMAGE_TOOL,ALIGNMENT_STYLE_PADDING,DYNAMIC_SVG,AFTER_HTML_BUILDER,SNIPPET_SPECIFIC_BEFORE,SNIPPET_SPECIFIC,SNIPPET_SPECIFIC_AFTER,LAYOUT_COLUMN,VERTICAL_ALIGNMENT,SNIPPET_SPECIFIC_NEXT,SNIPPET_SPECIFIC_END,END,});return __exports;});;

/* /html_builder/static/src/utils/scrolling.js */
odoo.define('@html_builder/utils/scrolling',['@web/core/utils/scrolling'],function(require){'use strict';let __exports={};const{getScrollingElement}=require("@web/core/utils/scrolling");function isScrollable(element){if(!element){return false;}
const overflowY=window.getComputedStyle(element).overflowY;return(overflowY==="auto"||overflowY==="scroll"||(overflowY==="visible"&&element===element.ownerDocument.scrollingElement));}
__exports.closestScrollable=closestScrollable;function closestScrollable(element){const document=element.ownerDocument||window.document;while(element&&element!==document.scrollingElement){if(element instanceof Document){return null;}
if(isScrollable(element)){return element;}
element=element.parentElement;}
return element||document.scrollingElement;}
function scrollFixedOffset(doc=document){let size=0;const elements=doc.querySelectorAll(".o_top_fixed_element");elements.forEach((el)=>{size+=el.offsetHeight;});return size;}
__exports.scrollTo=scrollTo;function scrollTo(el,options={}){if(!el){throw new Error("The scrollTo function was called without any given element");}
if(typeof el==="string"){el=document.querySelector(el);}
const isTopOrBottomHidden=el==="top"||el==="bottom";const scrollable=isTopOrBottomHidden?document.scrollingElement:options.scrollable||closestScrollable(el.parentElement);const scrollDocument=scrollable.ownerDocument;const isInOneDocument=isTopOrBottomHidden||scrollDocument===el.ownerDocument;const iframe=!isInOneDocument&&Array.from(scrollable.querySelectorAll("iframe")).find((node)=>node.contentDocument.contains(el));const topLevelScrollable=getScrollingElement(scrollDocument);function _computeScrollTop(){if(el==="#top"||el.id==="top"){return 0;}
if(el==="#bottom"||el.id==="bottom"){return scrollable.scrollHeight-scrollable.clientHeight;}
el.classList.add("o_check_scroll_position");let offsetTop=el.getBoundingClientRect().top+window.scrollY;el.classList.remove("o_check_scroll_position");if(el.classList.contains("d-none")){el.classList.remove("d-none");offsetTop=el.getBoundingClientRect().top+window.scrollY;el.classList.add("d-none");}
const isDocScrollingEl=scrollable===el.ownerDocument.scrollingElement;let elPosition=offsetTop-
(scrollable.getBoundingClientRect().top+
window.scrollY-
(isDocScrollingEl?0:scrollable.scrollTop));if(!isInOneDocument&&iframe){elPosition+=iframe.getBoundingClientRect().top+window.scrollY;}
let offset=options.forcedOffset;if(offset===undefined){offset=(scrollable===topLevelScrollable?scrollFixedOffset(scrollDocument):0)+
(options.extraOffset||0);}
return Math.max(0,elPosition-offset);}
return new Promise((resolve)=>{const start=scrollable.scrollTop;const duration=options.duration||600;const startTime=performance.now();function animateScroll(currentTime){const elapsedTime=currentTime-startTime;const progress=Math.min(elapsedTime/duration,1);const easeInOutQuad=progress<0.5?2*progress*progress:1-Math.pow(-2*progress+2,2)/2;const change=_computeScrollTop()-start;const newScrollTop=start+change*easeInOutQuad;scrollable.scrollTop=newScrollTop;if(elapsedTime<duration){requestAnimationFrame(animateScroll);}else{resolve();}}
requestAnimationFrame(animateScroll);});}
return __exports;});;

/* /html_builder/static/src/utils/sync_cache.js */
odoo.define('@html_builder/utils/sync_cache',['@web/core/utils/cache'],function(require){'use strict';let __exports={};const{Cache}=require("@web/core/utils/cache");const SyncCache=__exports.SyncCache=class SyncCache{constructor(fn){this.asyncCache=new Cache(fn,JSON.stringify);this.syncCache=new Map();}
async preload(params){const result=await this.asyncCache.read(params);this.syncCache.set(JSON.stringify(params),result);return result;}
get(params){return this.syncCache.get(JSON.stringify(params));}
invalidate(){this.asyncCache.invalidate();this.syncCache.clear();}}
return __exports;});;

/* /html_builder/static/src/utils/utils.js */
odoo.define('@html_builder/utils/utils',['@html_builder/core/dependency_manager','@odoo/owl','@web/core/ui/ui_service','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{DependencyManager}=require("@html_builder/core/dependency_manager");const{useSubEnv}=require("@odoo/owl");const{SIZES,MEDIAS_BREAKPOINTS}=require("@web/core/ui/ui_service");const{_t}=require("@web/core/l10n/translation");__exports.isMobileView=isMobileView;function isMobileView(targetEl){const mobileViewThreshold=MEDIAS_BREAKPOINTS[SIZES.LG].minWidth;const clientWidth=targetEl.ownerDocument.defaultView?.frameElement?.clientWidth||targetEl.ownerDocument.documentElement.clientWidth;return!!clientWidth&&clientWidth<mobileViewThreshold;}
__exports.getSnippetName=getSnippetName;function getSnippetName(snippetEl){if(snippetEl.dataset.name){return snippetEl.dataset.name;}
if(snippetEl.matches("img")){return _t("Image");}
if(snippetEl.matches(".fa")){return _t("Icon");}
if(snippetEl.matches(".media_iframe_video")){return _t("Video");}
if(snippetEl.parentNode?.matches(".row")){return _t("Column");}
if(snippetEl.matches("#wrapwrap > main")){return _t("Page Options");}
if(snippetEl.matches(".btn")){return _t("Button");}
return _t("Block");}
__exports.isElementInViewport=isElementInViewport;function isElementInViewport(el){const rect=el.getBoundingClientRect();const viewportWidth=window.innerWidth||document.documentElement.clientWidth;const viewportHeight=window.innerHeight||document.documentElement.clientHeight;return(Math.round(rect.top)>=0&&Math.round(rect.left)>=0&&Math.round(rect.right)<=viewportWidth&&Math.round(rect.bottom)<=viewportHeight);}
__exports.isVisible=isVisible;function isVisible(el){if(el.offsetHeight>0||el.offsetWidth>0){return true;}
return false;}
__exports.getElementsWithOption=getElementsWithOption;function getElementsWithOption(rootEl,selector,exclude=false,applyTo=false){let matchingEls=[...rootEl.querySelectorAll(selector)];if(rootEl.matches(selector)){matchingEls.unshift(rootEl);}
if(exclude){matchingEls=matchingEls.filter((editingEl)=>!editingEl.matches(exclude));}
if(applyTo){matchingEls=matchingEls.flatMap((editingEl)=>[...editingEl.querySelectorAll(applyTo)]);}
return matchingEls;}
__exports.useOptionsSubEnv=useOptionsSubEnv;function useOptionsSubEnv(getEditingElements){useSubEnv({dependencyManager:new DependencyManager(),getEditingElement:()=>getEditingElements()[0],getEditingElements:getEditingElements,weContext:{},});}
__exports.getValueFromVar=getValueFromVar;function getValueFromVar(value){const match=value.match(/var\(--([a-zA-Z0-9-_]+)\)/);if(match){return match[1];}
return value;}
__exports.toRatio=toRatio;function toRatio(value){const inputValueAsNumber=Number(value);const ratio=inputValueAsNumber>=0?1+inputValueAsNumber:1/(1-inputValueAsNumber);return`${ratio.toFixed(2)}x`;}
__exports.getSelectorParams=getSelectorParams;function getSelectorParams(builderOptions,optionClass){const selectorParams=[];const optionClassName=optionClass.name;for(const builderOption of builderOptions){const{OptionComponent}=builderOption;if(OptionComponent&&(OptionComponent.name===optionClassName||OptionComponent.prototype instanceof optionClass)){selectorParams.push(builderOption);}}
return selectorParams;}
__exports.isEditable=isEditable;function isEditable(node){let currentNode=node;while(currentNode){if(currentNode.className&&typeof currentNode.className==="string"){if(currentNode.className.includes("o_not_editable")){return false;}
if(currentNode.className.includes("o_editable")){return true;}}
currentNode=currentNode.parentNode;}
return false;}
__exports.removePlugins=removePlugins;function removePlugins(plugins,pluginsToRemove){return plugins.filter((p)=>!pluginsToRemove.includes(p.name));}
return __exports;});;

/* /html_builder/static/src/utils/utils_css.js */
odoo.define('@html_builder/utils/utils_css',['@html_editor/utils/color','@html_editor/utils/image','@web/core/utils/colors'],function(require){'use strict';let __exports={};const{EDITOR_COLOR_CSS_VARIABLES}=require("@html_editor/utils/color");const{backgroundImageCssToParts,getBgImageURLFromURL}=require("@html_editor/utils/image");const{normalizeCSSColor,isCSSColor,isColorGradient}=require("@web/core/utils/colors");let editableWindow=window;const setEditableWindow=__exports.setEditableWindow=(ew)=>(editableWindow=ew);let editableDocument=document;const setEditableDocument=__exports.setEditableDocument=(ed)=>(editableDocument=ed);const CSS_SHORTHANDS=__exports.CSS_SHORTHANDS={"border-width":["border-top-width","border-right-width","border-bottom-width","border-left-width",],"border-radius":["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius",],"border-color":["border-top-color","border-right-color","border-bottom-color","border-left-color",],"border-style":["border-top-style","border-right-style","border-bottom-style","border-left-style",],padding:["padding-top","padding-right","padding-bottom","padding-left"],};const CSS_UNITS_CONVERSION=__exports.CSS_UNITS_CONVERSION={"s-ms":()=>1000,"ms-s":()=>0.001,"rem-px":()=>computePxByRem(),"px-rem":()=>computePxByRem(true),"%-px":()=>-1,"px-%":()=>-1,};const DEFAULT_PALETTE=__exports.DEFAULT_PALETTE={1:"#3AADAA",2:"#7C6576",3:"#F6F6F6",4:"#FFFFFF",5:"#383E45",};const BACKGROUND_IMAGE_ATTRIBUTES=new Set(["originalId","originalSrc","mimetype","resizeWidth","glFilter","quality","filterOptions","mimetypeBeforeConversion",]);__exports.computePxByRem=computePxByRem;function computePxByRem(toRem){if(editableDocument.PX_BY_REM===undefined){const htmlStyle=editableWindow.getComputedStyle(editableDocument.documentElement);editableDocument.PX_BY_REM=parseFloat(htmlStyle["font-size"]);}
return toRem?1/editableDocument.PX_BY_REM:editableDocument.PX_BY_REM;}
__exports.convertValueToUnit=convertValueToUnit;function convertValueToUnit(value,unitTo,cssProp){const m=getNumericAndUnit(value);if(!m){return NaN;}
const numValue=parseFloat(m[0]);const valueUnit=m[1];return convertNumericToUnit(numValue,valueUnit,unitTo,cssProp);}
__exports.convertNumericToUnit=convertNumericToUnit;function convertNumericToUnit(value,unitFrom,unitTo,cssProp){if(Math.abs(value)<Number.EPSILON||unitFrom===unitTo){return value;}
const converter=CSS_UNITS_CONVERSION[`${unitFrom}-${unitTo}`];if(converter===undefined){throw new Error(`Cannot convert '${unitFrom}' units into '${unitTo}' units !`);}
return value*converter(cssProp);}
__exports.getNumericAndUnit=getNumericAndUnit;function getNumericAndUnit(value){const m=value.trim().match(/^(-?[0-9.]+(?:e[+|-]?[0-9]+)?)\s*([^\s]*)$/);if(!m){return null;}
return[m[1].trim(),m[2].trim()];}
__exports.areCssValuesEqual=areCssValuesEqual;function areCssValuesEqual(value1,value2,cssProp){if(value1===value2){return true;}
if(cssProp&&cssProp.endsWith("-size")){const pseudoPartProp=cssProp+"-part";const re=/-?[0-9.]+(?:e[+|-]?[0-9]+)?\s*[A-Za-z%-]+|auto/g;const parts1=value1.match(re);const parts2=value2.match(re);for(const index of[0,1]){const part1=parts1&&parts1.length>index?parts1[index]:"auto";const part2=parts2&&parts2.length>index?parts2[index]:"auto";if(!areCssValuesEqual(part1,part2,pseudoPartProp)){return false;}}
return true;}
if(isCSSVariable(value1)){value1=getCSSVariableValue(value1.substring(6,value1.length-1));}
if(isCSSVariable(value2)){value2=getCSSVariableValue(value2.substring(6,value2.length-1));}
if(value1===value2){return true;}
const color1=normalizeCSSColor(value1);const color2=normalizeCSSColor(value2);if(color1===color2){return true;}
const value1IsGradient=isColorGradient(value1);const value2IsGradient=isColorGradient(value2);if(value1IsGradient!==value2IsGradient){return false;}
if(value1IsGradient){const temp1El=document.createElement("div");temp1El.style.backgroundImage=value1;document.body.appendChild(temp1El);value1=getComputedStyle(temp1El).backgroundImage;document.body.removeChild(temp1El);const temp2El=document.createElement("div");temp2El.style.backgroundImage=value2;document.body.appendChild(temp2El);value2=getComputedStyle(temp2El).backgroundImage;document.body.removeChild(temp2El);return value1===value2;}
if(cssProp==="box-shadow"){const temp1El=document.createElement("div");temp1El.style.boxShadow=value1;document.body.appendChild(temp1El);value1=getComputedStyle(temp1El).boxShadow;document.body.removeChild(temp1El);const temp2El=document.createElement("div");temp2El.style.boxShadow=value2;document.body.appendChild(temp2El);value2=getComputedStyle(temp2El).boxShadow;document.body.removeChild(temp2El);return value1===value2;}
const data=getNumericAndUnit(value1);if(!data){return false;}
const numValue1=data[0];const numValue2=convertValueToUnit(value2,data[1],cssProp);return Math.abs(numValue1-numValue2)<Number.EPSILON;}
__exports.isColorCombinationName=isColorCombinationName;function isColorCombinationName(name){const number=parseInt(name);return!isNaN(number)&&number%100!==0;}
__exports.isCSSVariable=isCSSVariable;function isCSSVariable(value){value=value.replace(/^'|'$/g,"");return/^var\(--.+?\)$/.test(value);}
__exports.computeColorClasses=computeColorClasses;function computeColorClasses(colorNames,prefix="bg-"){let hasCCClasses=false;const isBgPrefix=prefix==="bg-";const classes=colorNames.map((c)=>{if(isBgPrefix&&isColorCombinationName(c)){hasCCClasses=true;return`o_cc${c}`;}
return prefix+c;});if(hasCCClasses){classes.push("o_cc");}
return classes;}
__exports.getCSSVariableValue=getCSSVariableValue;function getCSSVariableValue(key,htmlStyle){if(htmlStyle===undefined){htmlStyle=editableWindow.getComputedStyle(editableDocument.documentElement);}
let value=htmlStyle.getPropertyValue(`--${key}`).trim();value=normalizeCSSColor(value);return value.replace(/"/g,"'");}
__exports.normalizeColor=normalizeColor;function normalizeColor(color){if(isCSSColor(color)){return color;}
return getCSSVariableValue(color);}
__exports.getBgImageURLFromEl=getBgImageURLFromEl;function getBgImageURLFromEl(el){const parts=backgroundImageCssToParts(window.getComputedStyle(el).backgroundImage);const string=parts.url||"";return getBgImageURLFromURL(string);}
__exports.generateHTMLId=generateHTMLId;function generateHTMLId(){return`o${Math.random().toString(36).substring(2, 15)}`;}
__exports.getColorClass=getColorClass;function getColorClass(el,colorNames,prefix){const prefixedColorNames=computeColorClasses(colorNames,prefix);return el.classList.value.split(" ").filter((cl)=>prefixedColorNames.includes(cl)).join(" ");}
__exports.addBackgroundImageAttributes=addBackgroundImageAttributes;function addBackgroundImageAttributes(...newAttributes){BACKGROUND_IMAGE_ATTRIBUTES.add(...newAttributes);}
__exports.isBackgroundImageAttribute=isBackgroundImageAttribute;function isBackgroundImageAttribute(attribute){return BACKGROUND_IMAGE_ATTRIBUTES.has(attribute);}
__exports.shouldEditableMediaBeEditable=shouldEditableMediaBeEditable;function shouldEditableMediaBeEditable(mediaEl){const parentEl=mediaEl.parentElement;const nonEditableAncestorRootEl=parentEl&&parentEl.closest('[contenteditable="false"]');return(nonEditableAncestorRootEl&&nonEditableAncestorRootEl.parentElement&&nonEditableAncestorRootEl.parentElement.isContentEditable);}
__exports.getLinkLabel=getLinkLabel;function getLinkLabel(linkEl){return linkEl.textContent.replaceAll("\u200B","").replaceAll("\uFEFF","");}
__exports.forwardToThumbnail=forwardToThumbnail;function forwardToThumbnail(imgEl){const carouselEl=imgEl.closest(".carousel");if(carouselEl){const carouselInnerEl=imgEl.closest(".carousel-inner");const carouselItemEl=imgEl.closest(".carousel-item");if(carouselInnerEl&&carouselItemEl){const imageIndex=[...carouselInnerEl.children].indexOf(carouselItemEl);const miniatureEl=carouselEl.querySelector(`.carousel-indicators [data-bs-slide-to="${imageIndex}"]`);if(miniatureEl&&miniatureEl.style.backgroundImage){miniatureEl.style.backgroundImage=`url(${imgEl.getAttribute("src")})`;}}}}
__exports.isImageCorsProtected=isImageCorsProtected;async function isImageCorsProtected(img){const src=img.getAttribute("src");if(!src){return false;}
let isCorsProtected=false;if(!src.startsWith("/")||/\/web\/image\/\d+-redirect\//.test(src)){isCorsProtected=await fetch(src,{method:"HEAD"}).then(()=>false).catch(()=>true);}
return isCorsProtected;}
__exports.applyNeededCss=applyNeededCss;function applyNeededCss(el,cssProp,cssValue,computedStyle=window.getComputedStyle(el),{force=false,allowImportant=true}={}){if(force){el.style.setProperty(cssProp,cssValue,allowImportant?"important":"");return true;}
el.style.removeProperty(cssProp);if(!areCssValuesEqual(computedStyle.getPropertyValue(cssProp),cssValue,cssProp)){el.style.setProperty(cssProp,cssValue);if(allowImportant&&!areCssValuesEqual(computedStyle.getPropertyValue(cssProp),cssValue,cssProp)){el.style.setProperty(cssProp,cssValue,"important");}
return true;}
return false;}
__exports.setBuilderCSSVariables=setBuilderCSSVariables;function setBuilderCSSVariables(){for(const style of EDITOR_COLOR_CSS_VARIABLES){let value=getCSSVariableValue(style);if(value.startsWith("'")&&value.endsWith("'")){value=value.substring(1,value.length-1);}
editableWindow.top.document.documentElement.style.setProperty(`--hb-cp-${style}`,value);}}
return __exports;});;

/* /website/static/src/builder/builder_urlpicker.js */
odoo.define('@website/builder/builder_urlpicker',['@odoo/owl','@website/js/utils','@html_editor/plugin','@web/core/registry','@html_builder/core/building_blocks/builder_urlpicker'],function(require){'use strict';let __exports={};const{useEffect}=require("@odoo/owl");const wUtils=require("@website/js/utils")[Symbol.for("default")];const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{BuilderUrlPicker}=require("@html_builder/core/building_blocks/builder_urlpicker");const WebsiteUrlPicker=__exports.WebsiteUrlPicker=class WebsiteUrlPicker extends BuilderUrlPicker{setup(){super.setup();useEffect((inputEl)=>{if(!inputEl){return;}
const unmountAutocompleteWithPages=wUtils.autocompleteWithPages(inputEl,{classes:{"ui-autocomplete":"o_website_ui_autocomplete",},body:this.env.getEditingElement().ownerDocument.body,urlChosen:()=>{this.commit(this.inputRef.el.value);},},this.env);return()=>unmountAutocompleteWithPages();},()=>[this.inputRef.el]);}}
class UrlPickerPlugin extends Plugin{static id="urlPickerPlugin";resources={builder_components:{WebsiteUrlPicker,},};}
registry.category("website-plugins").add(UrlPickerPlugin.id,UrlPickerPlugin);return __exports;});;

/* /website/static/src/builder/option_sequence.js */
odoo.define('@website/builder/option_sequence',['@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{splitBetween,SNIPPET_SPECIFIC_AFTER,VERTICAL_ALIGNMENT,LAYOUT_COLUMN,SNIPPET_SPECIFIC_NEXT,SNIPPET_SPECIFIC_END,END,}=require("@html_builder/utils/option_sequence");const[WEBSITE_BACKGROUND_OPTIONS,BOX_BORDER_SHADOW,LAYOUT,...__DETECT_ERROR_WEBSITE_0__]=splitBetween(SNIPPET_SPECIFIC_AFTER,LAYOUT_COLUMN,3);if(__DETECT_ERROR_WEBSITE_0__.length>0){console.error("Wrong count in website split after specific");}
const[LAYOUT_GRID,...__DETECT_ERROR_WEBSITE_1__]=splitBetween(LAYOUT_COLUMN,VERTICAL_ALIGNMENT,1);if(__DETECT_ERROR_WEBSITE_1__.length>0){console.error("Wrong count in website split after column layout");}
const[GRID_COLUMNS,...__DETECT_ERROR_WEBSITE_2__]=splitBetween(VERTICAL_ALIGNMENT,SNIPPET_SPECIFIC_NEXT,1);if(__DETECT_ERROR_WEBSITE_2__.length>0){console.error("Wrong count in website split after vertical alignment");}
Object.assign(__exports,{WEBSITE_BACKGROUND_OPTIONS,BOX_BORDER_SHADOW,LAYOUT,LAYOUT_COLUMN,LAYOUT_GRID,GRID_COLUMNS,});const[COVER_PROPERTIES,CONTAINER_WIDTH,SCROLL_BUTTON,...__DETECT_ERROR_WEBSITE_3__]=splitBetween(SNIPPET_SPECIFIC_NEXT,SNIPPET_SPECIFIC_END,3);if(__DETECT_ERROR_WEBSITE_3__.length>0){console.error("Wrong count in website split before specific end");}
Object.assign(__exports,{COVER_PROPERTIES,CONTAINER_WIDTH,SCROLL_BUTTON});const[GRID_IMAGE,TEXT_HIGHLIGHT,ANIMATE,CONDITIONAL_VISIBILITY,DEVICE_VISIBILITY,...__DETECT_ERROR_WEBSITE_4__]=splitBetween(SNIPPET_SPECIFIC_END,END,5);if(__DETECT_ERROR_WEBSITE_4__.length>0){console.error("Wrong count in website split after specific end");}
Object.assign(__exports,{GRID_IMAGE,TEXT_HIGHLIGHT,ANIMATE,CONDITIONAL_VISIBILITY,DEVICE_VISIBILITY});return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_hook.js */
odoo.define('@website/builder/plugins/background_option/background_hook',[],function(require){'use strict';let __exports={};__exports.useBackgroundOption=useBackgroundOption;function useBackgroundOption(isActiveItem){return{showColorFilter:()=>isActiveItem("toggle_bg_image_id")};}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_image_option.js */
odoo.define('@website/builder/plugins/background_option/background_image_option',['@html_builder/core/utils','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{getBgImageURLFromEl,normalizeColor}=require("@html_builder/utils/utils_css");const BackgroundImageOption=__exports.BackgroundImageOption=class BackgroundImageOption extends BaseOptionComponent{static template="website.BackgroundImageOption";static props={};setup(){this.toggleBgImageClasses();super.setup();}
toggleBgImageClasses(){this.env.editor.shared.history.ignoreDOMMutations(()=>{const editingEl=this.env.getEditingElement();const backgroundURL=getBgImageURLFromEl(editingEl);this.env.editor.shared.backgroundImageOption.setImageBackground(editingEl,backgroundURL);});}
showMainColorPicker(){const editingEl=this.env.getEditingElement();const src=new URL(getBgImageURLFromEl(editingEl),window.location.origin);return(src.origin===window.location.origin&&(src.pathname.startsWith("/html_editor/shape/")||src.pathname.startsWith("/web_editor/shape/")));}
getColorPickerColorNames(){const colorNames=[];const editingEl=this.env.getEditingElement();for(let nbr=1;nbr<=5;nbr++){const colorName=`c${nbr}`;if(getBackgroundImageColor(editingEl,colorName)){colorNames.push(colorName);}}
return colorNames;}}
__exports.getBackgroundImageColor=getBackgroundImageColor;function getBackgroundImageColor(editingEl,colorName){const backgroundImageColor=new URL(getBgImageURLFromEl(editingEl),window.location.origin).searchParams.get(colorName);if(backgroundImageColor){return normalizeColor(backgroundImageColor);}}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_image_option_plugin.js */
odoo.define('@website/builder/plugins/background_option/background_image_option_plugin',['@html_builder/utils/utils','@html_builder/utils/utils_css','@html_editor/plugin','@html_editor/utils/image_processing','@web/core/registry','@web/core/utils/colors','@website/builder/plugins/background_option/background_image_option','@html_builder/core/builder_action','@html_builder/core/core_builder_action_plugin'],function(require){'use strict';let __exports={};const{getValueFromVar}=require("@html_builder/utils/utils");const{getBgImageURLFromEl,isBackgroundImageAttribute}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{removeOnImageChangeAttrs}=require("@html_editor/utils/image_processing");const{registry}=require("@web/core/registry");const{convertCSSColorToRgba}=require("@web/core/utils/colors");const{getBackgroundImageColor}=require("@website/builder/plugins/background_option/background_image_option");const{BuilderAction}=require("@html_builder/core/builder_action");const{StyleAction}=require("@html_builder/core/core_builder_action_plugin");const BackgroundImageOptionPlugin=__exports.BackgroundImageOptionPlugin=class BackgroundImageOptionPlugin extends Plugin{static id="backgroundImageOption";static dependencies=["builderActions","media","style"];static shared=["changeEditingEl","setImageBackground","loadReplaceBackgroundImage","applyReplaceBackgroundImage",];resources={builder_actions:{SelectFilterColorAction,ToggleBgImageAction,ReplaceBgImageAction,DynamicColorAction,},};changeEditingEl(oldEditingEl,newEditingEl){const oldBgURL=getBgImageURLFromEl(oldEditingEl);const isModifiedImage=oldEditingEl.classList.contains("o_modified_image_to_save");const filteredOldDataset=Object.entries(oldEditingEl.dataset).filter(([key])=>isBackgroundImageAttribute(key));for(const[key]of filteredOldDataset){delete oldEditingEl.dataset[key];}
oldEditingEl.classList.remove("o_modified_image_to_save");this.setImageBackground(oldEditingEl,"");if(oldBgURL){this.setImageBackground(newEditingEl,oldBgURL);for(const[key,value]of filteredOldDataset){newEditingEl.dataset[key]=value;}
newEditingEl.classList.toggle("o_modified_image_to_save",isModifiedImage);}}
loadReplaceBackgroundImage({editingElement}){return new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({onlyImages:true,node:editingElement,save:async(imageEl)=>{resolve(imageEl);},});onClose.then(resolve);});}
applyReplaceBackgroundImage({editingElement,loadResult:imageEl,params:{forceClean=false},}){if(!forceClean&&!imageEl){return;}
const src=imageEl?.src||"";this.setImageBackground(editingElement,src);for(const attr of removeOnImageChangeAttrs){delete editingElement.dataset[attr];}
if(imageEl){if(src.startsWith("data:")){editingElement.classList.add("o_modified_image_to_save");}
Object.assign(editingElement.dataset,imageEl.dataset);}}
setImageBackground(el,backgroundURL){if(backgroundURL){el.classList.add("oe_img_bg","o_bg_img_center","o_bg_img_origin_border_box");}else{el.classList.remove("oe_img_bg","o_bg_img_center","o_bg_img_origin_border_box","o_modified_image_to_save");}
this.dependencies.style.setBackgroundImageUrl(el,backgroundURL);}}
const SelectFilterColorAction=__exports.SelectFilterColorAction=class SelectFilterColorAction extends StyleAction{static id="selectFilterColor";static dependencies=["color","backgroundImageOption","builderActions"];apply({editingElement,value}){let filterEl=editingElement.querySelector(":scope > .o_we_bg_filter");const rgba=value&&convertCSSColorToRgba(value);if(!value||(rgba&&rgba.opacity<0.001)){if(filterEl){filterEl.remove();}
return;}
if(!filterEl){filterEl=document.createElement("div");filterEl.classList.add("o_we_bg_filter");let lastBackgroundEl;for(const fn of this.getResource("background_filter_target_providers")){lastBackgroundEl=fn(editingElement);if(lastBackgroundEl){break;}}
if(lastBackgroundEl){lastBackgroundEl.insertAdjacentElement("afterend",filterEl);}else{editingElement.prepend(filterEl);}}
this.dependencies.builderActions.getAction("styleAction").apply({editingElement:filterEl,params:{mainParam:"background-color",},value:value,});}
getValue({editingElement}){const filterEl=editingElement.querySelector(":scope > .o_we_bg_filter");if(!filterEl){return"";}
return super.getValue({editingElement:filterEl,params:{mainParam:"background-color",},});}}
const ToggleBgImageAction=__exports.ToggleBgImageAction=class ToggleBgImageAction extends BuilderAction{static id="toggleBgImage";static dependencies=["backgroundImageOption"];load(context){return this.dependencies.backgroundImageOption.loadReplaceBackgroundImage(context);}
apply(context){return this.dependencies.backgroundImageOption.applyReplaceBackgroundImage(context);}
isApplied({editingElement}){return!!getBgImageURLFromEl(editingElement);}
clean({editingElement}){editingElement.querySelector(".o_we_bg_filter")?.remove();this.dependencies.backgroundImageOption.applyReplaceBackgroundImage({editingElement:editingElement,loadResult:"",params:{forceClean:true},});this.dispatchTo("on_bg_image_hide_handlers",editingElement);}}
const ReplaceBgImageAction=__exports.ReplaceBgImageAction=class ReplaceBgImageAction extends BuilderAction{static id="replaceBgImage";static dependencies=["backgroundImageOption"];load(context){return this.dependencies.backgroundImageOption.loadReplaceBackgroundImage(context);}
apply(context){return this.dependencies.backgroundImageOption.applyReplaceBackgroundImage(context);}}
const DynamicColorAction=__exports.DynamicColorAction=class DynamicColorAction extends BuilderAction{static id="dynamicColor";static dependencies=["backgroundImageOption"];getValue({editingElement,params:{mainParam:colorName}}){return getBackgroundImageColor(editingElement,colorName);}
apply({editingElement,params:{mainParam:colorName},value}){value=getValueFromVar(value);const currentSrc=getBgImageURLFromEl(editingElement);const newURL=new URL(currentSrc,window.location.origin);newURL.searchParams.set(colorName,value);const src=newURL.pathname+newURL.search;this.dependencies.backgroundImageOption.setImageBackground(editingElement,src);}}
registry.category("website-plugins").add(BackgroundImageOptionPlugin.id,BackgroundImageOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_option.js */
odoo.define('@website/builder/plugins/background_option/background_option',['@html_builder/core/utils','@website/builder/plugins/background_option/background_image_option','@website/builder/plugins/background_option/background_position_option','@website/builder/plugins/background_option/background_shape_option','@website/builder/plugins/background_option/background_hook','@html_builder/plugins/image/image_filter_option','@html_builder/plugins/image/image_format_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{BackgroundImageOption}=require("@website/builder/plugins/background_option/background_image_option");const{BackgroundPositionOption}=require("@website/builder/plugins/background_option/background_position_option");const{BackgroundShapeOption}=require("@website/builder/plugins/background_option/background_shape_option");const{useBackgroundOption}=require("@website/builder/plugins/background_option/background_hook");const{ImageFilterOption}=require("@html_builder/plugins/image/image_filter_option");const{ImageFormatOption}=require("@html_builder/plugins/image/image_format_option");const BackgroundOption=__exports.BackgroundOption=class BackgroundOption extends BaseOptionComponent{static template="website.BackgroundOption";static components={BackgroundImageOption,BackgroundPositionOption,BackgroundShapeOption,ImageFilterOption,ImageFormatOption,};static props={withColors:{type:Boolean},withImages:{type:Boolean},withColorCombinations:{type:Boolean},withShapes:{type:Boolean,optional:true},};static defaultProps={withShapes:false,};setup(){super.setup();const{showColorFilter}=useBackgroundOption(this.isActiveItem);this.showColorFilter=showColorFilter;}
computeMaxDisplayWidth(){return 1920;}}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_option_plugin.js */
odoo.define('@website/builder/plugins/background_option/background_option_plugin',['@website/builder/plugins/utils','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{applyFunDependOnSelectorAndExclude}=require("@website/builder/plugins/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class BackgroundOptionPlugin extends Plugin{static id="backgroundOption";resources={normalize_handlers:this.normalize.bind(this),system_classes:["o_colored_level"],};normalize(root){const markColorLevelSelectorParams=this.getResource("mark_color_level_selector_params");for(const markColorLevelSelectorParam of markColorLevelSelectorParams){applyFunDependOnSelectorAndExclude(this.markColorLevel,root,markColorLevelSelectorParam);}}
markColorLevel(editingEl){editingEl.classList.add("o_colored_level");}}
registry.category("website-plugins").add(BackgroundOptionPlugin.id,BackgroundOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_position_option.js */
odoo.define('@website/builder/plugins/background_option/background_position_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const BackgroundPositionOption=__exports.BackgroundPositionOption=class BackgroundPositionOption extends BaseOptionComponent{static template="website.BackgroundPositionOption";static props={};}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_position_option_plugin.js */
odoo.define('@website/builder/plugins/background_option/background_position_option_plugin',['@html_builder/utils/utils_css','@html_editor/plugin','@odoo/owl','@web/core/registry','@website/builder/plugins/background_option/background_position_overlay','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{getBgImageURLFromEl}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{markup}=require("@odoo/owl");const{registry}=require("@web/core/registry");const{BackgroundPositionOverlay}=require("@website/builder/plugins/background_option/background_position_overlay");const{BuilderAction}=require("@html_builder/core/builder_action");const getBgSizeValue=function({editingElement,params:{mainParam:styleName}}){const backgroundSize=editingElement.style.backgroundSize;const bgWidthAndHeight=backgroundSize.split(/\s+/g);const value=styleName==="width"?bgWidthAndHeight[0]:bgWidthAndHeight[1]||"";return value==="auto"?"":value;};class BackgroundPositionOptionPlugin extends Plugin{static id="backgroundPositionOption";static dependencies=["overlay","overlayButtons"];resources={builder_actions:{BackgroundTypeAction,SetBackgroundSizeAction,BackgroundPositionOverlayAction,},};}
const BackgroundTypeAction=__exports.BackgroundTypeAction=class BackgroundTypeAction extends BuilderAction{static id="backgroundType";apply({editingElement,value}){editingElement.classList.toggle("o_bg_img_opt_repeat",value==="repeat-pattern");editingElement.style.setProperty("background-position","");editingElement.style.setProperty("background-size",value!=="repeat-pattern"?"":"100px");}
isApplied({editingElement,value}){const hasElRepeatStyle=getComputedStyle(editingElement).backgroundRepeat==="repeat";return value==="repeat-pattern"?hasElRepeatStyle:!hasElRepeatStyle;}}
const SetBackgroundSizeAction=__exports.SetBackgroundSizeAction=class SetBackgroundSizeAction extends BuilderAction{static id="setBackgroundSize";getValue(context){return getBgSizeValue(context);}
apply({editingElement,params:{mainParam:styleName},value}){const otherParam=styleName==="width"?"height":"width";let otherBgSize=getBgSizeValue({editingElement:editingElement,params:{mainParam:otherParam},});let bgSize;if(styleName==="width"){value=!value&&otherBgSize?"auto":value;otherBgSize=otherBgSize===""?"":` ${otherBgSize}`;bgSize=`${value}${otherBgSize}`;}else{otherBgSize||="auto";bgSize=`${otherBgSize} ${value}`;}
editingElement.style.setProperty("background-size",bgSize);}}
const BackgroundPositionOverlayAction=__exports.BackgroundPositionOverlayAction=class BackgroundPositionOverlayAction extends BuilderAction{static id="backgroundPositionOverlay";static dependencies=["overlayButtons","overlay"];async load({editingElement}){let imgEl;await new Promise((resolve)=>{imgEl=document.createElement("img");imgEl.addEventListener("load",()=>resolve());imgEl.src=getBgImageURLFromEl(editingElement);});const copyEl=editingElement.cloneNode(false);copyEl.classList.remove("o_editable");return new Promise((resolve)=>{this.dependencies.overlayButtons.hideOverlayButtonsUi();let appliedBgPosition="";const onRemove=()=>{this.dependencies.overlayButtons.showOverlayButtonsUi();resolve(appliedBgPosition);};const overlay=this.dependencies.overlay.createOverlay(BackgroundPositionOverlay,{positionOptions:{position:"over-fit",flip:false}},{onRemove:onRemove});const applyPosition=(bgPosition)=>{appliedBgPosition=bgPosition;overlay.close();};overlay.open({target:editingElement,props:{outerHtmlEditingElement:markup(this.safeCloneOuterHTML(copyEl)),editingElement:editingElement,mockEditingElOnImg:imgEl,applyPosition:applyPosition,discardPosition:()=>overlay.close(),editable:this.editable,},});});}
safeCloneOuterHTML(el){const copyEl=document.createElement(el.tagName);copyEl.style.cssText=el.style.cssText;copyEl.className=el.className;return copyEl.outerHTML;}
apply({editingElement,loadResult:bgPosition}){if(bgPosition){editingElement.style.backgroundPosition=bgPosition;}}}
registry.category("website-plugins").add(BackgroundPositionOptionPlugin.id,BackgroundPositionOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_position_overlay.js */
odoo.define('@website/builder/plugins/background_option/background_position_overlay',['@html_builder/utils/scrolling','@odoo/owl'],function(require){'use strict';let __exports={};const{scrollTo}=require("@html_builder/utils/scrolling");const{Component,onMounted,onWillStart,onWillUnmount,useEffect,useRef}=require("@odoo/owl");const BackgroundPositionOverlay=__exports.BackgroundPositionOverlay=class BackgroundPositionOverlay extends Component{static template="website.BackgroundPositionOverlay";static props={outerHtmlEditingElement:{type:String},editingElement:{validate:(p)=>p.nodeType===Node.ELEMENT_NODE},mockEditingElOnImg:{validate:(p)=>p.tagName==="IMG"},applyPosition:{type:Function},discardPosition:{type:Function},editable:{validate:(p)=>p.nodeType===Node.ELEMENT_NODE},};setup(){this.parentBgDraggerRef=useRef("parentBgDragger");this.backgroundOverlayRef=useRef("backgroundOverlay");this.overlayContentRef=useRef("overlayContent");this._dimensionOverlay=this.dimensionOverlay.bind(this);onWillStart(async()=>{const position=getComputedStyle(this.props.editingElement).backgroundPosition.split(" ").map((v)=>parseInt(v));const delta=this.getBackgroundDelta();this.originalPosition={left:position[0],top:position[1]};this.currentPosition={left:(position[0]/100)*delta.x||0,top:(position[1]/100)*delta.y||0,};const rect=this.props.editingElement.getBoundingClientRect();const isEditingElEntirelyVisible=rect.top>=0&&rect.bottom<=this.props.editingElement.ownerDocument.defaultView.innerHeight;if(!isEditingElEntirelyVisible){await scrollTo(this.props.editingElement,{extraOffset:50});}});onMounted(()=>{this.bgDraggerEl=this.parentBgDraggerRef.el.children[0];this.dimensionOverlay();this.bgDraggerEl.style.backgroundAttachment=getComputedStyle(this.props.editingElement).backgroundAttachment;window.addEventListener("resize",this._dimensionOverlay);});useEffect(()=>{this.tooltip=window.Tooltip.getOrCreateInstance(this.parentBgDraggerRef.el,{trigger:"manual",container:this.backgroundOverlayRef.el,});this.tooltip.show();});onWillUnmount(()=>{window.removeEventListener("resize",this._dimensionOverlay);this.tooltip.dispose();});}
apply(){this.props.applyPosition(getComputedStyle(this.bgDraggerEl).backgroundPosition);}
onDragBackgroundStart(ev){this.bgDraggerEl.classList.add("o_we_grabbing");const documentEl=window.document;const onDragBackgroundMove=this.onDragBackgroundMove.bind(this);documentEl.addEventListener("mousemove",onDragBackgroundMove);documentEl.addEventListener("mouseup",()=>{this.bgDraggerEl.classList.remove("o_we_grabbing");documentEl.removeEventListener("mousemove",onDragBackgroundMove);},{once:true});}
onDragBackgroundMove(ev){ev.preventDefault();const delta=this.getBackgroundDelta();this.currentPosition.left=clamp(this.currentPosition.left+ev.movementX,[0,delta.x]);this.currentPosition.top=clamp(this.currentPosition.top+ev.movementY,[0,delta.y]);const percentPosition={left:(this.currentPosition.left/delta.x)*100,top:(this.currentPosition.top/delta.y)*100,};percentPosition.left=isFinite(percentPosition.left)?percentPosition.left:this.originalPosition.left;percentPosition.top=isFinite(percentPosition.top)?percentPosition.top:this.originalPosition.top;this.bgDraggerEl.style.backgroundPosition=`${percentPosition.left}% ${percentPosition.top}%`;function clamp(val,bounds){bounds=bounds.sort();return Math.max(bounds[0],Math.min(val,bounds[1]));}}
dimensionOverlay(){this.backgroundOverlayRef.el.style.width=`${this.props.editable.clientWidth}px`;this.backgroundOverlayRef.el.style.height=`${this.props.editable.clientHeight}px`;const overlayContentEl=this.overlayContentRef.el;const targetRect=this.props.editingElement.getBoundingClientRect();overlayContentEl.style.left=`${targetRect.left + window.scrollX}px`;this.bgDraggerEl.style.width=`${this.props.editingElement.clientWidth}px`;this.bgDraggerEl.style.height=`${this.props.editingElement.clientHeight}px`;const topPos=Math.max(0,window.scrollY-
(this.props.editingElement.getBoundingClientRect().top+window.scrollY));overlayContentEl.querySelector(".o_we_overlay_buttons").style.top=`${topPos}px`;}
getBackgroundDelta(){const bgSize=getComputedStyle(this.props.editingElement).backgroundSize;const editingElDimension=this.props.editingElement.getBoundingClientRect();if(bgSize!=="cover"){let[width,height]=bgSize.split(" ");if(width==="auto"&&(height==="auto"||!height)){return{x:editingElDimension.width-this.props.mockEditingElOnImg.naturalWidth,y:editingElDimension.height-this.props.mockEditingElOnImg.naturalHeight,};}
[width,height]=[parseInt(width),parseInt(height)];return{x:editingElDimension.width-
(width||(height*this.props.mockEditingElOnImg.naturalWidth)/this.props.mockEditingElOnImg.naturalHeight),y:editingElDimension.height-
(height||(width*this.props.mockEditingElOnImg.naturalHeight)/this.props.mockEditingElOnImg.naturalWidth),};}
const renderRatio=Math.max(editingElDimension.width/this.props.mockEditingElOnImg.naturalWidth,editingElDimension.height/this.props.mockEditingElOnImg.naturalHeight);return{x:editingElDimension.width-
Math.round(renderRatio*this.props.mockEditingElOnImg.naturalWidth),y:editingElDimension.height-
Math.round(renderRatio*this.props.mockEditingElOnImg.naturalHeight),};}}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_shape_option.js */
odoo.define('@website/builder/plugins/background_option/background_shape_option',['@html_builder/core/utils','@html_builder/utils/utils','@html_builder/utils/utils_css','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{toRatio}=require("@html_builder/utils/utils");const{getBgImageURLFromEl}=require("@html_builder/utils/utils_css");const{_t}=require("@web/core/l10n/translation");const BackgroundShapeOption=__exports.BackgroundShapeOption=class BackgroundShapeOption extends BaseOptionComponent{static template="website.BackgroundShapeOption";static props={};setup(){super.setup();this.backgroundShapePlugin=this.env.editor.shared.backgroundShapeOption;this.toRatio=toRatio;this.state=useDomState((editingElement)=>{const shapeData=this.backgroundShapePlugin.getShapeData(editingElement);const shapeInfo=this.backgroundShapePlugin.getBackgroundShapes()[shapeData.shape];return{currentShapeLabel:"Choose a shape",shapeName:shapeInfo?.selectLabel||_t("None"),isAnimated:shapeInfo?.animated,};});}
showBackgroundShapes(){this.backgroundShapePlugin.showBackgroundShapes(this.env.getEditingElements());}
getDefaultColorNames(){const editingEl=this.env.getEditingElement();return Object.keys(getDefaultColors(editingEl));}}
__exports.getDefaultColors=getDefaultColors;function getDefaultColors(editingElement){const shapeContainerEl=editingElement.querySelector(":scope > .o_we_shape");if(!shapeContainerEl){return{};}
const shapeContainerClonedEl=shapeContainerEl.cloneNode(true);shapeContainerClonedEl.classList.add("d-none");editingElement.ownerDocument.body.appendChild(shapeContainerClonedEl);shapeContainerClonedEl.style.setProperty("background-image","");const shapeSrc=shapeContainerClonedEl&&getBgImageURLFromEl(shapeContainerClonedEl);shapeContainerClonedEl.remove();if(!shapeSrc){return{};}
const url=new URL(shapeSrc,window.location.origin);return Object.fromEntries(url.searchParams.entries());}
return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_shape_option_plugin.js */
odoo.define('@website/builder/plugins/background_option/background_shape_option_plugin',['@html_builder/utils/utils','@html_builder/utils/utils_css','@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@web/core/utils/objects','@website/builder/plugins/background_option/background_shapes_definition','@html_builder/plugins/shape/shape_selector','@website/builder/plugins/background_option/background_shape_option','@html_editor/utils/resource','@html_editor/utils/image','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{getValueFromVar,isMobileView}=require("@html_builder/utils/utils");const{normalizeColor}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{pick}=require("@web/core/utils/objects");const{backgroundShapesDefinition}=require("@website/builder/plugins/background_option/background_shapes_definition");const{ShapeSelector}=require("@html_builder/plugins/shape/shape_selector");const{getDefaultColors}=require("@website/builder/plugins/background_option/background_shape_option");const{withSequence}=require("@html_editor/utils/resource");const{getBgImageURLFromURL}=require("@html_editor/utils/image");const{BuilderAction}=require("@html_builder/core/builder_action");const BackgroundShapeOptionPlugin=__exports.BackgroundShapeOptionPlugin=class BackgroundShapeOptionPlugin extends Plugin{static id="backgroundShapeOption";static dependencies=["customizeTab"];resources={builder_actions:{SetBackgroundShapeAction,ToggleBgShapeAction,ShowOnMobileAction,FlipShapeAction,SetBgAnimationSpeedAction,BackgroundShapeColorAction,},background_shape_target_providers:withSequence(5,(editingElement)=>editingElement.querySelector(":scope > .o_we_bg_filter")),};static shared=["getShapeStyleUrl","getShapeData","showBackgroundShapes","getBackgroundShapes","getImplicitColors","applyShape","createShapeContainer",];setup(){this.shapeBackgroundImagePerClass={};for(const styleSheet of this.document.styleSheets){if(styleSheet.href&&new URL(styleSheet.href).host!==location.host){continue;}
for(const rule of[...styleSheet.cssRules]){if(rule.selectorText&&rule.selectorText.startsWith(".o_we_shape.")){this.shapeBackgroundImagePerClass[rule.selectorText]=rule.style.backgroundImage;}}}
const flipEls=[...this.editable.querySelectorAll(".o_we_flip_x, .o_we_flip_y")];for(const flipEl of flipEls){this.applyShape(flipEl,()=>({flip:this.getShapeData(flipEl).flip}));}}
applyShape(editingElement,computeShapeData){const newShapeData=computeShapeData();const changedShape=!!newShapeData.shape;this.markShape(editingElement,newShapeData);const json=editingElement.dataset.oeShapeData;const{shape,colors,flip=[],animated="false",showOnMobile,shapeAnimationSpeed,}=json?JSON.parse(json):{};let shapeContainerEl=editingElement.querySelector(":scope > .o_we_shape");if(!shape){return this.insertShapeContainer(editingElement,null);}
if(changedShape){shapeContainerEl=this.createShapeContainer(editingElement,shape);}
shapeContainerEl.classList.remove("o_we_flip_x","o_we_flip_y");shapeContainerEl.classList.toggle("o_we_animated",animated==="true");const shouldCustomize=Boolean(colors)||flip.length>0||parseFloat(shapeAnimationSpeed)!==0;if(shouldCustomize){shapeContainerEl.style.setProperty("background-image",`url("${this.getShapeSrc(editingElement)}")`);shapeContainerEl.style.backgroundPosition="";if(flip.length){let[xPos,yPos]=getComputedStyle(shapeContainerEl).backgroundPosition.split(" ").map(parseFloat);xPos=flip.includes("x")?-xPos+100:xPos;yPos=flip.includes("y")?-yPos+100:yPos;shapeContainerEl.style.backgroundPosition=`${xPos}% ${yPos}%`;}}else{shapeContainerEl.style.setProperty("background-image","");shapeContainerEl.style.setProperty("background-position","");}
shapeContainerEl.classList.toggle("o_shape_show_mobile",Boolean(showOnMobile));}
createShapeContainer(editingElement,shape){const shapeContainer=this.insertShapeContainer(editingElement,document.createElement("div"));editingElement.style.setProperty("position","relative");shapeContainer.className=`o_we_shape o_${shape.replace(/\//g, "_")}`;return shapeContainer;}
getImplicitColors(editingElement,shapeName,previousColors={}){const selectedBackgroundUrl=this.getShapeStyleUrl(shapeName);const defaultColors=this.getShapeDefaultColors(selectedBackgroundUrl);let colors=previousColors;let sibling=editingElement.previousElementSibling;while(sibling){colors=Object.assign(this.getShapeData(sibling).colors||{},colors);sibling=sibling.previousElementSibling;}
const defaultKeys=Object.keys(defaultColors);colors=Object.assign(defaultColors,colors);return pick(colors,...defaultKeys);}
getShapeDefaultColors(selectedBackgroundUrl){const shapeSrc=selectedBackgroundUrl&&getBgImageURLFromURL(selectedBackgroundUrl);const url=new URL(shapeSrc,window.location.origin);return Object.fromEntries(url.searchParams.entries());}
getShapeData(editingElement){const defaultData={shape:"",colors:getDefaultColors(editingElement),flip:[],showOnMobile:false,shapeAnimationSpeed:"0",};const json=editingElement.dataset.oeShapeData;return json?Object.assign(defaultData,JSON.parse(json.replace(/'/g,'"'))):defaultData;}
getShapeSrc(editingElement){const{shape,colors,flip,shapeAnimationSpeed}=this.getShapeData(editingElement);if(!shape){return"";}
const searchParams=Object.entries(colors).map(([colorName,colorValue])=>{const encodedCol=encodeURIComponent(colorValue);return`${colorName}=${encodedCol}`;});if(flip.length){searchParams.push(`flip=${encodeURIComponent(flip.sort().join(""))}`);}
if(Number(shapeAnimationSpeed)){searchParams.push(`shapeAnimationSpeed=${encodeURIComponent(shapeAnimationSpeed)}`);}
return`/web_editor/shape/${encodeURIComponent(shape)}.svg?${searchParams.join("&")}`;}
getShapeStyleUrl(shapeId){const shapeClassName=`o_${shapeId.replace(/\//g, "_")}`;return this.shapeBackgroundImagePerClass[`.o_we_shape.${shapeClassName}`];}
insertShapeContainer(editingElement,newContainer){const shapeContainerEl=editingElement.querySelector(":scope > .o_we_shape");if(shapeContainerEl){this.removeShapeEl(shapeContainerEl);}
if(newContainer){let preShapeLayerEl;for(const fn of this.getResource("background_shape_target_providers")){preShapeLayerEl=fn(editingElement);if(preShapeLayerEl){break;}}
if(preShapeLayerEl){preShapeLayerEl.insertAdjacentElement("afterend",newContainer);}else{editingElement.prepend(newContainer);}}
return newContainer;}
markShape(editingElement,newData){const defaultColors=getDefaultColors(editingElement);const shapeData=Object.assign(this.getShapeData(editingElement),newData);const areColorsDefault=Object.entries(shapeData.colors).every(([colorName,colorValue])=>defaultColors[colorName]&&colorValue.toLowerCase()===defaultColors[colorName].toLowerCase());if(areColorsDefault){delete shapeData.colors;}
if(!shapeData.shape){delete editingElement.dataset.oeShapeData;}else{editingElement.dataset.oeShapeData=JSON.stringify(shapeData);}}
removeShapeEl(shapeEl){shapeEl.remove();}
showBackgroundShapes(editingElements){this.dependencies.customizeTab.openCustomizeComponent(ShapeSelector,editingElements,{shapeActionId:"setBackgroundShape",buttonWrapperClassName:"o-hb-bg-shape-btn",selectorTitle:_t("Background Shapes"),shapeGroups:this.getBackgroundShapeGroups(),imgThroughDiv:true,getShapeUrl:this.getShapeStyleUrl.bind(this),});}
getBackgroundShapeGroups(){return backgroundShapesDefinition;}
getBackgroundShapes(){const entries=Object.values(this.getBackgroundShapeGroups()).map((x)=>Object.values(x.subgroups).map((x)=>Object.entries(x.shapes)).flat()).flat();return Object.fromEntries(entries);}}
class BaseAnimationAction extends BuilderAction{static id="baseAnimation";static dependencies=["backgroundShapeOption"];setup(){this.applyShape=this.dependencies.backgroundShapeOption.applyShape;this.getShapeData=this.dependencies.backgroundShapeOption.getShapeData;this.getImplicitColors=this.dependencies.backgroundShapeOption.getImplicitColors;this.getBackgroundShapes=this.dependencies.backgroundShapeOption.getBackgroundShapes;this.createShapeContainer=this.dependencies.backgroundShapeOption.createShapeContainer;this.showBackgroundShapes=this.dependencies.backgroundShapeOption.showBackgroundShapes;}}
class SetBackgroundShapeAction extends BaseAnimationAction{static id="setBackgroundShape";apply({editingElement,params,value}){params=params||{};const shapeData=this.getShapeData(editingElement);const applyShapeParams={shape:value,colors:this.getImplicitColors(editingElement,value,shapeData.colors),flip:[],animated:params.animated,shapeAnimationSpeed:shapeData.shapeAnimationSpeed,};this.applyShape(editingElement,()=>applyShapeParams);}
isApplied({editingElement,value}){const currentShapeApplied=this.getShapeData(editingElement).shape;return currentShapeApplied===value;}}
class ToggleBgShapeAction extends BaseAnimationAction{static id="toggleBgShape";apply({editingElement}){const previousSibling=editingElement.previousElementSibling;let shapeToSelect;const allPossiblesShapesUrl=Object.keys(this.getBackgroundShapes());if(previousSibling){const previousShape=this.getShapeData(previousSibling).shape;shapeToSelect=allPossiblesShapesUrl.find((shape,i)=>allPossiblesShapesUrl[i-1]===previousShape);}
if(!shapeToSelect){shapeToSelect=allPossiblesShapesUrl[0];}
const showOnMobile=isMobileView(editingElement);this.createShapeContainer(editingElement,shapeToSelect);const applyShapeParams={shape:shapeToSelect,colors:this.getImplicitColors(editingElement,shapeToSelect),showOnMobile,};this.applyShape(editingElement,()=>applyShapeParams);this.showBackgroundShapes([editingElement]);}
clean({editingElement}){this.applyShape(editingElement,()=>({shape:""}));}
isApplied({editingElement}){return!!this.getShapeData(editingElement).shape;}}
class ShowOnMobileAction extends BaseAnimationAction{static id="showOnMobile";apply({editingElement}){this.applyShape(editingElement,()=>({showOnMobile:false,}));}
clean({editingElement}){this.applyShape(editingElement,()=>({showOnMobile:true,}));}
isApplied({editingElement}){return!this.getShapeData(editingElement).showOnMobile;}}
class FlipShapeAction extends BaseAnimationAction{static id="flipShape";apply({editingElement,params:{mainParam:axis}}){this.applyShape(editingElement,()=>{const flip=new Set(this.getShapeData(editingElement).flip);flip.add(axis);return{flip:[...flip]};});}
clean({editingElement,params:{mainParam:axis}}){this.applyShape(editingElement,()=>{const flip=new Set(this.getShapeData(editingElement).flip);flip.delete(axis);return{flip:[...flip]};});}
isApplied({editingElement,params:{mainParam:axis}}){const selector=`.o_we_flip_${axis}`;const hasFlipClass=!!editingElement.querySelector(`:scope > .o_we_shape${selector}`);return hasFlipClass||this.getShapeData(editingElement).flip.includes(axis);}}
class SetBgAnimationSpeedAction extends BaseAnimationAction{static id="setBgAnimationSpeed";apply({editingElement,value}){this.applyShape(editingElement,()=>({shapeAnimationSpeed:value,}));}
getValue({editingElement}){return this.getShapeData(editingElement).shapeAnimationSpeed;}}
class BackgroundShapeColorAction extends BaseAnimationAction{static id="backgroundShapeColor";getValue({editingElement,params:{mainParam:colorName}}){const{shape,colors:customColors}=this.getShapeData(editingElement);const colors=Object.assign(getDefaultColors(editingElement),customColors);const color=shape&&colors[colorName];return(color&&normalizeColor(color))||"";}
apply({editingElement,params:{mainParam:colorName},value}){this.applyShape(editingElement,()=>{value=getValueFromVar(value);const{colors:previousColors}=this.getShapeData(editingElement);const newColor=value||getDefaultColors(editingElement)[colorName];const newColors=Object.assign(previousColors,{[colorName]:newColor});return{colors:newColors};});}}
registry.category("website-plugins").add(BackgroundShapeOptionPlugin.id,BackgroundShapeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/background_option/background_shapes_definition.js */
odoo.define('@website/builder/plugins/background_option/background_shapes_definition',['@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{_t}=require("@web/core/l10n/translation");const backgroundShapesDefinition=__exports.backgroundShapesDefinition={basic:{label:_t("Basic"),subgroups:{connections:{label:_t("Connections"),shapes:{"web_editor/Connections/01":{selectLabel:_t("Connections 01")},"web_editor/Connections/02":{selectLabel:_t("Connections 02")},"web_editor/Connections/03":{selectLabel:_t("Connections 03")},"web_editor/Connections/04":{selectLabel:_t("Connections 04")},"web_editor/Connections/05":{selectLabel:_t("Connections 05")},"web_editor/Connections/06":{selectLabel:_t("Connections 06")},"web_editor/Connections/07":{selectLabel:_t("Connections 07")},"web_editor/Connections/08":{selectLabel:_t("Connections 08")},"web_editor/Connections/09":{selectLabel:_t("Connections 09")},"web_editor/Connections/10":{selectLabel:_t("Connections 10")},"web_editor/Connections/11":{selectLabel:_t("Connections 11")},"web_editor/Connections/12":{selectLabel:_t("Connections 12")},"web_editor/Connections/13":{selectLabel:_t("Connections 13")},"web_editor/Connections/14":{selectLabel:_t("Connections 14")},"web_editor/Connections/15":{selectLabel:_t("Connections 15")},"web_editor/Connections/16":{selectLabel:_t("Connections 16")},"web_editor/Connections/17":{selectLabel:_t("Connections 17")},"web_editor/Connections/18":{selectLabel:_t("Connections 18")},"web_editor/Connections/19":{selectLabel:_t("Connections 19")},"web_editor/Connections/20":{selectLabel:_t("Connections 20")},},},containers:{label:_t("Containers"),shapes:{"web_editor/Containers/01":{selectLabel:_t("Container 01")},"web_editor/Containers/02":{selectLabel:_t("Container 02")},"web_editor/Containers/03":{selectLabel:_t("Container 03")},"web_editor/Containers/04":{selectLabel:_t("Container 04")},"web_editor/Containers/05":{selectLabel:_t("Container 05"),animated:true},"web_editor/Containers/06":{selectLabel:_t("Container 06"),animated:true},},},bold:{label:_t("Bold"),shapes:{"web_editor/Bold/16":{selectLabel:_t("Bold 01")},"web_editor/Bold/21":{selectLabel:_t("Bold 02")},"web_editor/Bold/17":{selectLabel:_t("Bold 03")},"web_editor/Bold/22":{selectLabel:_t("Bold 04")},"web_editor/Bold/13":{selectLabel:_t("Bold 05")},"web_editor/Bold/14":{selectLabel:_t("Bold 06")},"web_editor/Bold/15":{selectLabel:_t("Bold 07")},"web_editor/Bold/01_001":{selectLabel:_t("Bold 08")},"web_editor/Bold/18":{selectLabel:_t("Bold 09")},"web_editor/Bold/19":{selectLabel:_t("Bold 10")},"web_editor/Bold/23":{selectLabel:_t("Bold 11")},"web_editor/Bold/20":{selectLabel:_t("Bold 12")},},},angular:{label:_t("Angular"),shapes:{"web_editor/Angular/01":{selectLabel:_t("Angular 01")},"web_editor/Angular/02":{selectLabel:_t("Angular 02")},"web_editor/Angular/03":{selectLabel:_t("Angular 03")},"web_editor/Angular/04":{selectLabel:_t("Angular 04")},"web_editor/Angular/05":{selectLabel:_t("Angular 05")},"web_editor/Angular/06":{selectLabel:_t("Angular 06")},"web_editor/Angular/07":{selectLabel:_t("Angular 07")},"web_editor/Angular/08":{selectLabel:_t("Angular 08")},"web_editor/Angular/09":{selectLabel:_t("Angular 09")},"web_editor/Floats/07":{selectLabel:_t("Angular 10"),animated:true},},},blobs:{label:_t("Blobs"),shapes:{"web_editor/Blobs/02":{selectLabel:_t("Blob 01")},"web_editor/Blobs/05_001":{selectLabel:_t("Blob 02")},"web_editor/Blobs/03":{selectLabel:_t("Blob 03")},"web_editor/Blobs/06_001":{selectLabel:_t("Blob 04")},"web_editor/Blobs/14":{selectLabel:_t("Blob 05")},"web_editor/Blobs/17":{selectLabel:_t("Blob 06")},"web_editor/Blobs/15":{selectLabel:_t("Blob 07")},"web_editor/Blobs/18":{selectLabel:_t("Blob 08")},"web_editor/Blobs/01_001":{selectLabel:_t("Blob 09"),animated:true},"web_editor/Blobs/16":{selectLabel:_t("Blob 10")},"web_editor/Blobs/04_001":{selectLabel:_t("Blob 11")},"web_editor/Blobs/10_002":{selectLabel:_t("Blob 12")},"web_editor/Blobs/13":{selectLabel:_t("Blob 13")},"web_editor/Floats/03":{selectLabel:_t("Blob 14"),animated:true},"web_editor/Floats/04":{selectLabel:_t("Blob 15"),animated:true},"web_editor/Floats/06":{selectLabel:_t("Blob 16"),animated:true},},},},},linear:{label:_t("Linear"),subgroups:{airy:{label:_t("Airy"),shapes:{"web_editor/Airy/01_001":{selectLabel:_t("Airy 01")},"web_editor/Airy/06_001":{selectLabel:_t("Airy 02")},"web_editor/Airy/02_001":{selectLabel:_t("Airy 03")},"web_editor/Airy/07_001":{selectLabel:_t("Airy 04")},"web_editor/Airy/08_001":{selectLabel:_t("Airy 05")},"web_editor/Airy/10_001":{selectLabel:_t("Airy 06")},"web_editor/Airy/09_001":{selectLabel:_t("Airy 07")},"web_editor/Airy/11_001":{selectLabel:_t("Airy 08")},"web_editor/Airy/16":{selectLabel:_t("Airy 09")},"web_editor/Airy/17":{selectLabel:_t("Airy 10")},"web_editor/Airy/12_002":{selectLabel:_t("Airy 11"),animated:true},"web_editor/Airy/13_002":{selectLabel:_t("Airy 12"),animated:true},"web_editor/Airy/14_001":{selectLabel:_t("Airy 13")},"web_editor/Airy/15":{selectLabel:_t("Airy 14"),animated:true},},},grids:{label:_t("Grids"),shapes:{"web_editor/Grids/01":{selectLabel:_t("Grid 01")},"web_editor/Grids/02":{selectLabel:_t("Grid 02")},"web_editor/Grids/03":{selectLabel:_t("Grid 03")},"web_editor/Grids/04":{selectLabel:_t("Grid 04")},"web_editor/Grids/05":{selectLabel:_t("Grid 05")},"web_editor/Grids/06":{selectLabel:_t("Grid 06")},"web_editor/Grids/07":{selectLabel:_t("Grid 07")},"web_editor/Grids/08":{selectLabel:_t("Grid 08")},},},},},creative:{label:_t("Creative"),subgroups:{patterns:{label:_t("Patterns"),shapes:{"web_editor/Patterns/01":{selectLabel:_t("Pattern 01")},"web_editor/Patterns/02":{selectLabel:_t("Pattern 02")},"web_editor/Patterns/03":{selectLabel:_t("Pattern 03")},"web_editor/Patterns/04":{selectLabel:_t("Pattern 04")},"web_editor/Patterns/05":{selectLabel:_t("Pattern 05")},"web_editor/Floats/12":{selectLabel:_t("Pattern 06"),animated:true},},},blurry:{label:_t("Blurry"),shapes:{"web_editor/Blurry/01":{selectLabel:_t("Blurry 01")},"web_editor/Blurry/02":{selectLabel:_t("Blurry 02")},"web_editor/Blurry/03":{selectLabel:_t("Blurry 03")},"web_editor/Blurry/04":{selectLabel:_t("Blurry 04")},"web_editor/Blurry/05":{selectLabel:_t("Blurry 05")},"web_editor/Blurry/06":{selectLabel:_t("Blurry 06")},},},wavy:{label:_t("Wavy"),shapes:{"web_editor/Wavy/03":{selectLabel:_t("Wavy 01")},"web_editor/Wavy/10":{selectLabel:_t("Wavy 02")},"web_editor/Wavy/24":{selectLabel:_t("Wavy 03"),animated:true},"web_editor/Wavy/26":{selectLabel:_t("Wavy 04"),animated:true},"web_editor/Wavy/27":{selectLabel:_t("Wavy 05"),animated:true},"web_editor/Wavy/04":{selectLabel:_t("Wavy 06")},"web_editor/Wavy/11_001":{selectLabel:_t("Wavy 07")},"web_editor/Wavy/18":{selectLabel:_t("Wavy 08")},"web_editor/Wavy/08_001":{selectLabel:_t("Wavy 09")},"web_editor/Wavy/09_001":{selectLabel:_t("Wavy 10")},"web_editor/Wavy/22_001":{selectLabel:_t("Wavy 11")},"web_editor/Wavy/29":{selectLabel:_t("Wavy 12")},"web_editor/Wavy/30":{selectLabel:_t("Wavy 13")},"web_editor/Wavy/31":{selectLabel:_t("Wavy 14")},},},blockAndRainy:{label:_t("Block & Rainy"),shapes:{"web_editor/Blocks/02_001":{selectLabel:_t("Blocks 01")},"web_editor/Rainy/01_001":{selectLabel:_t("Rainy 01"),animated:true},"web_editor/Blocks/01_001":{selectLabel:_t("Blocks 02")},"web_editor/Rainy/02_001":{selectLabel:_t("Rainy 02"),animated:true},"web_editor/Rainy/06":{selectLabel:_t("Rainy 03")},"web_editor/Blocks/04":{selectLabel:_t("Blocks 03")},"web_editor/Rainy/07":{selectLabel:_t("Rainy 04")},"web_editor/Rainy/10":{selectLabel:_t("Rainy 05"),animated:true},"web_editor/Floats/10":{selectLabel:_t("Rainy 06"),animated:true},"web_editor/Floats/11":{selectLabel:_t("Rainy 07"),animated:true},"web_editor/Rainy/08_001":{selectLabel:_t("Rainy 08"),animated:true},"web_editor/Rainy/09_001":{selectLabel:_t("Rainy 09")},},},miscellaneous:{label:_t("Miscellaneous"),shapes:{"web_editor/Floats/01":{selectLabel:_t("Miscellaneous 01"),animated:true},"web_editor/Floats/02":{selectLabel:_t("Miscellaneous 02"),animated:true},"web_editor/Floats/05":{selectLabel:_t("Miscellaneous 03"),animated:true},"web_editor/Floats/08":{selectLabel:_t("Miscellaneous 04"),animated:true},"web_editor/Floats/09":{selectLabel:_t("Miscellaneous 05"),animated:true},"web_editor/Floats/13":{selectLabel:_t("Miscellaneous 06"),animated:true},"web_editor/Floats/14":{selectLabel:_t("Miscellaneous 07"),animated:true},"web_editor/Zigs/01_001":{selectLabel:_t("Miscellaneous 08"),animated:true,},},},},},};return __exports;});;

/* /website/static/src/builder/plugins/carousel_item_header_buttons.js */
odoo.define('@website/builder/plugins/carousel_item_header_buttons',['@html_builder/core/operation_plugin','@odoo/owl'],function(require){'use strict';let __exports={};const{useOperation}=require("@html_builder/core/operation_plugin");const{Component}=require("@odoo/owl");const CarouselItemHeaderMiddleButtons=__exports.CarouselItemHeaderMiddleButtons=class CarouselItemHeaderMiddleButtons extends Component{static template="website.CarouselItemHeaderMiddleButtons";static props={applyAction:Function,addSlide:Function,removeSlide:Function,};setup(){this.callOperation=useOperation();}
slide(direction){const applySpec={editingElement:this.env.getEditingElement().closest(".carousel"),params:{direction:direction,},};this.props.applyAction("slideCarousel",applySpec);}
addSlide(){this.callOperation(async()=>{await this.props.addSlide(this.env.getEditingElement());});}
removeSlide(){this.callOperation(async()=>{await this.props.removeSlide(this.env.getEditingElement());});}}
return __exports;});;

/* /website/static/src/builder/plugins/carousel_option_plugin.js */
odoo.define('@website/builder/plugins/carousel_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@website/builder/plugins/carousel_item_header_buttons','@web/core/utils/render','@html_builder/core/builder_action','@html_editor/utils/resource','@html_builder/utils/option_sequence','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{CarouselItemHeaderMiddleButtons}=require("@website/builder/plugins/carousel_item_header_buttons");const{renderToElement}=require("@web/core/utils/render");const{BuilderAction}=require("@html_builder/core/builder_action");const{withSequence}=require("@html_editor/utils/resource");const{between}=require("@html_builder/utils/option_sequence");const{WEBSITE_BACKGROUND_OPTIONS,BOX_BORDER_SHADOW}=require("@website/builder/option_sequence");const CAROUSEL_CARDS_SEQUENCE=__exports.CAROUSEL_CARDS_SEQUENCE=between(WEBSITE_BACKGROUND_OPTIONS,BOX_BORDER_SHADOW);const carouselWrapperSelector=".s_carousel_wrapper, .s_carousel_intro_wrapper, .s_carousel_cards_wrapper";const carouselControlsSelector=".carousel-control-prev, .carousel-control-next, .carousel-indicators";const CarouselOptionPlugin=__exports.CarouselOptionPlugin=class CarouselOptionPlugin extends Plugin{static id="carouselOption";static dependencies=["clone","builderOptions","builderActions"];static shared=["addSlide","removeSlide","slideCarousel"];resources={builder_options:[{template:"website.CarouselOption",selector:"section",exclude:".s_carousel_intro_wrapper, .s_carousel_cards_wrapper, .s_quotes_carousel_wrapper:has(>.s_quotes_carousel_compact)",applyTo:":scope > .carousel",},{template:"website.CarouselBottomControllersOption",selector:"section",applyTo:".s_carousel_intro, .s_quotes_carousel_compact",},withSequence(CAROUSEL_CARDS_SEQUENCE,{template:"website.CarouselCardsOption",selector:"section",applyTo:".s_carousel_cards",}),],builder_header_middle_buttons:{Component:CarouselItemHeaderMiddleButtons,selector:".s_carousel .carousel-item, .s_quotes_carousel .carousel-item, .s_carousel_intro .carousel-item, .s_carousel_cards .carousel-item",props:{addSlide:(editingElement)=>this.addSlide(editingElement.closest(".carousel")),removeSlide:async(editingElement)=>{if(editingElement.parentElement){await this.removeSlide(editingElement.closest(".carousel"));}},applyAction:this.dependencies.builderActions.applyAction,},},container_title:{selector:".s_carousel .carousel-item, .s_quotes_carousel .carousel-item, .s_carousel_intro .carousel-item, .s_carousel_cards .carousel-item",getTitleExtraInfo:(editingElement)=>this.getTitleExtraInfo(editingElement),},builder_actions:{AddSlideAction,SlideCarouselAction,ToggleControllersAction,ToggleCardImgAction,},on_cloned_handlers:this.onCloned.bind(this),on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),get_gallery_items_handlers:this.getGalleryItems.bind(this),reorder_items_handlers:this.reorderCarouselItems.bind(this),before_save_handlers:()=>{const proms=[];for(const carouselEl of this.editable.querySelectorAll(".carousel")){const firstItemEl=carouselEl.querySelector(".carousel-item");if(firstItemEl){if(firstItemEl.classList.contains("active")){continue;}
proms.push(this.slide(carouselEl,0));}}
return Promise.all(proms);},};getTitleExtraInfo(editingElement){const itemEls=[...editingElement.parentElement.children];const activeIndex=itemEls.indexOf(editingElement);const updatedText=` (${activeIndex + 1}/${itemEls.length})`;return updatedText;}
async addSlide(editingElement){const activeItemEl=editingElement.querySelector(".carousel-item.active");const newItemEl=this.dependencies.clone.cloneElement(activeItemEl,{activateClone:false,});newItemEl.classList.remove("active");const controlEls=editingElement.querySelectorAll(carouselControlsSelector);controlEls.forEach((controlEl)=>{controlEl.classList.remove("d-none");});const indicatorsEl=editingElement.querySelector(".carousel-indicators");const newIndicatorEl=this.document.createElement("button");newIndicatorEl.setAttribute("data-bs-target","#"+editingElement.id);newIndicatorEl.setAttribute("aria-label",_t("Carousel indicator"));indicatorsEl.appendChild(newIndicatorEl);await this.slide(editingElement,"next");}
async removeSlide(editingElement){const itemEls=[...editingElement.querySelectorAll(".carousel-item")];const newLength=itemEls.length-1;if(newLength>0){const activeItemEl=editingElement.querySelector(".carousel-item.active");const activeIndicatorEl=editingElement.querySelector(".carousel-indicators > .active");await this.slide(editingElement,"prev");activeItemEl.remove();activeIndicatorEl.remove();const controlEls=editingElement.querySelectorAll(carouselControlsSelector);controlEls.forEach((controlEl)=>controlEl.classList.toggle("d-none",newLength===1));}}
async slideCarousel(editingElement,direction){await this.slide(editingElement,direction);}
slide(editingElement,direction){editingElement.addEventListener("slide.bs.carousel",()=>{this.slideTimestamp=window.performance.now();});return new Promise((resolve)=>{editingElement.addEventListener("slid.bs.carousel",()=>{const slideDuration=window.performance.now()-this.slideTimestamp;setTimeout(()=>{const itemEls=editingElement.querySelectorAll(".carousel-item");const activeItemEl=editingElement.querySelector(".carousel-item.active");const activeIndex=[...itemEls].indexOf(activeItemEl);const indicatorEls=editingElement.querySelectorAll(".carousel-indicators > *");const activeIndicatorEl=[...indicatorEls][activeIndex];activeIndicatorEl.classList.add("active");activeIndicatorEl.setAttribute("aria-current","true");this.dependencies["builderOptions"].setNextTarget(activeItemEl);resolve();},0.2*slideDuration);});const carouselInstance=window.Carousel.getOrCreateInstance(editingElement,{ride:false,pause:true,});if(typeof direction==="number"){carouselInstance.to(direction);}else{carouselInstance[direction]();}});}
onCloned({cloneEl}){if(cloneEl.matches(carouselWrapperSelector)){this.assignUniqueID(cloneEl);}}
onSnippetDropped({snippetEl}){if(snippetEl.matches(carouselWrapperSelector)){this.assignUniqueID(snippetEl);}}
assignUniqueID(editingElement){const id="myCarousel"+Date.now();editingElement.querySelector(".carousel").setAttribute("id",id);editingElement.querySelectorAll("[data-bs-target]").forEach((el)=>{el.setAttribute("data-bs-target","#"+id);});editingElement.querySelectorAll("[data-bs-slide], [data-bs-slide-to]").forEach((el)=>{if(el.hasAttribute("data-bs-target")){el.setAttribute("data-bs-target","#"+id);}else if(el.hasAttribute("href")){el.setAttribute("href","#"+id);}});}
getGalleryItems(activeItemEl,optionName){let itemEls=[];if(optionName==="Carousel"){const carouselEl=activeItemEl.closest(".carousel");itemEls=[...carouselEl.querySelectorAll(".carousel-item")];}
return itemEls;}
reorderCarouselItems(activeItemEl,itemEls,optionName){if(optionName==="Carousel"){const carouselEl=activeItemEl.closest(".carousel");const carouselInnerEl=carouselEl.querySelector(".carousel-inner");const newCarouselInnerEl=document.createElement("div");newCarouselInnerEl.classList.add("carousel-inner");newCarouselInnerEl.append(...itemEls);carouselInnerEl.replaceWith(newCarouselInnerEl);const newPosition=itemEls.indexOf(activeItemEl);updateCarouselIndicators(carouselEl,newPosition);this.dependencies["builderOptions"].setNextTarget(activeItemEl);}}}
__exports.updateCarouselIndicators=updateCarouselIndicators;function updateCarouselIndicators(carouselEl,newPosition){const indicatorEls=carouselEl.querySelectorAll(".carousel-indicators > *");indicatorEls.forEach((indicatorEl,i)=>{indicatorEl.classList.toggle("active",i===newPosition);indicatorEl.removeAttribute("aria-current");if(i===newPosition){indicatorEl.setAttribute("aria-current","true");}});}
const AddSlideAction=__exports.AddSlideAction=class AddSlideAction extends BuilderAction{static id="addSlide";static dependencies=["carouselOption"];setup(){this.preview=false;}
async apply({editingElement}){return this.dependencies.carouselOption.addSlide(editingElement);}}
const SlideCarouselAction=__exports.SlideCarouselAction=class SlideCarouselAction extends BuilderAction{static id="slideCarousel";static dependencies=["carouselOption"];setup(){this.preview=false;this.withLoadingEffect=false;}
async apply({editingElement,params:{direction}}){await this.dependencies.carouselOption.slideCarousel(editingElement,direction);}}
const ToggleControllersAction=__exports.ToggleControllersAction=class ToggleControllersAction extends BuilderAction{static id="toggleControllers";apply({editingElement}){const carouselEl=editingElement.closest(".carousel");const indicatorsEl=carouselEl.querySelector(".carousel-indicators");const areControllersHidden=carouselEl.classList.contains("s_carousel_arrows_hidden")&&indicatorsEl.classList.contains("s_carousel_indicators_hidden");carouselEl.classList.toggle("s_carousel_controllers_hidden",areControllersHidden);}}
const ToggleCardImgAction=__exports.ToggleCardImgAction=class ToggleCardImgAction extends BuilderAction{static id="toggleCardImg";apply({editingElement}){const carouselEl=editingElement.closest(".carousel");const cardEls=carouselEl.querySelectorAll(".card");for(const cardEl of cardEls){const imageWrapperEl=renderToElement("website.s_carousel_cards.imageWrapper");cardEl.insertAdjacentElement("afterbegin",imageWrapperEl);}}
clean({editingElement:el}){const carouselEl=el.closest(".carousel");carouselEl.querySelectorAll("figure").forEach((el)=>el.remove());}
isApplied({editingElement}){const carouselEl=editingElement.closest(".carousel");const cardImgEl=carouselEl.querySelector(".o_card_img_wrapper");return!!cardImgEl;}}
registry.category("website-plugins").add(CarouselOptionPlugin.id,CarouselOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/collapse_plugin.js */
odoo.define('@website/builder/plugins/collapse_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const CollapsePlugin=__exports.CollapsePlugin=class CollapsePlugin extends Plugin{static id="collapse";resources={on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),on_cloned_handlers:this.onCloned.bind(this),dropzone_selector:[{selector:".accordion-item",dropLockWithin:".accordion",},],is_movable_selector:{selector:".s_accordion .accordion-item",direction:"vertical",noScroll:true},};setup(){this.time=new Date().getTime();this.body=this.document.body;}
onSnippetDropped({snippetEl}){const accordionItemsEls=snippetEl.querySelectorAll(".accordion > .accordion-item");accordionItemsEls.forEach((accordionItemEl)=>{this.createIDs(accordionItemEl);});}
onCloned({cloneEl}){const arrayOfAccordionItemEls=cloneEl.matches(".accordion > .accordion-item")?[cloneEl]:[...cloneEl.querySelectorAll(".accordion > .accordion-item")];for(const accordionItemEl of arrayOfAccordionItemEls){this.createIDs(accordionItemEl);}}
createIDs(editingElement){const accordionEl=editingElement.closest(".accordion");const accordionBtnEl=editingElement.querySelector(".accordion-button");const accordionContentEl=editingElement.querySelector('[role="region"]');const setUniqueId=(el,label)=>{let elemId=el.id;if(!elemId||this.body.querySelectorAll(`#${elemId}`).length>1){do{this.time++;elemId=`${label}${this.time}`;}while(this.body.querySelector(`#${elemId}`));el.id=elemId;}
return elemId;};const accordionId=setUniqueId(accordionEl,"myCollapse");accordionContentEl.dataset.bsParent=`#${accordionId}`;const contentId=setUniqueId(accordionContentEl,"myCollapseTab");accordionBtnEl.dataset.bsTarget=`#${contentId}`;accordionBtnEl.setAttribute("aria-controls",contentId);const buttonId=setUniqueId(accordionBtnEl,"myCollapseBtn");accordionContentEl.setAttribute("aria-labelledby",buttonId);}}
registry.category("website-plugins").add(CollapsePlugin.id,CollapsePlugin);return __exports;});;

/* /website/static/src/builder/plugins/content_width_option_plugin.js */
odoo.define('@website/builder/plugins/content_width_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@website/builder/option_sequence','@html_builder/core/core_builder_action_plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{CONTAINER_WIDTH}=require("@website/builder/option_sequence");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");class ContentWidthOptionPlugin extends Plugin{static id="contentWidthOption";static dependencies=["builderActions"];resources={builder_options:[withSequence(CONTAINER_WIDTH,{template:"website.ContentWidthOption",selector:"section, .s_carousel .carousel-item, .s_carousel_intro_item",exclude:"[data-snippet] :not(.oe_structure) > [data-snippet],#footer > *,#o_wblog_post_content *,.s_floating_blocks .s_floating_blocks_block",applyTo:":scope > .container, :scope > .container-fluid, :scope > .o_container_small",}),],builder_actions:{SetContainerWidthAction,},};}
const SetContainerWidthAction=__exports.SetContainerWidthAction=class SetContainerWidthAction extends ClassAction{static id="setContainerWidth";apply({isPreviewing,editingElement}){super.apply(...arguments);editingElement.classList.toggle("o_container_preview",isPreviewing);}}
registry.category("website-plugins").add(ContentWidthOptionPlugin.id,ContentWidthOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/customize_website_plugin.js */
odoo.define('@website/builder/plugins/customize_website_plugin',['@html_builder/utils/utils_css','@html_editor/plugin','@html_editor/utils/html','@web/core/confirmation_dialog/confirmation_dialog','@web/core/l10n/translation','@web/core/network/rpc','@web/core/registry','@web/core/utils/colors','@web/core/utils/concurrency','@web/core/utils/timing','@html_editor/utils/resource','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{getCSSVariableValue,isCSSVariable,setBuilderCSSVariables,}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{parseHTML}=require("@html_editor/utils/html");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{_t}=require("@web/core/l10n/translation");const{rpc}=require("@web/core/network/rpc");const{registry}=require("@web/core/registry");const{isColorGradient,isCSSColor}=require("@web/core/utils/colors");const{Deferred}=require("@web/core/utils/concurrency");const{debounce}=require("@web/core/utils/timing");const{withSequence}=require("@html_editor/utils/resource");const{BuilderAction}=require("@html_builder/core/builder_action");const NO_IMAGE_SELECTION=__exports.NO_IMAGE_SELECTION=Symbol.for("NoImageSelection");const CustomizeWebsitePlugin=__exports.CustomizeWebsitePlugin=class CustomizeWebsitePlugin extends Plugin{static id="customizeWebsite";static dependencies=["builderActions","history","savePlugin"];static shared=["customizeWebsiteColors","customizeWebsiteVariables","loadTemplateKey","makeSCSSCusto","toggleTemplate","withCustomHistory","populateCache","loadConfigKey","getConfigKey","getWebsiteVariableValue","getPendingThemeRequests","setPendingThemeRequests","isPluginDestroyed","reloadBundles",];resources={builder_actions:{CustomizeWebsiteVariableAction,CustomizeWebsiteColorAction,SwitchThemeAction,AddLanguageAction,CustomizeBodyBgTypeAction,RemoveFontAction,CustomizeButtonStyleAction,WebsiteConfigAction,SelectTemplateAction,},color_combination_getters:withSequence(5,(el,actionParam)=>{const combination=actionParam.combinationColor;if(combination){const style=this.window.getComputedStyle(this.document.documentElement);return`o_cc${getCSSVariableValue(combination, style)}`;}}),};cache={};activeRecords={};activeTemplateViews={};pendingViewRequests=new Set();pendingAssetRequests=new Set();pendingThemeRequests=[];variablesToCustomize={};colorsToCustomize={};resolves={};getPendingThemeRequests(){return this.pendingThemeRequests;}
setPendingThemeRequests(pendingThemeRequests){this.pendingThemeRequests=pendingThemeRequests;}
getWebsiteVariableValue(variable){const style=this.window.getComputedStyle(this.document.documentElement);let finalValue=getCSSVariableValue(variable,style);let tempValue=finalValue;while(tempValue){finalValue=tempValue;tempValue=getCSSVariableValue(tempValue.replaceAll("'",""),style);if(tempValue===finalValue){break;}}
if(finalValue.startsWith(`'`)){finalValue=finalValue.substring(1,finalValue.length-1);}
return finalValue;}
async customizeWebsiteVariables(variables={},nullValue="null",clean=false,reloadBundles=true){this.variablesToCustomize=Object.assign(this.variablesToCustomize,variables);if(!Object.keys(this.variablesToCustomize).length){return;}
if(clean){for(const variable in variables){this.variablesToCustomize[variable]=nullValue;}}
await this.debouncedSCSSVariablesCusto(nullValue);if(reloadBundles){await this.reloadBundles();}}
debouncedSCSSVariablesCusto=debounce(async(nullValue)=>{const variables=this.variablesToCustomize;this.variablesToCustomize={};await this.makeSCSSCusto("/website/static/src/scss/options/user_values.scss",variables,nullValue);},0);async customizeWebsiteColors(colors={},{colorType,combinationColor,nullValue,resetCcOnEmpty,reloadBundles=true}={}){const baseURL="/website/static/src/scss/options/colors/";colorType=colorType?colorType+"_":"";const url=`${baseURL}user_${colorType}color_palette.scss`;const finalColors={};for(const[colorName,color]of Object.entries(colors)){finalColors[colorName]=color;if(color){const isColorCombination=/^o_cc[12345]$/.test(color);if(isColorCombination){finalColors[combinationColor]=parseInt(color.substring(4));delete finalColors[colorName];}else if(isCSSVariable(color)){const customProperty=color.match(/var\(--(.+?)\)/)[1];finalColors[colorName]=this.getWebsiteVariableValue(customProperty);}else if(!isCSSColor(color)){finalColors[colorName]=`'${color}'`;}}else{if(resetCcOnEmpty){finalColors[combinationColor]="";}
finalColors[colorName]="";}}
this.colorsToCustomize=Object.assign(this.colorsToCustomize,finalColors);await this.debouncedSCSSColorsCusto(url,nullValue);if(reloadBundles){await this.reloadBundles();}}
debouncedSCSSColorsCusto=debounce(async(url,nullValue)=>{const colors=this.colorsToCustomize;this.colorsToCustomize={};await this.makeSCSSCusto(url,colors,nullValue);},0);async makeSCSSCusto(url,values,defaultValue="null"){Object.keys(values).forEach((key)=>{values[key]=values[key]||defaultValue;});await this.services.orm.call("web_editor.assets","make_scss_customization",[url,values]);}
reloadBundles=debounce(this._reloadBundles.bind(this),0);async _reloadBundles(){const bundles=await rpc("/website/theme_customize_bundle_reload");const allLinksIframeEls=[];const proms=[];const createLinksProms=(bundleURLs,insertionEl)=>{const newLinkEls=[];for(const url of bundleURLs){const linkEl=this.document.createElement("link");linkEl.setAttribute("type","text/css");linkEl.setAttribute("rel","stylesheet");linkEl.setAttribute("href",`${url}#t=${new Date().getTime()}`);newLinkEls.push(linkEl);proms.push(new Promise((resolve)=>{linkEl.addEventListener("load",resolve);linkEl.addEventListener("error",resolve);}));}
for(const el of newLinkEls){insertionEl.insertAdjacentElement("afterend",el);}};for(const[bundleName,bundleURLs]of Object.entries(bundles)){const selector=`link[href*="${bundleName}"]`;const linksIframeEls=this.document.querySelectorAll(selector);if(linksIframeEls.length){allLinksIframeEls.push(...linksIframeEls);createLinksProms(bundleURLs,linksIframeEls[linksIframeEls.length-1]);}}
await Promise.all(proms).then(()=>{for(const el of allLinksIframeEls){el.remove();}});}
loadConfigKey(actionParam){const promises=[];for(const paramName of["views","assets"]){if(actionParam[paramName]){promises.push(...actionParam[paramName].map((record)=>{if(record.startsWith("!")){record=record.substring(1);}
if(!(record in this.cache)){this.cache[record]=this._loadBatchKey(record,paramName==="views");}
return this.cache[record];}));}}
return Promise.all(promises);}
_loadBatchKey(key,isViewData){const pendingRequests=isViewData?this.pendingViewRequests:this.pendingAssetRequests;pendingRequests.add(key);return new Promise((resolve)=>{this.resolves[key]=resolve;setTimeout(()=>{if(pendingRequests.size&&!this.isDestroyed){const keys=[...pendingRequests];pendingRequests.clear();rpc("/website/theme_customize_data_get",{keys,is_view_data:isViewData,}).then((r)=>{if(!this.isDestroyed){for(const key of keys){this.activeRecords[key]=r.includes(key);this.resolves[key]();}}});}},0);});}
getConfigKey(key){if(key.startsWith("!")){return!this.activeRecords[key.substring(1)];}
return this.activeRecords[key];}
withCustomHistory(action){const applyFn=action.apply.bind(action);action.apply=async(arg)=>{const oldValue=action.getValue(arg);const{value}=arg;const blockedApply=(v)=>{this.services.ui.block({delay:2500});return applyFn({...arg,value:v}).then(()=>{this.dispatchTo("trigger_dom_updated");}).finally(()=>this.services.ui.unblock());};await blockedApply(value);this.dependencies.history.addCustomMutation({apply:()=>blockedApply(value),revert:()=>blockedApply(oldValue),});};}
async loadTemplateKey(key){if(!this.getTemplateKey(key)){this.activeTemplateViews[key]=await this.services.orm.call("ir.ui.view","render_public_asset",[`${key}`,{}]);}
return this.getTemplateKey(key);}
toggleTemplate(action,apply){if(!apply){action.editingElement.replaceChildren(this.beforePreviewNodes);this.beforePreviewNodes=null;return;}
if(!this.beforePreviewNodes){this.beforePreviewNodes=[...action.editingElement.childNodes];}
const templateFragment=parseHTML(this.document,this.getTemplateKey(action.params.view));action.editingElement.replaceChildren(templateFragment.firstElementChild);}
getTemplateKey(key){return this.activeTemplateViews[key];}
populateCache(record,value){if(record.startsWith("!")){record=record.substring(1);}
if(!(record in this.cache)){this.cache[record]=value;}
value.then((resolvedValue)=>{this.activeRecords[record]=resolvedValue;});}
isPluginDestroyed(){return this.isDestroyed;}}
const SwitchThemeAction=__exports.SwitchThemeAction=class SwitchThemeAction extends BuilderAction{static id="switchTheme";static dependencies=["savePlugin","action"];setup(){this.preview=false;}
async apply(){const save=await new Promise((resolve)=>{this.services.dialog.add(ConfirmationDialog,{body:_t("Changing theme requires to leave the editor. This will save all your changes, are you sure you want to proceed? Be careful that changing the theme will reset all your color customizations."),confirm:()=>resolve(true),cancel:()=>resolve(false),});});if(!save){return;}
await this.dependencies.savePlugin.save();this.services.action.doAction("website.theme_install_kanban_action",{});}}
const AddLanguageAction=__exports.AddLanguageAction=class AddLanguageAction extends BuilderAction{static id="addLanguage";static dependencies=["savePlugin"];setup(){this.preview=false;}
async apply(){const def=new Deferred();const websiteId=this.services.website.currentWebsite.id;const save=await new Promise((resolve)=>{this.services.dialog.add(ConfirmationDialog,{body:_t("Adding a language requires to leave the editor. This will save all your changes, are you sure you want to proceed?"),confirm:()=>resolve(true),cancel:()=>resolve(false),});});if(!save){return;}
this.config.builderSidebar.toggle(false);await this.dependencies.savePlugin.save();await this.services.action.doAction("base.action_view_base_language_install",{additionalContext:{params:{website_id:websiteId,url_return:"[lang]",},},onClose:def.resolve,});await def;this.config.builderSidebar.toggle(true);}}
const CustomizeBodyBgTypeAction=__exports.CustomizeBodyBgTypeAction=class CustomizeBodyBgTypeAction extends BuilderAction{static id="customizeBodyBgType";static dependencies=["builderActions","history","customizeWebsite"];isApplied({value}){const getAction=this.dependencies.builderActions.getAction;const currentValue=getAction("customizeBodyBgType").getValue();return[`'${value}'`,value].includes(currentValue);}
getValue(){const bgImage=getComputedStyle(this.document.querySelector("#wrapwrap"))["background-image"];if(bgImage==="none"){return"NONE";}
const style=this.window.getComputedStyle(this.document.documentElement);return getCSSVariableValue("body-image-type",style);}
async load({editingElement:el,params,value,historyImageSrc}){const getAction=this.dependencies.builderActions.getAction;const oldValue=getAction("customizeBodyBgType").getValue({params});const oldImageSrc=this.dependencies.customizeWebsite.getWebsiteVariableValue("body-image");let imageSrc="";if(value==="NONE"){await this.dependencies.customizeWebsite.customizeWebsiteVariables({"body-image-type":"'image'","body-image":"",});}else{imageSrc=historyImageSrc||(await getAction("replaceBgImage").load({el}));if(imageSrc){await this.dependencies.customizeWebsite.customizeWebsiteVariables({"body-image-type":`'${value}'`,"body-image":`'${imageSrc}'`,});}else{imageSrc=NO_IMAGE_SELECTION;}}
return{imageSrc,oldImageSrc,oldValue};}
apply({editingElement,params,value,loadResult:{imageSrc,oldImageSrc,oldValue}}){if(imageSrc===NO_IMAGE_SELECTION){return;}
const getAction=this.dependencies.builderActions.getAction;this.dependencies.history.addCustomMutation({apply:()=>{this.services.ui.block({delay:2500});getAction("customizeBodyBgType").load({editingElement,params,value,historyImageSrc:imageSrc}).then(()=>{this.dispatchTo("trigger_dom_updated");}).finally(()=>this.services.ui.unblock());},revert:()=>{this.services.ui.block({delay:2500});getAction("customizeBodyBgType").load({editingElement,params,value:oldValue,historyImageSrc:oldImageSrc,}).then(()=>{this.dispatchTo("trigger_dom_updated");}).finally(()=>this.services.ui.unblock());},});}}
const RemoveFontAction=__exports.RemoveFontAction=class RemoveFontAction extends BuilderAction{static id="removeFont";static dependencies=["builderActions"];setup(){this.preview=false;}
async apply({params}){const getAction=this.dependencies.builderActions.getAction;await getAction("customizeWebsiteVariable").load({params:{mainParam:params.variable,},});}}
const WebsiteConfigAction=__exports.WebsiteConfigAction=class WebsiteConfigAction extends BuilderAction{static id="websiteConfig";static dependencies=["customizeWebsite"];setup(){this.reload={};this.preview=false;}
async prepare({actionParam}){return this.dependencies.customizeWebsite.loadConfigKey(actionParam);}
getPriority({params}){const records=[...(params.views||[]),...(params.assets||[])];return records.length;}
isApplied({params}){const records=[...(params.views||[]),...(params.assets||[])];const configKeysIsApplied=records.every((v)=>this.dependencies.customizeWebsite.getConfigKey(v));if(params.checkVars||params.checkVars===undefined){return(configKeysIsApplied&&Object.entries(params.vars||{}).every(([variable,value])=>value===this.dependencies.customizeWebsite.getWebsiteVariableValue(variable)));}
return configKeysIsApplied;}
async apply(action){return this._toggleConfig(action,true);}
clean(action){return this._toggleConfig(action,false);}
async _toggleConfig(action,apply){const updateViews=this._toggleTheme(action,"views",apply);const updateAssets=this._toggleTheme(action,"assets",apply);const updateVars=!apply&&action.params.varsOnClean?this.dependencies.customizeWebsite.customizeWebsiteVariables(action.params.varsOnClean,"null",apply):action.params.vars?this.dependencies.customizeWebsite.customizeWebsiteVariables(action.params.vars,"null",!apply):Promise.resolve();await Promise.all([updateViews,updateAssets,updateVars]);if(this.dependencies.customizeWebsite.isPluginDestroyed()){return true;}}
async _toggleTheme(action,paramName,apply){if(!action.params[paramName]){return;}
const isViewData=paramName==="views";const toEnable=new Set();const toDisable=new Set();const prepareRecord=(record,disable)=>{if(record.startsWith("!")){const recordKey=record.substring(1);(disable?toEnable:toDisable).add(recordKey);(disable?toDisable:toEnable).delete(recordKey);}else{(disable?toEnable:toDisable).delete(record);(disable?toDisable:toEnable).add(record);}};const shouldReset=isViewData&&!!action.params.resetViewArch;const records=action.params[paramName]||[];if(action.selectableContext){if(!apply){return;}
for(const item of action.selectableContext.items){for(const a of item.getActions()){if(a.actionId==="websiteConfig"){for(const record of a.actionParam[paramName]||[]){prepareRecord(record,true);}}else if(a.actionId==="composite"||a.actionId==="reloadComposite"){for(const itemAction of a.actionParam.mainParam){if(itemAction.action==="websiteConfig"){for(const record of itemAction.actionParam[paramName]||[]){prepareRecord(record,true);}}}}}}
for(const record of records){prepareRecord(record,false);}}else{for(const record of records){prepareRecord(record,!apply);}}
return this._customizeThemeData(isViewData,shouldReset,toEnable,toDisable);}
async _customizeThemeData(isViewData,shouldReset,toEnable,toDisable){const def=new Deferred();this.dependencies.customizeWebsite.getPendingThemeRequests().push({isViewData,shouldReset,toEnable,toDisable,def,});setTimeout(()=>{let aggregatedToEnable=new Set();let aggregatedToDisable=new Set();const defs=[];for(const req of this.dependencies.customizeWebsite.getPendingThemeRequests()){if(req.isViewData===isViewData&&req.shouldReset===shouldReset){aggregatedToEnable=aggregatedToEnable.difference(req.toDisable);aggregatedToDisable=aggregatedToDisable.difference(req.toEnable);aggregatedToEnable=aggregatedToEnable.union(req.toEnable);aggregatedToDisable=aggregatedToDisable.union(req.toDisable);defs.push(req.def);}}
this.dependencies.customizeWebsite.setPendingThemeRequests(this.dependencies.customizeWebsite.getPendingThemeRequests().filter((req)=>req.isViewData!==isViewData||req.shouldReset!==shouldReset));if(!aggregatedToEnable.size&&!aggregatedToDisable.size){defs.map((def)=>def.resolve());return;}else{rpc("/website/theme_customize_data",{is_view_data:isViewData,enable:[...aggregatedToEnable],disable:[...aggregatedToDisable],reset_view_arch:shouldReset,}).then(()=>Promise.all(defs.map((def)=>def.resolve()))).catch(()=>Promise.all(defs.map((def)=>def.reject())));}},0);return def;}}
const SelectTemplateAction=__exports.SelectTemplateAction=class SelectTemplateAction extends BuilderAction{static id="selectTemplate";static dependencies=["customizeWebsite"];async prepare({actionParam}){return await this.dependencies.customizeWebsite.loadTemplateKey(actionParam.view);}
isApplied({editingElement,params:{templateClass}}){if(templateClass){return!!editingElement.querySelector(`.${templateClass}`);}
return true;}
async apply(action){return this.dependencies.customizeWebsite.toggleTemplate(action,true);}
clean(action){return this.dependencies.customizeWebsite.toggleTemplate(action,false);}}
const CustomizeWebsiteVariableAction=__exports.CustomizeWebsiteVariableAction=class CustomizeWebsiteVariableAction extends BuilderAction{static id="customizeWebsiteVariable";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
isApplied({params:{mainParam:variable}={},value}){const currentValue=this.dependencies.customizeWebsite.getWebsiteVariableValue(variable);return(currentValue===value||`'${currentValue}'`===value);}
getValue({params:{mainParam:variable}}){const currentValue=this.dependencies.customizeWebsite.getWebsiteVariableValue(variable);return currentValue;}
async apply({params:{mainParam:variable,nullValue="null"},value}){await this.dependencies.customizeWebsite.customizeWebsiteVariables({[variable]:value,},nullValue);}}
const CustomizeWebsiteColorAction=__exports.CustomizeWebsiteColorAction=class CustomizeWebsiteColorAction extends BuilderAction{static id="customizeWebsiteColor";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
getValue({params:{mainParam:color,colorType,gradientColor,combinationColor}}){const style=this.window.getComputedStyle(this.document.documentElement);if(gradientColor){const gradientValue=this.dependencies.customizeWebsite.getWebsiteVariableValue(gradientColor);if(gradientValue){const el=document.createElement("div");el.style.setProperty("background-image",gradientValue);return el.style.getPropertyValue("background-image");}}
return getCSSVariableValue(color,style);}
async apply({params:{mainParam:color,colorType,gradientColor,combinationColor,nullValue},value,}){if(gradientColor){let colorValue="";let gradientValue="";if(isColorGradient(value)){gradientValue=value;}else{colorValue=value;}
const isColorCombination=/^o_cc[12345]$/.test(value);await this.dependencies.customizeWebsite.customizeWebsiteColors({[color]:colorValue,},{colorType,combinationColor,nullValue,resetCcOnEmpty:!gradientValue,reloadBundles:isColorCombination,});if(!isColorCombination){await this.dependencies.customizeWebsite.customizeWebsiteVariables({[gradientColor]:gradientValue||nullValue,});}}else{await this.dependencies.customizeWebsite.customizeWebsiteColors({[color]:value},{colorType,combinationColor,resetCcOnEmpty:true,nullValue});}
setBuilderCSSVariables();}}
const CustomizeButtonStyleAction=__exports.CustomizeButtonStyleAction=class CustomizeButtonStyleAction extends BuilderAction{static id="customizeButtonStyle";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
isApplied({params,value}){return this.getValue({params})===value;}
getValue({params:{mainParam:which}}){const style=this.window.getComputedStyle(this.document.documentElement);const isOutline=getCSSVariableValue(`btn-${which}-outline`,style);const isFlat=getCSSVariableValue(`btn-${which}-flat`,style);return isFlat==="true"?"flat":isOutline==="true"?"outline":"fill";}
async apply({params:{mainParam:which,nullValue},value}){await this.dependencies.customizeWebsite.customizeWebsiteVariables({[`btn-${which}-outline`]:value==="outline"?"true":"false",[`btn-${which}-flat`]:value==="flat"?"true":"false",},nullValue);}}
registry.category("website-plugins").add(CustomizeWebsitePlugin.id,CustomizeWebsitePlugin);return __exports;});;

/* /website/static/src/builder/plugins/dynamic_svg_option.js */
odoo.define('@website/builder/plugins/dynamic_svg_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const DynamicSvgOption=__exports.DynamicSvgOption=class DynamicSvgOption extends BaseOptionComponent{static template="website.DynamicSvgOption";static props={};setup(){super.setup();this.domState=useDomState((imgEl)=>{const colors={};const searchParams=new URL(imgEl.src,window.location.origin).searchParams;for(const colorName of["c1","c2","c3","c4","c5"]){const color=searchParams.get(colorName);if(color){colors[colorName]=color;}}
return{colors:colors,};});}}
return __exports;});;

/* /website/static/src/builder/plugins/dynamic_svg_option_plugin.js */
odoo.define('@website/builder/plugins/dynamic_svg_option_plugin',['@web/core/registry','@html_editor/plugin','@website/builder/plugins/dynamic_svg_option','@web/core/utils/colors','@html_editor/utils/image_processing','@html_editor/utils/resource','@html_builder/utils/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{DynamicSvgOption}=require("@website/builder/plugins/dynamic_svg_option");const{normalizeCSSColor}=require("@web/core/utils/colors");const{loadImage}=require("@html_editor/utils/image_processing");const{withSequence}=require("@html_editor/utils/resource");const{DYNAMIC_SVG}=require("@html_builder/utils/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");class DynamicSvgOptionPlugin extends Plugin{static id="DynamicSvgOption";resources={builder_options:[withSequence(DYNAMIC_SVG,{OptionComponent:DynamicSvgOption,props:{},selector:"img[src^='/html_editor/shape/'], img[src^='/web_editor/shape/']",}),],builder_actions:{SvgColorAction,},};}
const SvgColorAction=__exports.SvgColorAction=class SvgColorAction extends BuilderAction{static id="svgColor";getValue({editingElement:imgEl,params:{mainParam:colorName}}){const searchParams=new URL(imgEl.src,window.location.origin).searchParams;return searchParams.get(colorName);}
async load({editingElement:imgEl,params:{mainParam:colorName},value:color}){const newURL=new URL(imgEl.src,window.location.origin);newURL.searchParams.set(colorName,normalizeCSSColor(color));const src=newURL.pathname+newURL.search;await loadImage(src);return src;}
apply({editingElement:imgEl,params:{mainParam:colorName},value:color,loadResult:newSrc,}){imgEl.setAttribute("src",newSrc);}}
registry.category("website-plugins").add(DynamicSvgOptionPlugin.id,DynamicSvgOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/edit_interaction_plugin.js */
odoo.define('@website/builder/plugins/edit_interaction_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const EditInteractionPlugin=__exports.EditInteractionPlugin=class EditInteractionPlugin extends Plugin{static id="edit_interaction";static shared=["restartInteractions"];resources={normalize_handlers:this.refreshInteractions.bind(this),content_manually_updated_handlers:this.refreshInteractions.bind(this),before_save_handlers:()=>this.stopInteractions(),on_will_clone_handlers:({originalEl})=>{this.stopInteractions(originalEl);},on_cloned_handlers:({originalEl})=>{this.restartInteractions(originalEl);},on_will_save_snippet_handlers:({snippetEl})=>{this.stopInteractions(snippetEl);},on_saved_snippet_handlers:({snippetEl})=>{this.restartInteractions(snippetEl);},};setup(){this.websiteEditService=undefined;this.areInteractionsStartedInEditMode=false;window.parent.document.addEventListener("transfer_website_edit_service",this.updateEditInteraction.bind(this),{once:true});const event=new CustomEvent("edit_interaction_plugin_loaded");event.shared=this.config.getShared();window.parent.document.dispatchEvent(event);}
destroy(){this.websiteEditService?.uninstallPatches?.();this.stopInteractions();}
updateEditInteraction({detail:{websiteEditService}}){this.websiteEditService=websiteEditService;this.websiteEditService.installPatches();}
restartInteractions(element){if(!this.websiteEditService){throw new Error("website edit service not loaded");}
this.websiteEditService.update(element,"edit");this.areInteractionsStartedInEditMode=true;}
refreshInteractions(element){if(this.areInteractionsStartedInEditMode){this.websiteEditService.refresh(element);}else{this.restartInteractions(element);}}
stopInteractions(element){if(!this.websiteEditService){throw new Error("website edit service not loaded");}
this.websiteEditService.stop(element);}}
registry.category("website-plugins").add(EditInteractionPlugin.id,EditInteractionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/floating_blocks/floating_blocks_block_mobile_option.js */
odoo.define('@website/builder/plugins/floating_blocks/floating_blocks_block_mobile_option',['@html_builder/core/utils','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{isMobileView}=require("@html_builder/utils/utils");const FloatingBlocksBlockMobileOption=__exports.FloatingBlocksBlockMobileOption=class FloatingBlocksBlockMobileOption extends BaseOptionComponent{static template="website.FloatingBlocksBlockMobileOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({isMobileView:isMobileView(editingElement),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/floating_blocks/floating_blocks_block_option.js */
odoo.define('@website/builder/plugins/floating_blocks/floating_blocks_block_option',['@html_builder/core/utils','@html_builder/plugins/border_configurator_option','@website/builder/plugins/layout_option/add_element_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const{AddElementOption}=require("@website/builder/plugins/layout_option/add_element_option");const FloatingBlocksBlockOption=__exports.FloatingBlocksBlockOption=class FloatingBlocksBlockOption extends BaseOptionComponent{static template="website.FloatingBlocksBlockOption";static components={BorderConfigurator,AddElementOption,};static props={};}
return __exports;});;

/* /website/static/src/builder/plugins/floating_blocks/floating_blocks_block_option_plugin.js */
odoo.define('@website/builder/plugins/floating_blocks/floating_blocks_block_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence','@website/builder/option_sequence','@website/builder/plugins/floating_blocks/floating_blocks_block_option','@website/builder/plugins/floating_blocks/floating_blocks_block_mobile_option'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{BEGIN}=require("@html_builder/utils/option_sequence");const{LAYOUT_GRID}=require("@website/builder/option_sequence");const{FloatingBlocksBlockOption}=require("@website/builder/plugins/floating_blocks/floating_blocks_block_option");const{FloatingBlocksBlockMobileOption}=require("@website/builder/plugins/floating_blocks/floating_blocks_block_mobile_option");class FloatingBlocksBlockOptionPlugin extends Plugin{static id="floatingBlocksBlockOptionPlugin";resources={builder_options:[withSequence(BEGIN,{OptionComponent:FloatingBlocksBlockMobileOption,selector:".s_floating_blocks .s_floating_blocks_block",applyTo:".container-fluid",}),withSequence(LAYOUT_GRID,{OptionComponent:FloatingBlocksBlockOption,selector:".s_floating_blocks .s_floating_blocks_block",}),],dropzone_selector:[{selector:".s_floating_blocks_block_grid .o_grid_item",dropLockWithin:".s_floating_blocks_block_grid",},{selector:".s_floating_blocks .s_floating_blocks_block",dropLockWithin:".s_floating_blocks",dropNear:".s_floating_blocks .s_floating_blocks_block",},],};}
registry.category("website-plugins").add(FloatingBlocksBlockOptionPlugin.id,FloatingBlocksBlockOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/floating_blocks/floating_blocks_option_plugin.js */
odoo.define('@website/builder/plugins/floating_blocks/floating_blocks_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence','@website/builder/option_sequence','@web/core/utils/render','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{after}=require("@html_builder/utils/option_sequence");const{DEVICE_VISIBILITY}=require("@website/builder/option_sequence");const{renderToElement}=require("@web/core/utils/render");const{BuilderAction}=require("@html_builder/core/builder_action");const FloatingBlocksOptionPlugin=__exports.FloatingBlocksOptionPlugin=class FloatingBlocksOptionPlugin extends Plugin{static id="floatingBlocksOptionPlugin";resources={builder_options:[withSequence(after(DEVICE_VISIBILITY),{template:"website.FloatingBlocksOption",selector:".s_floating_blocks",}),],builder_actions:{FloatingBlocksRoundnessAction,AddFloatingBlockCardAction,},};}
const FloatingBlocksRoundnessAction=__exports.FloatingBlocksRoundnessAction=class FloatingBlocksRoundnessAction extends BuilderAction{static id="floatingBlocksRoundness";getValue({editingElement}){for(let x=0;x<=5;x++){if(editingElement.classList.contains(`rounded-${x}`)){return x;}}
return 0;}
apply({editingElement,value}){for(let x=0;x<=5;x++){editingElement.classList.remove(`rounded-${x}`);}
editingElement.classList.add(`rounded-${value}`);}}
const AddFloatingBlockCardAction=__exports.AddFloatingBlockCardAction=class AddFloatingBlockCardAction extends BuilderAction{static id="addFloatingBlockCard";apply({editingElement:el}){const newCardEl=renderToElement("website.s_floating_blocks.new_card");const wrapperEl=el.querySelector(".s_floating_blocks_wrapper");wrapperEl.appendChild(newCardEl);newCardEl.scrollIntoView({behavior:"smooth",block:"center"});}}
registry.category("website-plugins").add(FloatingBlocksOptionPlugin.id,FloatingBlocksOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/font/add_font_dialog.js */
odoo.define('@website/builder/plugins/font/add_font_dialog',['@web/core/network/rpc','@odoo/owl','@web/core/l10n/translation','@web/core/utils/hooks','@web/core/autocomplete/autocomplete','@web/core/dialog/dialog','@web/core/confirmation_dialog/confirmation_dialog'],function(require){'use strict';let __exports={};const{rpc}=require("@web/core/network/rpc");const{Component,useEffect,useRef,useState}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{useService}=require("@web/core/utils/hooks");const{AutoComplete}=require("@web/core/autocomplete/autocomplete");const{Dialog}=require("@web/core/dialog/dialog");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");class GoogleFontAutoComplete extends AutoComplete{setup(){super.setup();this.inputRef=useRef("input");this.sourcesListRef=useRef("sourcesList");useEffect((el)=>{el.setAttribute("id","google_font");},()=>[this.inputRef.el]);}
get dropdownOptions(){return{...super.dropdownOptions,position:"bottom-fit",};}
onInput(ev){super.onInput(ev);if(this.sourcesListRef.el){this.sourcesListRef.el.scrollTop=0;}}}
const AddFontDialog=__exports.AddFontDialog=class AddFontDialog extends Component{static template="website.dialog.addFont";static components={GoogleFontAutoComplete,Dialog};static props={close:Function,allFonts:Array,googleFonts:Array,googleLocalFonts:Array,uploadedLocalFonts:Array,variable:String,customize:Function,reloadEditor:Function,};state=useState({valid:true,loading:false,googleFontFamily:undefined,googleServe:true,uploadedFontName:undefined,uploadedFonts:[],uploadedFontFaces:undefined,previewText:_t("The quick brown fox jumps over the lazy dog."),});setup(){this.fileInput=useRef("fileInput");this.dialog=useService("dialog");this.orm=useService("orm");}
async onClickSave(){if(this.state.loading){return;}
this.state.loading=true;const shouldClose=await this.save(this.state);if(shouldClose){this.props.close();return;}
this.state.loading=false;}
onClickCancel(){this.props.close();}
get getGoogleFontList(){return[{options:async(term)=>{if(!this.googleFontList){await rpc("/website/google_font_metadata").then((data)=>{this.googleFontList=data.familyMetadataList.map((font)=>font.family);});}
const lowerCaseTerm=term.toLowerCase();const filtered=this.googleFontList.filter((value)=>value.toLowerCase().includes(lowerCaseTerm));return filtered.map((fontFamilyName)=>({label:fontFamilyName,onSelect:()=>this.onGoogleFontSelect(fontFamilyName),}));},},];}
async onGoogleFontSelect(fontFamily){this.fileInput.el.value="";this.state.uploadedFonts=[];this.state.uploadedFontName=undefined;this.state.uploadedFontFaces=undefined;try{const result=await fetch(`https://fonts.googleapis.com/css?family=${encodeURIComponent(
                    fontFamily
                )}:300,300i,400,400i,700,700i`,{method:"HEAD"});if(result.ok){const linkId=`previewFont${fontFamily}`;if(!document.querySelector(`link[id='${linkId}']`)){const linkEl=document.createElement("link");linkEl.id=linkId;linkEl.setAttribute("href",result.url);linkEl.setAttribute("rel","stylesheet");linkEl.dataset.fontPreview=true;document.head.appendChild(linkEl);}
this.state.googleFontFamily=fontFamily;}else{this.state.googleFontFamily=undefined;}}catch(error){console.error(error);}}
async onUploadChange(e){this.state.googleFontFamily=undefined;const file=this.fileInput.el.files[0];if(!file){this.state.uploadedFonts=[];this.state.uploadedFontName=undefined;this.state.uploadedFontFaces=undefined;return;}
const reader=new FileReader();reader.onload=(e)=>{const base64=e.target.result.split(",")[1];rpc("/website/theme_upload_font",{name:file.name,data:base64,}).then((result)=>{this.state.uploadedFonts=result;this.updateFontStyle(file.name.substr(0,file.name.lastIndexOf(".")));});};reader.readAsDataURL(file);}
updateFontStyle(baseFontName){const targetFonts={};let shortestNamedFont;for(const font of this.state.uploadedFonts){if(!shortestNamedFont||font.name.length<shortestNamedFont.name.length){shortestNamedFont=font;}
font.isItalic=/italic/i.test(font.name);font.isLight=/light|300/i.test(font.name);font.isBold=/bold|700/i.test(font.name);font.isRegular=/regular|400/i.test(font.name);font.weight=font.isRegular?400:font.isLight?300:font.isBold?700:undefined;if(font.isItalic&&!font.weight){if(!/00|thin|medium|black|condense|extrude/i.test(font.name)){font.isRegular=true;font.weight=400;}}
font.style=font.isItalic?"italic":"normal";if(font.weight){targetFonts[`${font.weight}${font.style}`]=font;}}
if(!Object.values(targetFonts).filter((font)=>font.isRegular).length){shortestNamedFont.weight=400;shortestNamedFont.style="normal";targetFonts["400"]=shortestNamedFont;}
const fontFaces=[];for(const font of Object.values(targetFonts)){fontFaces.push(`@font-face{
                font-family: ${baseFontName};
                font-style: ${font.style};
                font-weight: ${font.weight};
                src:url("${font.url}");
            }`);}
let styleEl=document.head.querySelector(`style[id='WebsiteThemeFontPreview-${baseFontName}']`);if(!styleEl){styleEl=document.createElement("style");styleEl.id=`WebsiteThemeFontPreview-${baseFontName}`;styleEl.dataset.fontPreview=true;document.head.appendChild(styleEl);}
const previewFontFaces=fontFaces.join("");styleEl.textContent=previewFontFaces;this.state.uploadedFontName=baseFontName;this.state.uploadedFontFaces=previewFontFaces;}
async save(state){const uploadedFontName=state.uploadedFontName;const uploadedFontFaces=state.uploadedFontFaces;let font=undefined;if(uploadedFontName&&uploadedFontFaces){const fontExistsLocally=this.props.uploadedLocalFonts.some((localFont)=>localFont.split(":")[0]===`'${uploadedFontName}'`);if(fontExistsLocally){this.dialog.add(ConfirmationDialog,{title:_t("Font exists"),body:_t("This uploaded font already exists.\nTo replace an existing font, remove it first."),});return;}
const homonymGoogleFontExists=this.props.googleFonts.some((font)=>font===uploadedFontName)||this.props.googleLocalFonts.some((font)=>font.split(":")[0]===`'${uploadedFontName}'`);if(homonymGoogleFontExists){this.dialog.add(ConfirmationDialog,{title:_t("Font name already used"),body:_t("A font with the same name already exists.\nTry renaming the uploaded file."),});return;}
const[fontCssId]=await this.orm.call("ir.attachment","create_unique",[[{name:uploadedFontName,description:`CSS font face for ${uploadedFontName}`,datas:btoa(uploadedFontFaces),res_model:"ir.attachment",mimetype:"text/css",public:true,},],]);this.props.uploadedLocalFonts.push(`'${uploadedFontName}': ${fontCssId}`);font=uploadedFontName;}else{let isValidFamily=false;font=state.googleFontFamily;try{const result=await fetch("https://fonts.googleapis.com/css?family="+
encodeURIComponent(font)+":300,300i,400,400i,700,700i",{method:"HEAD"});if(result.ok){isValidFamily=true;}}catch(error){console.error(error);}
if(!isValidFamily){this.dialog.add(ConfirmationDialog,{title:_t("Font access"),body:_t("The selected font cannot be accessed."),});return;}
const googleFontServe=state.googleServe;const fontName=`'${font}'`;const fontExistsLocally=this.props.googleLocalFonts.some((localFont)=>localFont.split(":")[0]===fontName);const fontExistsOnServer=this.props.allFonts.includes(fontName);const preventFontAddition=fontExistsLocally||(fontExistsOnServer&&googleFontServe);if(preventFontAddition){this.dialog.add(ConfirmationDialog,{title:_t("Font exists"),body:_t("This font already exists, you can only add it as a local font to replace the server version."),});return;}
if(googleFontServe){this.props.googleFonts.push(font);}else{this.props.googleLocalFonts.push(`'${font}': ''`);}}
await this.props.customize({values:{[this.props.variable]:`'${font}'`},googleFonts:this.props.googleFonts,googleLocalFonts:this.props.googleLocalFonts,uploadedLocalFonts:this.props.uploadedLocalFonts,});const styleEl=document.head.querySelector(`[id='WebsiteThemeFontPreview-${font}']`);if(styleEl){delete styleEl.dataset.fontPreview;}
await this.props.reloadEditor();return true;}}
__exports.showAddFontDialog=showAddFontDialog;function showAddFontDialog(dialog,fontsData,variable,customize,reloadEditor){dialog.add(AddFontDialog,{allFonts:fontsData.allFonts,googleFonts:fontsData.googleFonts,googleLocalFonts:fontsData.googleLocalFonts,uploadedLocalFonts:fontsData.uploadedLocalFonts,variable,customize,reloadEditor,},{onClose:()=>{for(const el of document.head.querySelectorAll("[data-font-preview]")){el.remove();}},});}
return __exports;});;

/* /website/static/src/builder/plugins/font/font_plugin.js */
odoo.define('@website/builder/plugins/font/font_plugin',['@web/core/registry','@html_builder/utils/utils_css','@html_editor/plugin','@website/builder/plugins/font/add_font_dialog'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{showAddFontDialog}=require("@website/builder/plugins/font/add_font_dialog");class WebsiteFontPlugin extends Plugin{static id="websiteFont";static shared=["addFont","deleteFont"];static dependencies=["savePlugin","builderFont","customizeWebsite"];async addFont(variable){const fontsData=await this.dependencies.builderFont.getFontsData();showAddFontDialog(this.services.dialog,fontsData,variable,this.customizeFonts.bind(this),this.config.reloadEditor);}
async customizeFonts({values={},googleFonts,googleLocalFonts,uploadedLocalFonts}){if(googleFonts.length){values["google-fonts"]="('"+googleFonts.join("', '")+"')";}else{values["google-fonts"]="null";}
if(googleLocalFonts.length){values["google-local-fonts"]="("+googleLocalFonts.join(", ")+")";}else{values["google-local-fonts"]="null";}
if(uploadedLocalFonts.length){values["uploaded-local-fonts"]="("+uploadedLocalFonts.join(", ")+")";}else{values["uploaded-local-fonts"]="null";}
await this.dependencies.customizeWebsite.makeSCSSCusto("/website/static/src/scss/options/user_values.scss",values);this.dependencies.builderFont.getFontsCache().invalidate();await this.dependencies.savePlugin.save();}
async deleteFont(font){const{googleFonts,googleLocalFonts,uploadedLocalFonts}=await this.dependencies.builderFont.getFontsData();const values={};const fontIndex=font.indexForType;const localFont=font.type;let fontName;if(localFont==="uploaded"){const font=uploadedLocalFonts[fontIndex].split(":");fontName=font[0].substring(1,font[0].length-1);values["delete-font-attachment-id"]=font[1];uploadedLocalFonts.splice(fontIndex,1);}else if(localFont==="google"){const googleFont=googleLocalFonts[fontIndex].split(":");fontName=googleFont[0].substring(1,googleFont[0].length-1);values["delete-font-attachment-id"]=googleFont[1];googleLocalFonts.splice(fontIndex,1);}else{fontName=googleFonts[fontIndex];googleFonts.splice(fontIndex,1);}
const style=window.getComputedStyle(this.document.documentElement);this.getResource("fontCssVariables").forEach((variable)=>{const value=getCSSVariableValue(variable,style);if(value.substring(1,value.length-1)===fontName){values[variable]="null";}});await this.customizeFonts({values:values,googleFonts:googleFonts,googleLocalFonts:googleLocalFonts,uploadedLocalFonts:uploadedLocalFonts,});this.config.reloadEditor();}}
registry.category("website-plugins").add(WebsiteFontPlugin.id,WebsiteFontPlugin);return __exports;});;

/* /website/static/src/builder/plugins/font_awesome_option_plugin.js */
odoo.define('@website/builder/plugins/font_awesome_option_plugin',['@html_editor/plugin','@web/core/registry','@html_builder/core/core_builder_action_plugin','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");const{withSequence}=require("@html_editor/utils/resource");const{FONT_AWESOME}=require("@html_builder/utils/option_sequence");class FontAwesomeOptionPlugin extends Plugin{static id="fontAwesomeOptionPlugin";resources={builder_options:[withSequence(FONT_AWESOME,{template:"website.FontAwesomeOption",selector:"span.fa, i.fa",exclude:"[data-oe-xpath]",}),],builder_actions:{FaResizeAction,},};}
const FaResizeAction=__exports.FaResizeAction=class FaResizeAction extends ClassAction{static id="faResize";apply(context){const{editingElement}=context;editingElement.classList.remove("fa-1x","fa-lg");super.apply(context);}}
registry.category("website-plugins").add(FontAwesomeOptionPlugin.id,FontAwesomeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/form/form_action_fields_option.js */
odoo.define('@website/builder/plugins/form/form_action_fields_option',['@odoo/owl','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{BaseOptionComponent}=require("@html_builder/core/utils");const FormActionFieldsOption=__exports.FormActionFieldsOption=class FormActionFieldsOption extends BaseOptionComponent{static template="website.s_website_form_form_action_fields_option";static props={activeForm:Object,prepareFormModel:Function,};setup(){super.setup();this.state=useState({formInfo:{fields:[],},});onWillStart(this.getFormInfo.bind(this));onWillUpdateProps(this.getFormInfo.bind(this));}
async getFormInfo(props=this.props){const el=this.env.getEditingElement();const formInfo=await props.prepareFormModel(el,props.activeForm);Object.assign(this.state.formInfo,{fields:[],formFields:[],successPage:undefined,},formInfo);}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_field_option.js */
odoo.define('@website/builder/plugins/form/form_field_option',['@html_builder/core/utils','@odoo/owl','@website/builder/plugins/form/form_action_fields_option','@website/builder/plugins/form/form_model_required_field_alert','@website/builder/plugins/form/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{FormActionFieldsOption}=require("@website/builder/plugins/form/form_action_fields_option");const{FormModelRequiredFieldAlert}=require("@website/builder/plugins/form/form_model_required_field_alert");const{getDependencyEl,getFieldName,getMultipleInputs,isFieldCustom}=require("@website/builder/plugins/form/utils");const FormFieldOption=__exports.FormFieldOption=class FormFieldOption extends BaseOptionComponent{static template="website.s_website_form_field_option";static props={fetchModels:Function,loadFieldOptionData:Function,redrawSequence:{type:Number,optional:true},};static components={FormActionFieldsOption,FormModelRequiredFieldAlert};setup(){super.setup();this.state=useState({availableFields:[],conditionInputs:[],conditionValueList:[],dependencyEl:null,valueList:null,});this.domState=useDomState((el)=>{const modelName=el.closest("form")?.dataset.model_name;const fieldName=getFieldName(el);return{elDataset:{...el.dataset},elClassList:[...el.classList],fieldName,modelName,};});this.domStateDependency=useDomState((el)=>{const dependencyEl=getDependencyEl(el);if(!dependencyEl){return{type:"",nodeName:"",isRecordField:false,isFormDate:false,isFormDateTime:false,hasDateTimePicker:false,};}
return{type:dependencyEl.type,nodeName:dependencyEl.nodeName,isRecordField:dependencyEl.closest(".s_website_form_field")?.dataset.type==="record",isFormDate:!!dependencyEl.closest(".s_website_form_date"),isFormDateTime:!!dependencyEl.closest(".s_website_form_datetime"),hasDateTimePicker:dependencyEl.classList.contains("datetimepicker-input"),};});onWillStart(async()=>{const el=this.env.getEditingElement();const fieldOptionData=await this.props.loadFieldOptionData(el);this.state.availableFields.push(...fieldOptionData.availableFields);this.state.conditionInputs.push(...fieldOptionData.conditionInputs);this.state.valueList=fieldOptionData.valueList;this.state.conditionValueList.push(...fieldOptionData.conditionValueList);});onWillUpdateProps(async(props)=>{const el=this.env.getEditingElement();const fieldOptionData=await props.loadFieldOptionData(el);this.state.availableFields.length=0;this.state.availableFields.push(...fieldOptionData.availableFields);this.state.conditionInputs.length=0;this.state.conditionInputs.push(...fieldOptionData.conditionInputs);this.state.valueList=fieldOptionData.valueList;this.state.conditionValueList.length=0;this.state.conditionValueList.push(...fieldOptionData.conditionValueList);});}
get isTextConditionValueVisible(){const el=this.env.getEditingElement();const dependencyEl=getDependencyEl(el);if(!el.classList.contains("s_website_form_field_hidden_if")||(dependencyEl&&(["checkbox","radio"].includes(dependencyEl.type)||dependencyEl.nodeName==="SELECT"))){return false;}
if(!dependencyEl){return true;}
if(dependencyEl?.classList.contains("datetimepicker-input")){return false;}
return((["text","email","tel","url","search","password","number"].includes(dependencyEl.type)||dependencyEl.nodeName==="TEXTAREA")&&!["set","!set"].includes(el.dataset.visibilityComparator));}
get isTextConditionOperatorVisible(){const el=this.env.getEditingElement();const dependencyEl=getDependencyEl(el);if(!el.classList.contains("s_website_form_field_hidden_if")||dependencyEl?.classList.contains("datetimepicker-input")){return false;}
return(!dependencyEl||["text","email","tel","url","search","password"].includes(dependencyEl.type)||dependencyEl.nodeName==="TEXTAREA");}
get isExisingFieldSelectType(){const el=this.env.getEditingElement();return!isFieldCustom(el)&&["selection","many2one"].includes(el.dataset.type);}
get isMultipleInputs(){const el=this.env.getEditingElement();return!!getMultipleInputs(el);}
get isMaxFilesVisible(){const el=this.env.getEditingElement();const fieldEl=el.closest(".s_website_form_field");return(fieldEl.classList.contains("s_website_form_custom")||["one2many","many2many"].includes(fieldEl.dataset.type));}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_field_option_redraw.js */
odoo.define('@website/builder/plugins/form/form_field_option_redraw',['@html_builder/core/utils','@website/builder/plugins/form/form_field_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{FormFieldOption}=require("@website/builder/plugins/form/form_field_option");const FormFieldOptionRedraw=__exports.FormFieldOptionRedraw=class FormFieldOptionRedraw extends BaseOptionComponent{static template="website.s_website_form_field_option_redraw";static props=FormFieldOption.props;static components={FormFieldOption};setup(){super.setup();this.count=0;this.domState=useDomState((el)=>{this.count++;return{redrawSequence:this.count++,};});}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_model_required_field_alert.js */
odoo.define('@website/builder/plugins/form/form_model_required_field_alert',['@odoo/owl','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{Component,onWillStart,onWillUpdateProps,useState}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const FormModelRequiredFieldAlert=__exports.FormModelRequiredFieldAlert=class FormModelRequiredFieldAlert extends Component{static template="website.s_website_form_model_required_field_alert";static props={fieldName:String,modelName:String,fetchModels:Function,};setup(){this.state=useState({message:undefined,});onWillStart(async()=>this.handleProps(this.props));onWillUpdateProps(async(props)=>this.handleProps(props));}
async handleProps(props){const el=this.env.getEditingElement();const models=await props.fetchModels(el);const model=models.find((model)=>model.model===props.modelName);const actionName=model?.website_form_label||props.modelName;this.state.message=_t("The field “%(field)s” is mandatory for the action “%(action)s”.",{field:props.fieldName,action:actionName,});}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_option.js */
odoo.define('@website/builder/plugins/form/form_option',['@html_builder/core/utils','@website/builder/plugins/form/utils','@website/builder/plugins/form/form_action_fields_option','@web/session'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{getModelName,getParsedDataFor}=require("@website/builder/plugins/form/utils");const{FormActionFieldsOption}=require("@website/builder/plugins/form/form_action_fields_option");const{session}=require("@web/session");const FormOption=__exports.FormOption=class FormOption extends BaseOptionComponent{static template="website.s_website_form_form_option";static props={fetchModels:Function,prepareFormModel:Function,fetchFieldRecords:Function,applyFormModel:Function,};static components={FormActionFieldsOption};setup(){super.setup();this.hasRecaptchaKey=!!session.recaptcha_public_key;const el=this.env.getEditingElement();this.messageEl=el.parentElement.querySelector(".s_website_form_end_message");this.showEndMessage=false;const formId=el.id;const dataForValues=getParsedDataFor(formId,el.ownerDocument);if(dataForValues){this.dataForEmailTo=dataForValues["email_to"];}
this.state=useDomState(async(el)=>{const modelName=getModelName(el);this.modelCantChange=!!el.getAttribute("hide-change-model");const models=await this.props.fetchModels(el);const activeForm=models.find((m)=>m.model===modelName);if(!el.dataset.model_name){const formInfo=await this.props.prepareFormModel(el,activeForm);this.props.applyFormModel(el,activeForm,activeForm.id,formInfo);}
return{models,activeForm,};});}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_option_add_field_button.js */
odoo.define('@website/builder/plugins/form/form_option_add_field_button',['@html_builder/core/operation_plugin','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{useOperation}=require("@html_builder/core/operation_plugin");const{BaseOptionComponent}=require("@html_builder/core/utils");const FormOptionAddFieldButton=__exports.FormOptionAddFieldButton=class FormOptionAddFieldButton extends BaseOptionComponent{static template="website.s_website_form_form_option_add_field_button";static props={addField:Function,tooltip:String,};setup(){this.callOperation=useOperation();}
addField(){this.callOperation(()=>{this.props.addField(this.env.getEditingElement());});}}
return __exports;});;

/* /website/static/src/builder/plugins/form/form_option_plugin.js */
odoo.define('@website/builder/plugins/form/form_option_plugin',['@web/core/registry','@web/core/utils/cache','@html_editor/plugin','@odoo/owl','@web/core/confirmation_dialog/confirmation_dialog','@web/core/utils/urls','@website/builder/plugins/form/form_field_option_redraw','@website/builder/plugins/form/form_option_add_field_button','@website/builder/plugins/form/utils','@html_builder/utils/sync_cache','@web/core/l10n/translation','@web/core/utils/render','@html_editor/utils/dom_traversal','@html_builder/core/builder_action','@website/builder/plugins/form/form_option'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Cache}=require("@web/core/utils/cache");const{Plugin}=require("@html_editor/plugin");const{reactive}=require("@odoo/owl");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{redirect}=require("@web/core/utils/urls");const{FormFieldOptionRedraw}=require("@website/builder/plugins/form/form_field_option_redraw");const{FormOptionAddFieldButton}=require("@website/builder/plugins/form/form_option_add_field_button");const{deleteConditionalVisibility,findCircular,getActiveField,getCustomField,getDefaultFormat,getDependencyEl,getDomain,getFieldFormat,getFieldName,getFieldType,getLabelPosition,getMark,getModelName,getMultipleInputs,getNewRecordId,getQuotesEncodedName,getSelect,isFieldCustom,isOptionalMark,isRequiredMark,renderField,replaceFieldElement,setActiveProperties,setVisibilityDependency,getParsedDataFor,}=require("@website/builder/plugins/form/utils");const{SyncCache}=require("@html_builder/utils/sync_cache");const{_t}=require("@web/core/l10n/translation");const{renderToElement}=require("@web/core/utils/render");const{selectElements}=require("@html_editor/utils/dom_traversal");const{BuilderAction}=require("@html_builder/core/builder_action");const{FormOption}=require("@website/builder/plugins/form/form_option");const DEFAULT_EMAIL_TO_VALUE="info@yourcompany.example.com";const FormOptionPlugin=__exports.FormOptionPlugin=class FormOptionPlugin extends Plugin{static id="websiteFormOption";static dependencies=["builderActions","builderOptions","savePlugin"];static shared=["prepareFormModel","getModelsCache","applyFormModel","addHiddenField","fetchAuthorizedFields","prepareFields","replaceField","prepareConditionInputs","setLabelsMark",];resources={builder_header_middle_buttons:[{Component:FormOptionAddFieldButton,selector:".s_website_form",applyTo:"form",props:{addField:(formEl)=>this.addFieldToForm(formEl),tooltip:_t("Add a new field at the end"),},},{Component:FormOptionAddFieldButton,selector:".s_website_form_field",exclude:".s_website_form_dnone",props:{addField:(fieldEl)=>this.addFieldAfterField(fieldEl),tooltip:_t("Add a new field after this one"),},},],clone_disabled_reason_providers:({el,reasons})=>{if(el.classList.contains("s_website_form_field")&&!el.classList.contains("s_website_form_custom")){reasons.push(_t("You cannot duplicate this field."));}
if(el.classList.contains("s_website_form_submit")){reasons.push(_t("You can't duplicate the submit button of the form."));}},remove_disabled_reason_providers:({el,reasons})=>{if(el.classList.contains("s_website_form_model_required")){reasons.push(_t("This field is mandatory for this action. You cannot remove it. Try hiding it with the 'Visibility' option instead and add it a default value."));}
if(el.classList.contains("s_website_form_submit")){reasons.push(_t("You can't remove the submit button of the form"));}},builder_options:[{OptionComponent:FormOption,props:{fetchModels:this.fetchModels.bind(this),prepareFormModel:this.prepareFormModel.bind(this),fetchFieldRecords:this.fetchFieldRecords.bind(this),applyFormModel:this.applyFormModel.bind(this),},selector:".s_website_form",applyTo:"form",cleanForSave:this.whitelistForms.bind(this),},{OptionComponent:FormFieldOptionRedraw,props:{fetchModels:this.fetchModels.bind(this),loadFieldOptionData:this.loadFieldOptionData.bind(this),},selector:".s_website_form_field",exclude:".s_website_form_dnone",},{template:"website.s_website_form_submit_option",selector:".s_website_form_submit",exclude:".s_website_form_no_submit_options",},],builder_actions:{SelectAction,AddActionFieldAction,PromptSaveRedirectAction,UpdateLabelsMarkAction,SetMarkAction,OnSuccessAction,ToggleEndMessageAction,FormToggleRecaptchaLegalAction,CustomFieldAction,ExistingFieldAction,SelectTypeAction,ExistingFieldSelectTypeAction,MultiCheckboxDisplayAction,SetLabelTextAction,SelectLabelPositionAction,ToggleDescriptionAction,SelectTextareaValueAction,ToggleRequiredAction,SetVisibilityAction,SetVisibilityDependencyAction,SetFormCustomFieldValueListAction,},system_classes:["o_builder_form_show_message"],normalize_handlers:(el)=>{for(const formEl of el.querySelectorAll(".s_website_form form")){formEl.contentEditable="false";const formEditableSelector=[".s_website_form_send",".s_website_form_field_description",".s_website_form_recaptcha",".row > div:not(.s_website_form_field, .s_website_form_submit, .s_website_form_field *, .s_website_form_submit *)",].map((selector)=>`:scope ${selector}`).join(", ");for(const formEditableEl of formEl.querySelectorAll(formEditableSelector)){formEditableEl.contentEditable="true";}}},clean_for_save_handlers:({root:el})=>{for(const formEl of el.querySelectorAll(".s_website_form form")){formEl.removeAttribute("contenteditable");}},dropzone_selector:[{selector:".s_website_form",excludeAncestor:"form",},{selector:".s_website_form_field, .s_website_form_submit",exclude:".s_website_form_dnone",dropNear:".s_website_form_field",dropLockWithin:"form",},],so_content_addition_selector:[".s_website_form"],};setup(){this.modelsCache=new SyncCache(this._fetchModels.bind(this));this.fieldRecordsCache=new SyncCache(this._fetchFieldRecords.bind(this));this.authorizedFieldsCache=new Cache(this._fetchAuthorizedFields.bind(this),({cacheKey})=>cacheKey);this.visibilityConditionCachedRecords=new Cache(this._getVisibilityConditionCachedRecords.bind(this),JSON.stringify);}
destroy(){super.destroy();this.modelsCache.invalidate();this.fieldRecordsCache.invalidate();this.authorizedFieldsCache.invalidate();this.visibilityConditionCachedRecords.invalidate();}
getModelsCache(formEl){return this.modelsCache.get();}
async fetchModels(formEl){return this.modelsCache.preload();}
async _fetchModels(){return await this.services.orm.call("ir.model","get_compatible_form_models");}
async fetchFieldRecords(field){return this.fieldRecordsCache.preload(field);}
async _fetchFieldRecords(field){if(!field){return;}
field.required=field.required?1:null;if(field.records){return field.records;}
if(field._property&&field.type==="tags"){field.records=field.tags.map((tag)=>({id:tag[0].replaceAll("\\","\\/").replaceAll(",","\\,"),display_name:tag[1],}));}else if(field._property&&field.comodel){field.records=await this.services.orm.searchRead(field.comodel,field.domain||[],["display_name",]);}else if(field.type==="selection"){field.records=field.selection.map((el)=>({id:el[0],display_name:el[1],}));}else if(field.relation&&field.relation!=="ir.attachment"){const fieldNames=field.fieldName?[field.fieldName]:["display_name"];field.records=await this.services.orm.searchRead(field.relation,field.domain||[],fieldNames);if(field.fieldName){field.records.forEach((r)=>(r["display_name"]=r[field.fieldName]));}}
return field.records;}
async prepareFormModel(el,activeForm){const formKey=activeForm?.website_form_key;const formInfo=registry.category("website.form_editor_actions").get(formKey,null);if(formInfo){const formatInfo=getDefaultFormat(el);await Promise.all(formInfo.formFields.map((field)=>{field.formatInfo=formatInfo;return this.fetchFieldRecords(field);}));await this.fetchFormInfoFields(formInfo);}
return formInfo;}
addHiddenField(el,value,fieldName){for(const hiddenEl of el.querySelectorAll(`.s_website_form_dnone:has(input[name="${fieldName}"])`)){hiddenEl.remove();}
if(fieldName==="email_to"&&!value&&!this.dataForEmailTo){value=DEFAULT_EMAIL_TO_VALUE;}
if(value||fieldName==="email_to"){const hiddenField=renderToElement("website.form_field_hidden",{field:{name:fieldName,value:value,dnone:true,formatInfo:{},},});el.querySelector(".s_website_form_submit").insertAdjacentElement("beforebegin",hiddenField);}}
applyFormModel(el,activeForm,modelId,formInfo){let oldFormInfo;if(modelId){const oldFormKey=activeForm.website_form_key;if(oldFormKey){oldFormInfo=registry.category("website.form_editor_actions").get(oldFormKey,null);}
for(const fieldEl of el.querySelectorAll(".s_website_form_field")){fieldEl.remove();}
activeForm=this.getModelsCache(el).find((model)=>model.id===modelId);}
if(!el.dataset.successMode){el.dataset.successMode="redirect";}
if(el.dataset.successMode==="redirect"){const currentSuccessPage=el.dataset.successPage;if(formInfo&&formInfo.successPage){el.dataset.successPage=formInfo.successPage;}else if(!oldFormInfo||(oldFormInfo!==formInfo&&oldFormInfo.successPage&&currentSuccessPage===oldFormInfo.successPage)){el.dataset.successPage="/contactus-thank-you";}}
el.dataset.model_name=activeForm.model;if(formInfo){const formatInfo=getDefaultFormat(el);formInfo.formFields.forEach((field)=>{field.formatInfo=formatInfo;const locationEl=el.querySelector(".s_website_form_submit, .s_website_form_recaptcha");locationEl.insertAdjacentElement("beforebegin",renderField(field));});}}
async fetchFormInfoFields(formInfo){if(formInfo.fields){const proms=formInfo.fields.map((field)=>this.fetchFieldRecords(field));await Promise.all(proms);}}
async fetchAuthorizedFields(formEl){const model=formEl.dataset.model_name;const propertyOrigins={};const parts=[model];for(const hiddenInputEl of[...formEl.querySelectorAll("input[type=hidden]")].sort((firstEl,secondEl)=>firstEl.name.localeCompare(secondEl.name))){parts.push(hiddenInputEl.name);parts.push(hiddenInputEl.value);propertyOrigins[hiddenInputEl.name]=hiddenInputEl.value;}
const cacheKey=parts.join("/");return this.authorizedFieldsCache.read({cacheKey,model,propertyOrigins});}
async _fetchAuthorizedFields({cacheKey,model,propertyOrigins}){return this.services.orm.call("ir.model","get_authorized_fields",[model,propertyOrigins,]);}
async _getVisibilityConditionCachedRecords(model,domain,fields,kwargs={}){return this.services.orm.searchRead(model,domain,fields,{...kwargs,limit:1000,});}
async whitelistForms(el){for(const sigEl of el.querySelectorAll("input[name=website_form_signature]")){sigEl.remove();}
for(const formEl of selectElements(el,".s_website_form form[data-model_name]")){const model=formEl.dataset.model_name;const fields=[...formEl.querySelectorAll(".s_website_form_field:not(.s_website_form_custom) .s_website_form_input"),].map((el)=>el.name);if(fields.length){this.services.orm.call("ir.model.fields","formbuilder_whitelist",[model,[...new Set(fields)],]);}}}
setLabelsMark(formEl){formEl.querySelectorAll(".s_website_form_mark").forEach((el)=>el.remove());const mark=getMark(formEl);if(!mark){return;}
let fieldsToMark=[];const requiredSelector=".s_website_form_model_required, .s_website_form_required";const fields=Array.from(formEl.querySelectorAll(".s_website_form_field"));if(isRequiredMark(formEl)){fieldsToMark=fields.filter((el)=>el.matches(requiredSelector));}else if(isOptionalMark(formEl)){fieldsToMark=fields.filter((el)=>!el.matches(requiredSelector));}
fieldsToMark.forEach((field)=>{const span=document.createElement("span");span.classList.add("s_website_form_mark");span.textContent=` ${mark}`;field.querySelector(".s_website_form_label").appendChild(span);});}
addFieldToForm(formEl){const field=getCustomField("char",_t("Custom Text"));field.formatInfo=getDefaultFormat(formEl);const fieldEl=renderField(field);const locationEl=formEl.querySelector(".s_website_form_submit, .s_website_form_recaptcha");locationEl.insertAdjacentElement("beforebegin",fieldEl);this.dependencies["builderOptions"].updateContainers(fieldEl);}
addFieldAfterField(fieldEl){const formEl=fieldEl.closest("form");const field=getCustomField("char",_t("Custom Text"));field.formatInfo=getFieldFormat(fieldEl);field.formatInfo.requiredMark=isRequiredMark(formEl);field.formatInfo.optionalMark=isOptionalMark(formEl);field.formatInfo.mark=getMark(formEl);const newFieldEl=renderField(field);fieldEl.insertAdjacentElement("afterend",newFieldEl);this.dependencies["builderOptions"].updateContainers(newFieldEl);}
async prepareFields({editingElement:fieldEl,value}){const fieldOptionData=await this.loadFieldOptionData(fieldEl);const fieldName=getFieldName(fieldEl);const field=fieldOptionData.fields[fieldName];await this.fetchFieldRecords(field);if(fieldOptionData.fields[value]){await this.fetchFieldRecords(fieldOptionData.fields[value]);}
return fieldOptionData.fields;}
async prepareConditionInputs({editingElement:fieldEl,value}){const fieldOptionData=await this.loadFieldOptionData(fieldEl);const fieldName=getFieldName(fieldEl);const field=fieldOptionData.fields[fieldName];await this.fetchFieldRecords(field);if(fieldOptionData.fields[value]){await this.fetchFieldRecords(fieldOptionData.fields[value]);}
return fieldOptionData.conditionInputs;}
replaceField(oldFieldEl,field,fields){const activeField=getActiveField(oldFieldEl,{fields});if(activeField.type!==field.type){field.value="";}
const targetEl=oldFieldEl.querySelector(".s_website_form_input");if(targetEl){if(["checkbox","radio"].includes(targetEl.getAttribute("type"))){field.id=targetEl.id.slice(0,-1);}else{field.id=targetEl.id;}}
const fieldEl=renderField(field);replaceFieldElement(oldFieldEl,fieldEl);}
async loadFieldOptionData(fieldEl){const formEl=fieldEl.closest("form");const fields={};const existingFields=await this.fetchAuthorizedFields(formEl).then((fieldsFromCache)=>{for(const[fieldName,field]of Object.entries(fieldsFromCache)){field.name=fieldName;const fieldDomain=getDomain(formEl,field.name,field.type,field.relation);field.domain=fieldDomain||field.domain||[];fields[fieldName]=field;}
return Object.keys(fieldsFromCache).map((key)=>{const field=fieldsFromCache[key];return{name:field.name,string:field.string,};}).sort((a,b)=>a.string.localeCompare(b.string,undefined,{numeric:true,sensitivity:"base",}));});const existingDependencyNames=[];const conditionInputs=[];for(const el of formEl.querySelectorAll(".s_website_form_field")){const inputEl=el.querySelector(".s_website_form_input");if(el.querySelector(".s_website_form_label_content")&&inputEl&&inputEl.name&&inputEl.name!==fieldEl.querySelector(".s_website_form_input").name&&!existingDependencyNames.includes(inputEl.name)&&!findCircular(el,fieldEl)){conditionInputs.push({name:inputEl.name,textContent:el.querySelector(".s_website_form_label_content").textContent,});existingDependencyNames.push(inputEl.name);}}
const comparator=fieldEl.dataset.visibilityComparator;const dependencyEl=getDependencyEl(fieldEl);const conditionValueList=[];if(dependencyEl){const containerEl=dependencyEl.closest(".s_website_form_field");const fieldType=containerEl?.dataset.type;if(["radio","checkbox"].includes(dependencyEl.type)||dependencyEl.nodeName==="SELECT"||fieldType==="record"){const inputContainerEl=fieldEl;if(dependencyEl.nodeName==="SELECT"){for(const option of dependencyEl.querySelectorAll("option")){conditionValueList.push({value:option.value,textContent:option.textContent||`<${_t("no value")}>`,});}
if(!inputContainerEl.dataset.visibilityCondition){inputContainerEl.dataset.visibilityCondition=dependencyEl.querySelector("option").value;}}else if(fieldType==="record"){const model=containerEl.dataset.model;const idField=containerEl.dataset.idField||"id";const displayNameField=containerEl.dataset.displayNameField||"display_name";const records=await this.visibilityConditionCachedRecords.read(model,[],[idField,displayNameField]);for(const record of records){conditionValueList.push({value:String(record[idField]),textContent:record[displayNameField],});}
if(!inputContainerEl.dataset.visibilityCondition){inputContainerEl.dataset.visibilityCondition=String(records[0]?.[idField]);}}else{const dependencyContainerEl=dependencyEl.closest(".s_website_form_field");const inputsInDependencyContainer=dependencyContainerEl.querySelectorAll(".s_website_form_input");for(const el of inputsInDependencyContainer){conditionValueList.push({value:el.value,textContent:el.value,});}
if(!inputContainerEl.dataset.visibilityCondition){inputContainerEl.dataset.visibilityCondition=inputsInDependencyContainer[0].value;}}
if(!inputContainerEl.dataset.visibilityComparator){inputContainerEl.dataset.visibilityComparator="selected";}}
if(!comparator){if(dependencyEl.dataset.target){fieldEl.dataset.visibilityComparator="after";}else if(["text","email","tel","url","search","password","number"].includes(dependencyEl.type)||dependencyEl.nodeName==="TEXTAREA"){fieldEl.dataset.visibilityComparator="equal";}else if(dependencyEl.type==="file"){fieldEl.dataset.visibilityComparator="fileSet";}}}
const currentFieldName=getFieldName(fieldEl);const fieldsInForm=Array.from(formEl.querySelectorAll(".s_website_form_field:not(.s_website_form_custom) .s_website_form_input")).map((el)=>el.name).filter((el)=>el!==currentFieldName);const availableFields=existingFields.filter((field)=>!fieldsInForm.includes(field.name));const selectEl=getSelect(fieldEl);const multipleInputsEl=getMultipleInputs(fieldEl);let valueList=undefined;if(selectEl||multipleInputsEl){const field=Object.assign({},fields[getFieldName(fieldEl)]);const type=getFieldType(fieldEl);const[optionText,checkType]=selectEl?[_t("Option"),"exclusive_boolean"]:type==="selection"?[_t("Radio"),"exclusive_boolean"]:[_t("Checkbox"),"boolean"];const defaults=[...fieldEl.querySelectorAll("[checked], [selected]")].map((el)=>/^-?[0-9]{1,15}$/.test(el.value)?parseInt(el.value):el.value);let availableRecords=undefined;if(!isFieldCustom(fieldEl)){await this.fetchFieldRecords(field);availableRecords=JSON.stringify(field.records);}
valueList=reactive({title:_t("%s List",optionText),addItemTitle:_t("Add New %s",optionText),checkType,defaultItemName:_t("Item"),hasDefault:["one2many","many2many"].includes(type)?"multiple":"unique",defaults:JSON.stringify(defaults),availableRecords:availableRecords,newRecordId:isFieldCustom(fieldEl)?getNewRecordId(fieldEl):"",});}
return{fields,existingFields,conditionInputs,availableFields,valueList,conditionValueList,};}}
const SelectAction=__exports.SelectAction=class SelectAction extends BuilderAction{static id="selectAction";static dependencies=["websiteFormOption"];async load({editingElement:el,value:modelId}){const modelCantChange=!!el.getAttribute("hide-change-model");if(modelCantChange){return;}
const activeForm=this.dependencies.websiteFormOption.getModelsCache(el).find((model)=>model.id===parseInt(modelId));return{formInfo:await this.dependencies.websiteFormOption.prepareFormModel(el,activeForm),};}
apply({editingElement:el,value:modelId,loadResult}){if(!loadResult){return;}
const models=this.dependencies.websiteFormOption.getModelsCache(el);const targetModelName=getModelName(el);const activeForm=models.find((m)=>m.model===targetModelName);this.dependencies.websiteFormOption.applyFormModel(el,activeForm,parseInt(modelId),loadResult.formInfo);}
isApplied({editingElement:el,value:modelId}){const models=this.dependencies.websiteFormOption.getModelsCache(el);const targetModelName=getModelName(el);const activeForm=models.find((m)=>m.model===targetModelName);return parseInt(modelId)===activeForm.id;}}
const AddActionFieldAction=__exports.AddActionFieldAction=class AddActionFieldAction extends BuilderAction{static id="addActionField";static dependencies=["websiteFormOption"];async load({editingElement:el}){return this.dependencies.websiteFormOption.fetchAuthorizedFields(el);}
apply({editingElement:el,value,params,loadResult:authorizedFields}){for(const[fieldName,field]of Object.entries(authorizedFields)){if(field._property){for(const inputEl of el.querySelectorAll(`[name="${fieldName}"]`)){inputEl.closest(".s_website_form_field").remove();}}}
const fieldName=params.fieldName;if(params.isSelect==="true"){value=parseInt(value);}
this.dependencies.websiteFormOption.addHiddenField(el,value,fieldName);}
getValue({editingElement:el,params}){const value=el.querySelector(`.s_website_form_dnone input[name="${params.fieldName}"]`)?.value;if(params.fieldName==="email_to"){if(value&&value!==DEFAULT_EMAIL_TO_VALUE){return value;}
const formId=el.id;const dataForValues=getParsedDataFor(formId,el.ownerDocument);return dataForValues?.["email_to"]||DEFAULT_EMAIL_TO_VALUE;}
if(value){return value;}else{return params.isSelect?"0":"";}}
isApplied({editingElement,params,value}){const currentValue=this.getValue({editingElement,params,});return currentValue===value;}}
const PromptSaveRedirectAction=__exports.PromptSaveRedirectAction=class PromptSaveRedirectAction extends BuilderAction{static id="promptSaveRedirect";static dependencies=["savePlugin"];apply({params:{mainParam}}){const redirectToAction=(action)=>{redirect(`/odoo/action-${encodeURIComponent(action)}`);};new Promise((resolve)=>{const message=_t("You are about to be redirected. Your changes will be saved.");this.services.dialog.add(ConfirmationDialog,{body:message,confirmLabel:_t("Save and Redirect"),confirm:async()=>{await this.dependencies.savePlugin.save();await this.config.closeEditor();redirectToAction(mainParam);resolve();},cancel:()=>resolve(),});});}}
const UpdateLabelsMarkAction=__exports.UpdateLabelsMarkAction=class UpdateLabelsMarkAction extends BuilderAction{static id="updateLabelsMark";static dependencies=["websiteFormOption"];apply({editingElement:el}){this.dependencies.websiteFormOption.setLabelsMark(el);}
isApplied(){return true;}}
const SetMarkAction=__exports.SetMarkAction=class SetMarkAction extends BuilderAction{static id="setMark";static dependencies=["websiteFormOption"];apply({editingElement:el,value}){el.dataset.mark=value.trim();this.dependencies.websiteFormOption.setLabelsMark(el);}
getValue({editingElement:el}){const mark=getMark(el);return mark;}}
const OnSuccessAction=__exports.OnSuccessAction=class OnSuccessAction extends BuilderAction{static id="onSuccess";apply({editingElement:el,value}){el.dataset.successMode=value;let messageEl=el.parentElement.querySelector(".s_website_form_end_message");if(value==="message"){if(!messageEl){messageEl=renderToElement("website.s_website_form_end_message");el.insertAdjacentElement("afterend",messageEl);}}else{messageEl?.remove();messageEl?.classList.remove("o_builder_form_show_message");el.classList.remove("o_builder_form_show_message");}}
isApplied({editingElement:el,value}){const currentValue=el.dataset.successMode;return currentValue===value;}}
const ToggleEndMessageAction=__exports.ToggleEndMessageAction=class ToggleEndMessageAction extends BuilderAction{static id="toggleEndMessage";apply({editingElement:el}){const messageEl=el.parentElement.querySelector(".s_website_form_end_message");messageEl.classList.add("o_builder_form_show_message");el.classList.add("o_builder_form_show_message");this.dependencies["builderOptions"].updateContainers(messageEl);}
clean({editingElement:el}){const messageEl=el.parentElement.querySelector(".s_website_form_end_message");messageEl.classList.remove("o_builder_form_show_message");el.classList.remove("o_builder_form_show_message");this.dependencies["builderOptions"].updateContainers(el);}
isApplied({editingElement:el,value}){return el.classList.contains("o_builder_form_show_message");}}
const FormToggleRecaptchaLegalAction=__exports.FormToggleRecaptchaLegalAction=class FormToggleRecaptchaLegalAction extends BuilderAction{static id="formToggleRecaptchaLegal";apply({editingElement:el}){const labelWidth=el.querySelector(".s_website_form_label").style.width;const legalEl=renderToElement("website.s_website_form_recaptcha_legal",{labelWidth:labelWidth,});legalEl.setAttribute("contentEditable",true);el.querySelector(".s_website_form_submit").insertAdjacentElement("beforebegin",legalEl);}
clean({editingElement:el}){const recaptchaLegalEl=el.querySelector(".s_website_form_recaptcha");recaptchaLegalEl.remove();}
isApplied({editingElement:el}){const recaptchaLegalEl=el.querySelector(".s_website_form_recaptcha");return!!recaptchaLegalEl;}}
const CustomFieldAction=__exports.CustomFieldAction=class CustomFieldAction extends BuilderAction{static id="customField";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,value,loadResult:fields}){const oldLabelText=fieldEl.querySelector(".s_website_form_label_content").textContent;const field=getCustomField(value,oldLabelText);setActiveProperties(fieldEl,field);this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl,value}){const currentValue=isFieldCustom(fieldEl)?getFieldType(fieldEl):"";return currentValue===value;}}
const ExistingFieldAction=__exports.ExistingFieldAction=class ExistingFieldAction extends BuilderAction{static id="existingField";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,value,loadResult:fields}){const field=fields[value];setActiveProperties(fieldEl,field);this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl,value}){const currentValue=isFieldCustom(fieldEl)?"":getFieldName(fieldEl);return currentValue===value;}}
const SelectTypeAction=__exports.SelectTypeAction=class SelectTypeAction extends BuilderAction{static id="selectType";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,value,loadResult:fields}){const field=getActiveField(fieldEl,{fields});field.type=value;this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl,value}){const currentValue=getFieldType(fieldEl);return currentValue===value;}}
const ExistingFieldSelectTypeAction=__exports.ExistingFieldSelectTypeAction=class ExistingFieldSelectTypeAction extends BuilderAction{static id="existingFieldSelectType";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,value,loadResult:fields}){const field=getActiveField(fieldEl,{fields});field.type=value;this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl,value}){const currentValue=getFieldType(fieldEl);return currentValue===value;}}
const MultiCheckboxDisplayAction=__exports.MultiCheckboxDisplayAction=class MultiCheckboxDisplayAction extends BuilderAction{static id="multiCheckboxDisplay";apply({editingElement:fieldEl,value}){const targetEl=getMultipleInputs(fieldEl);const isHorizontal=value==="horizontal";for(const el of targetEl.querySelectorAll(".checkbox, .radio")){el.classList.toggle("col-lg-4",isHorizontal);el.classList.toggle("col-md-6",isHorizontal);}
targetEl.dataset.display=value;}
isApplied({editingElement:fieldEl,value}){const targetEl=getMultipleInputs(fieldEl);const currentValue=targetEl?targetEl.dataset.display:"";return currentValue===value;}}
const SetLabelTextAction=__exports.SetLabelTextAction=class SetLabelTextAction extends BuilderAction{static id="setLabelText";apply({editingElement:fieldEl,value}){const labelEl=fieldEl.querySelector(".s_website_form_label_content");labelEl.textContent=value;if(isFieldCustom(fieldEl)){value=getQuotesEncodedName(value);const multiple=fieldEl.querySelector(".s_website_form_multiple");if(multiple){multiple.dataset.name=value;}
const inputEls=fieldEl.querySelectorAll(".s_website_form_input");const previousInputName=fieldEl.name;inputEls.forEach((el)=>(el.name=value));const dependentEls=fieldEl.closest("form").querySelectorAll(`.s_website_form_field[data-visibility-dependency="${CSS.escape(
                        previousInputName
                    )}"]`);for(const dependentEl of dependentEls){if(findCircular(fieldEl,dependentEl)){deleteConditionalVisibility(dependentEl);}else{dependentEl.dataset.visibilityDependency=value;}}}}
getValue({editingElement:fieldEl}){const labelEl=fieldEl.querySelector(".s_website_form_label_content");return labelEl.textContent;}}
const SelectLabelPositionAction=__exports.SelectLabelPositionAction=class SelectLabelPositionAction extends BuilderAction{static id="selectLabelPosition";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,value,loadResult:fields}){const field=getActiveField(fieldEl,{fields});field.formatInfo.labelPosition=value;this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl,value}){const currentValue=getLabelPosition(fieldEl);return currentValue===value;}}
const ToggleDescriptionAction=__exports.ToggleDescriptionAction=class ToggleDescriptionAction extends BuilderAction{static id="toggleDescription";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareFields(context);}
apply({editingElement:fieldEl,loadResult:fields,value}){const description=fieldEl.querySelector(".s_website_form_field_description");const hasDescription=!!description;const field=getActiveField(fieldEl,{fields});field.description=!hasDescription;this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
isApplied({editingElement:fieldEl}){const description=fieldEl.querySelector(".s_website_form_field_description");return!!description;}}
const SelectTextareaValueAction=__exports.SelectTextareaValueAction=class SelectTextareaValueAction extends BuilderAction{static id="selectTextareaValue";apply({editingElement:fieldEl,value}){fieldEl.textContent=value;fieldEl.value=value;}
getValue({editingElement:fieldEl}){return fieldEl.textContent;}}
const ToggleRequiredAction=__exports.ToggleRequiredAction=class ToggleRequiredAction extends BuilderAction{static id="toggleRequired";static dependencies=["websiteFormOption"];apply({editingElement:fieldEl,params:{mainParam:activeValue}}){fieldEl.classList.add(activeValue);fieldEl.querySelectorAll("input, select, textarea").forEach((el)=>el.toggleAttribute("required",true));this.dependencies.websiteFormOption.setLabelsMark(fieldEl.closest("form"));}
clean({editingElement:fieldEl,params:{mainParam:activeValue}}){fieldEl.classList.remove(activeValue);fieldEl.querySelectorAll("input, select, textarea").forEach((el)=>el.removeAttribute("required"));this.dependencies.websiteFormOption.setLabelsMark(fieldEl.closest("form"));}
isApplied({editingElement:fieldEl,params:{mainParam:activeValue}}){return fieldEl.classList.contains(activeValue);}}
const SetVisibilityAction=__exports.SetVisibilityAction=class SetVisibilityAction extends BuilderAction{static id="setVisibility";static dependencies=["websiteFormOption"];load(context){return this.dependencies.websiteFormOption.prepareConditionInputs(context);}
apply({editingElement:fieldEl,value,loadResult:conditionInputs}){if(value==="conditional"){for(const conditionInput of conditionInputs){if(conditionInput.name){setVisibilityDependency(fieldEl,conditionInput.name);return;}}
this.services.dialog.add(ConfirmationDialog,{body:_t("There is no field available for this option."),});}
deleteConditionalVisibility(fieldEl);}
isApplied(){return true;}}
const SetVisibilityDependencyAction=__exports.SetVisibilityDependencyAction=class SetVisibilityDependencyAction extends BuilderAction{static id="setVisibilityDependency";apply({editingElement:fieldEl,value}){return setVisibilityDependency(fieldEl,value);}
isApplied({editingElement:fieldEl,value}){const currentValue=fieldEl.dataset.visibilityDependency||"";return currentValue===value;}}
const SetFormCustomFieldValueListAction=__exports.SetFormCustomFieldValueListAction=class SetFormCustomFieldValueListAction extends BuilderAction{static id="setFormCustomFieldValueList";static dependencies=["websiteFormOption"];apply({editingElement:fieldEl,value}){const fields=[];const field=getActiveField(fieldEl,{fields});field.records=JSON.parse(value);this.dependencies.websiteFormOption.replaceField(fieldEl,field,fields);}
getValue({editingElement:fieldEl}){const fields=[];const field=getActiveField(fieldEl,{fields});return JSON.stringify(field.records);}}
registry.category("website-plugins").add(FormOptionPlugin.id,FormOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/form/utils.js */
odoo.define('@website/builder/plugins/form/utils',['@web/core/l10n/translation','@web/core/utils/render','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{_t}=require("@web/core/l10n/translation");const{renderToElement}=require("@web/core/utils/render");const{generateHTMLId}=require("@html_builder/utils/utils_css");const VISIBILITY_DATASET=__exports.VISIBILITY_DATASET=["visibilityDependency","visibilityCondition","visibilityComparator","visibilityBetween",];__exports.getParsedDataFor=getParsedDataFor;function getParsedDataFor(formId,parentEl){const dataForEl=parentEl.querySelector(`[data-for='${formId}']`);if(!dataForEl){return;}
return JSON.parse(dataForEl.dataset.values.replace(/([,:[]\s*)True/g,"$1true").replace(/([,:[]\s*)(False|None)/g,'$1""').replace(/'(\s*[,:\]}])/g,'"$1').replace(/([{[:,]\s*)'/g,'$1"'));}
__exports.getCustomField=getCustomField;function getCustomField(type,name){return{name:name,string:name,custom:true,type:type,records:[{id:_t("Option 1"),display_name:_t("Option 1"),},{id:_t("Option 2"),display_name:_t("Option 2"),},{id:_t("Option 3"),display_name:_t("Option 3"),},],};}
const getMark=__exports.getMark=(el)=>el.dataset.mark;const isOptionalMark=__exports.isOptionalMark=(el)=>el.classList.contains("o_mark_optional");const isRequiredMark=__exports.isRequiredMark=(el)=>el.classList.contains("o_mark_required");__exports.getDefaultFormat=getDefaultFormat;function getDefaultFormat(el){return{labelWidth:el.querySelector(".s_website_form_label").style.width,labelPosition:"left",multiPosition:"horizontal",requiredMark:isRequiredMark(el),optionalMark:isOptionalMark(el),mark:getMark(el),};}
__exports.getQuotesEncodedName=getQuotesEncodedName;function getQuotesEncodedName(name){return name.replaceAll(/"/g,(character)=>`&quot;`);}
__exports.renderField=renderField;function renderField(field,resetId=false){if(!field.id){field.id=generateHTMLId();}
const params={field:{...field}};if(["url","email","tel"].includes(field.type)){params.field.inputType=field.type;}
if(["boolean","selection","binary"].includes(field.type)){params.field.isCheck=true;}
if(field.type==="one2many"&&field.relation!=="ir.attachment"){params.field.isCheck=true;}
if(field.custom&&!field.string){params.field.string=field.name;}
if(field.description){params.default_description=_t("Describe your field here.");}else if(["email_cc","email_to"].includes(field.name)){params.default_description=_t("Separate email addresses with a comma.");}
const template=document.createElement("template");const renderType=field.type==="tags"?"many2many":field.type;template.content.append(renderToElement("website.form_field_"+renderType,params));if(field.description&&field.description!==true){const descriptionEl=template.content.querySelector(".s_website_form_field_description");descriptionEl.replaceWith(field.description);}
template.content.querySelectorAll("input.datetimepicker-input").forEach((el)=>(el.value=field.propertyValue));template.content.querySelectorAll("[name]").forEach((el)=>{el.name=getQuotesEncodedName(el.name);});template.content.querySelectorAll("[data-name]").forEach((el)=>{el.dataset.name=getQuotesEncodedName(el.dataset.name);});return template.content.firstElementChild;}
__exports.isFieldRequired=isFieldRequired;function isFieldRequired(fieldEl){const classList=fieldEl.classList;return(classList.contains("s_website_form_required")||classList.contains("s_website_form_model_required"));}
__exports.getMultipleInputs=getMultipleInputs;function getMultipleInputs(fieldEl){return fieldEl.querySelector(".s_website_form_multiple");}
__exports.getLabelPosition=getLabelPosition;function getLabelPosition(fieldEl){const label=fieldEl.querySelector(".s_website_form_label");if(fieldEl.querySelector(".row:not(.s_website_form_multiple)")){return label.classList.contains("text-end")?"right":"left";}else{return label.classList.contains("d-none")?"none":"top";}}
__exports.getFieldFormat=getFieldFormat;function getFieldFormat(fieldEl){let requiredMark,optionalMark;const mark=fieldEl.querySelector(".s_website_form_mark");if(mark){requiredMark=isFieldRequired(fieldEl);optionalMark=!requiredMark;}
const multipleInputEl=getMultipleInputs(fieldEl);const format={labelPosition:getLabelPosition(fieldEl),labelWidth:fieldEl.querySelector(".s_website_form_label").style.width,multiPosition:(multipleInputEl&&multipleInputEl.dataset.display)||"horizontal",col:[...fieldEl.classList].filter((el)=>el.match(/^col-/g)).join(" "),requiredMark:requiredMark,optionalMark:optionalMark,mark:mark&&mark.textContent,};return format;}
__exports.isFieldCustom=isFieldCustom;function isFieldCustom(fieldEl){return!!fieldEl.classList.contains("s_website_form_custom");}
__exports.getFieldName=getFieldName;function getFieldName(fieldEl=this.$target[0]){const multipleName=fieldEl.querySelector(".s_website_form_multiple");return multipleName?multipleName.dataset.name:fieldEl.querySelector(".s_website_form_input").name;}
__exports.getFieldType=getFieldType;function getFieldType(fieldEl){return fieldEl.dataset.type;}
__exports.setActiveProperties=setActiveProperties;function setActiveProperties(fieldEl,field){const classList=fieldEl.classList;const textarea=fieldEl.querySelector("textarea");const input=fieldEl.querySelector('input[type="text"], input[type="email"], input[type="number"], input[type="tel"], input[type="url"], textarea');const fileInputEl=fieldEl.querySelector("input[type=file]");const description=fieldEl.querySelector(".s_website_form_field_description");field.placeholder=input&&input.placeholder;if(input){field.value=input.getAttribute("value")||input.value;}else if(field.type==="boolean"){field.value=!!fieldEl.querySelector('input[type="checkbox"][checked]');}else if(fileInputEl){field.maxFilesNumber=fileInputEl.dataset.maxFilesNumber;field.maxFileSize=fileInputEl.dataset.maxFileSize;}
field.propertyValue=input&&input.value;field.description=description;field.rows=textarea&&textarea.rows;field.required=classList.contains("s_website_form_required");field.modelRequired=classList.contains("s_website_form_model_required");field.hidden=classList.contains("s_website_form_field_hidden");field.formatInfo=getFieldFormat(fieldEl);}
__exports.replaceFieldElement=replaceFieldElement;function replaceFieldElement(oldFieldEl,fieldEl){const inputEl=oldFieldEl.querySelector("input");const dataFillWith=inputEl?inputEl.dataset.fillWith:undefined;const hasConditionalVisibility=oldFieldEl.classList.contains("s_website_form_field_hidden_if");const previousInputEl=oldFieldEl.querySelector(".s_website_form_input");const previousName=previousInputEl.name;const previousType=previousInputEl.type;[...oldFieldEl.childNodes].forEach((node)=>node.remove());[...fieldEl.childNodes].forEach((node)=>oldFieldEl.appendChild(node));[...fieldEl.attributes].forEach((el)=>oldFieldEl.removeAttribute(el.nodeName));[...fieldEl.attributes].forEach((el)=>oldFieldEl.setAttribute(el.nodeName,el.nodeValue));if(hasConditionalVisibility){oldFieldEl.classList.add("s_website_form_field_hidden_if","d-none");}
const dependentFieldEls=oldFieldEl.closest("form").querySelectorAll(`.s_website_form_field[data-visibility-dependency="${CSS.escape(previousName)}"]`);const newFormInputEl=oldFieldEl.querySelector(".s_website_form_input");const newName=newFormInputEl.name;const newType=newFormInputEl.type;if((previousName!==newName||previousType!==newType)&&dependentFieldEls){for(const fieldEl of dependentFieldEls){deleteConditionalVisibility(fieldEl);}}
const newInputEl=oldFieldEl.querySelector("input");if(newInputEl){newInputEl.dataset.fillWith=dataFillWith;}}
__exports.getActiveField=getActiveField;function getActiveField(fieldEl,{noRecords,fields}={}){let field;const labelText=fieldEl.querySelector(".s_website_form_label_content")?.innerText||"";if(isFieldCustom(fieldEl)){field=getCustomField(fieldEl.dataset.type,labelText);}else{field=Object.assign({},fields[getFieldName(fieldEl)]);field.string=labelText;field.type=getFieldType(fieldEl);}
if(!noRecords){field.records=getListItems(fieldEl);}
setActiveProperties(fieldEl,field);return field;}
__exports.deleteConditionalVisibility=deleteConditionalVisibility;function deleteConditionalVisibility(fieldEl){for(const name of VISIBILITY_DATASET){delete fieldEl.dataset[name];}
fieldEl.classList.remove("s_website_form_field_hidden_if","d-none");}
__exports.getSelect=getSelect;function getSelect(fieldEl){return fieldEl.querySelector("select");}
__exports.getNewRecordId=getNewRecordId;function getNewRecordId(fieldEl){const selectEl=getSelect(fieldEl);const multipleInputsEl=getMultipleInputs(fieldEl);let options=[];if(selectEl){options=[...selectEl.querySelectorAll("option")];}else if(multipleInputsEl){options=[...multipleInputsEl.querySelectorAll(".checkbox input, .radio input")];}
const targetEl=fieldEl.querySelector(".s_website_form_input");let id;if(["checkbox","radio"].includes(targetEl.getAttribute("type"))){id=targetEl.id.slice(0,-1);}else{id=targetEl.id;}
return id+options.length;}
__exports.getDependencyEl=getDependencyEl;function getDependencyEl(fieldEl){const dependencyName=fieldEl.dataset.visibilityDependency;return fieldEl.closest("form")?.querySelector(`.s_website_form_input[name="${CSS.escape(dependencyName)}"]`);}
__exports.findCircular=findCircular;function findCircular(dependentFieldEl,targetFieldEl){const formEl=targetFieldEl.closest("form");const visitedFields=new Set();const recursiveFindCircular=(dependentFieldEl,targetFieldEl)=>{const dependentFieldName=getFieldName(dependentFieldEl);let dependentFieldEls=Array.from(formEl.querySelectorAll(`.s_website_form_input[name="${CSS.escape(dependentFieldName)}"]`)).map((el)=>el.closest(".s_website_form_field"));dependentFieldEls=new Set(dependentFieldEls);const fieldName=getFieldName(targetFieldEl);for(const dependentFieldEl of dependentFieldEls){if(!visitedFields.has(dependentFieldEl)){visitedFields.add(dependentFieldEl);if(dependentFieldEl.dataset.visibilityDependency===fieldName){return true;}
const dependencyInputEl=getDependencyEl(dependentFieldEl);if(dependencyInputEl&&recursiveFindCircular(dependencyInputEl.closest(".s_website_form_field"),targetFieldEl)){return true;}}}
return false;};return recursiveFindCircular(dependentFieldEl,targetFieldEl);}
const allFormsInfo=new Map();__exports.getDomain=getDomain;function getDomain(formEl,name,type,relation){if(!allFormsInfo.get(formEl)||!name||!type||!relation){return false;}
const field=allFormsInfo.get(formEl).fields.find((el)=>el.name===name&&el.type===type&&el.relation===relation);return field&&field.domain;}
__exports.getModelName=getModelName;function getModelName(formEl){return formEl.dataset.model_name||"mail.mail";}
__exports.getListItems=getListItems;function getListItems(fieldEl){const selectEl=getSelect(fieldEl);const multipleInputsEl=getMultipleInputs(fieldEl);let options=[];if(selectEl){options=[...selectEl.querySelectorAll("option")];}else if(multipleInputsEl){options=[...multipleInputsEl.querySelectorAll(".checkbox input, .radio input")];}
const isFieldElCustom=isFieldCustom(fieldEl);return options.map((opt)=>{const name=selectEl?opt:opt.nextElementSibling;return{id:isFieldElCustom?opt.id:/^-?[0-9]{1,15}$/.test(opt.value)?parseInt(opt.value):opt.value,display_name:name.textContent.trim(),selected:selectEl?opt.selected:opt.checked,};});}
__exports.setVisibilityDependency=setVisibilityDependency;function setVisibilityDependency(fieldEl,value){delete fieldEl.dataset.visibilityCondition;delete fieldEl.dataset.visibilityComparator;fieldEl.dataset.visibilityDependency=value;}
return __exports;});;

/* /website/static/src/builder/plugins/header_navbar_option.js */
odoo.define('@website/builder/plugins/header_navbar_option',['@html_builder/core/utils','@odoo/owl'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{onWillStart}=require("@odoo/owl");const HeaderNavbarOption=__exports.HeaderNavbarOption=class HeaderNavbarOption extends BaseOptionComponent{static template="website.HeaderNavbarOption";static props={getCurrentActiveViews:Function,};setup(){super.setup();this.currentActiveViews={};onWillStart(async()=>{this.currentActiveViews=await this.props.getCurrentActiveViews();});}
hasSomeViews(views){for(const view of views){if(this.currentActiveViews[view]){return true;}}
return false;}}
return __exports;});;

/* /website/static/src/builder/plugins/header_navbar_option_plugin.js */
odoo.define('@website/builder/plugins/header_navbar_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/header_navbar_option'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{HeaderNavbarOption}=require("@website/builder/plugins/header_navbar_option");class HeaderNavbarOptionPlugin extends Plugin{static id="HeaderNavbarOptionPlugin";static dependencies=["customizeWebsite"];resources={builder_options:[{props:{getCurrentActiveViews:this.getCurrentActiveViews.bind(this),},OptionComponent:HeaderNavbarOption,editableOnly:false,selector:"#wrapwrap > header nav.navbar",groups:["website.group_website_designer"],reloadTarget:true,},],};setup(){this.keys=["website.template_header_default","website.template_header_hamburger","website.template_header_boxed","website.template_header_stretch","website.template_header_vertical","website.template_header_search","website.template_header_sales_one","website.template_header_sales_two","website.template_header_sales_three","website.template_header_sales_four","website.template_header_sidebar",];}
async getCurrentActiveViews(){const actionParams={views:this.keys};await this.dependencies.customizeWebsite.loadConfigKey(actionParams);const currentActiveViews={};for(const key of this.keys){const isActive=this.dependencies.customizeWebsite.getConfigKey(key);currentActiveViews[key]=isActive;}
return currentActiveViews;}}
registry.category("website-plugins").add(HeaderNavbarOptionPlugin.id,HeaderNavbarOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/highlight/highlight_configurator.js */
odoo.define('@website/builder/plugins/highlight/highlight_configurator',['@odoo/owl','@web/core/color_picker/color_picker','@website/builder/plugins/highlight/highlight_picker','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{Component,onWillStart,useState}=require("@odoo/owl");const{ColorPicker}=require("@web/core/color_picker/color_picker");const{HighlightPicker}=require("@website/builder/plugins/highlight/highlight_picker");const{normalizeColor}=require("@html_builder/utils/utils_css");const highlightIdToName=__exports.highlightIdToName={underline:"Underline",freehand_1:"Freehand 1",freehand_2:"Freehand 2",freehand_3:"Freehand 3",double:"Double",wavy:"Wavy",circle_1:"Circle 1",circle_2:"Circle 2",circle_3:"Circle 3",over_underline:"Over and underline",scribble_1:"Scribble 1",scribble_2:"Scribble 2",scribble_3:"Scribble 3",scribble_4:"Scribble 4",jagged:"Jagged",cross:"Cross",diagonal:"Diagonal",strikethrough:"Strikethrough",bold:"Bold",bold1:"Bold 1",bold2:"Bold 2",};const HighlightConfigurator=__exports.HighlightConfigurator=class HighlightConfigurator extends Component{static template="website.highlightConfigurator";static components={ColorPicker};static props={applyHighlight:Function,applyHighlightStyle:Function,deleteHighlight:Function,getHighlightState:Function,previewHighlight:Function,previewHighlightStyle:Function,revertHighlight:Function,revertHighlightStyle:Function,componentStack:Object,getUsedCustomColors:Function,};setup(){this.state=useState(this.props.getHighlightState());this.highlightIdToName=highlightIdToName;onWillStart(()=>{if(!this.state.highlightId){this.openHighlightPicker(false);}});}
openHighlightPicker(withPrevious=true){this.props.componentStack.push(HighlightPicker,{selectHighlight:this.selectHighlight.bind(this),previewHighlight:this.props.previewHighlight,revertHighlight:this.props.revertHighlight,},"Select a highlight",withPrevious);}
openColorPicker(){this.props.componentStack.push(ColorPicker,{state:{selectedColor:this.state.color,defaultTab:"solid"},colorPrefix:"",getUsedCustomColors:this.props.getUsedCustomColors,enabledTabs:["solid","custom"],applyColor:this.selectHighlightColor.bind(this),applyColorPreview:(color)=>this.props.previewHighlightStyle("--text-highlight-color",normalizeColor(color)),applyColorResetPreview:this.props.revertHighlightStyle,className:"d-contents",},"Select a color",true);}
selectHighlight(highlightId){this.props.componentStack.pop();this.props.applyHighlight(highlightId);}
selectHighlightColor(color){this.props.componentStack.pop();this.props.applyHighlightStyle("--text-highlight-color",normalizeColor(color));}
deleteHighlight(){this.props.deleteHighlight();this.openHighlightPicker(false);}
onThicknessChange(ev){this.props.applyHighlightStyle("--text-highlight-width",ev.target.value?ev.target.value+"px":"");}}
return __exports;});;

/* /website/static/src/builder/plugins/highlight/highlight_picker.js */
odoo.define('@website/builder/plugins/highlight/highlight_picker',['@odoo/owl','@website/js/highlight_utils'],function(require){'use strict';let __exports={};const{onMounted,useRef,Component,onWillDestroy}=require("@odoo/owl");const{applyTextHighlight,textHighlightFactory,getCurrentTextHighlight,}=require("@website/js/highlight_utils");const HighlightPicker=__exports.HighlightPicker=class HighlightPicker extends Component{static template="website.highlightPicker";static props={selectHighlight:Function,previewHighlight:Function,revertHighlight:Function,};setup(){const root=useRef("root");onMounted(()=>{for(const textEl of root.el.querySelectorAll(".o_text_highlight")){const highlightId=getCurrentTextHighlight(textEl);applyTextHighlight(textEl,highlightId);}});onWillDestroy(()=>{this.props.revertHighlight();});}
getHighlightFactory(){return textHighlightFactory;}}
return __exports;});;

/* /website/static/src/builder/plugins/highlight/highlight_plugin.js */
odoo.define('@website/builder/plugins/highlight/highlight_plugin',['@html_editor/plugin','@html_editor/utils/resource','@odoo/owl','@web/core/l10n/translation','@web/core/popover/popover_hook','@web/core/registry','@website/builder/plugins/highlight/highlight_configurator','@website/builder/plugins/highlight/stacking_component','@html_editor/utils/formatting','@html_editor/utils/dom_traversal','@html_editor/utils/dom','@html_editor/utils/dom_info','@website/js/highlight_utils','@web/core/utils/colors','@html_editor/core/selection_plugin','@html_editor/utils/position'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{Component,xml,useRef,reactive,useState}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const{usePopover}=require("@web/core/popover/popover_hook");const{registry}=require("@web/core/registry");const{HighlightConfigurator}=require("@website/builder/plugins/highlight/highlight_configurator");const{StackingComponent,useStackingComponentState}=require("@website/builder/plugins/highlight/stacking_component");const{formatsSpecs}=require("@html_editor/utils/formatting");const{closestElement,descendants}=require("@html_editor/utils/dom_traversal");const{removeClass,removeStyle}=require("@html_editor/utils/dom");const{isTextNode}=require("@html_editor/utils/dom_info");const{getCurrentTextHighlight}=require("@website/js/highlight_utils");const{isCSSColor,rgbaToHex}=require("@web/core/utils/colors");const{isHtmlContentSupported}=require("@html_editor/core/selection_plugin");const{nodeSize}=require("@html_editor/utils/position");const HighlightPlugin=__exports.HighlightPlugin=class HighlightPlugin extends Plugin{static id="highlight";static dependencies=["history","selection","split","format"];resources={toolbar_groups:[withSequence(50,{id:"websiteDecoration"})],toolbar_items:[{id:"highlight",groupId:"websiteDecoration",description:_t("Apply highlight"),Component:HighlightToolbarButton,props:{highlightConfiguratorProps:{applyHighlight:this.applyHighlight.bind(this),previewHighlight:this.previewHighlight.bind(this),revertHighlight:this.revertHighlight.bind(this),applyHighlightStyle:this.applyHighlightStyle.bind(this),previewHighlightStyle:this.previewHighlightStyle.bind(this),revertHighlightStyle:this.revertHighlightStyle.bind(this),getHighlightState:()=>this.highlightState,getUsedCustomColors:this.getUsedCustomColors.bind(this),deleteHighlight:this.deleteSelectedHighlight.bind(this),},onClick:this.completeHighlightSelection.bind(this),},isAvailable:isHtmlContentSupported,},],clean_for_save_handlers:({root})=>{for(const svg of root.querySelectorAll(".o_text_highlight_svg")){svg.remove();}},savable_mutation_record_predicates:(mutationRecord)=>![...mutationRecord.addedNodes,...mutationRecord.removedNodes].some((node)=>closestElement(node,".o_text_highlight_svg")),normalize_handlers:(root)=>{for(const svg of root.querySelectorAll(".o_text_highlight_svg")){if(!svg.closest(".o_text_highlight")){svg.remove();}}},format_splittable_class:(className)=>className.startsWith("o_text_highlight"),selectionchange_handlers:this.updateSelectedHighlight.bind(this),collapsed_selection_toolbar_predicate:(selectionData)=>!!closestElement(selectionData.editableSelection.anchorNode,".o_text_highlight"),remove_format_handlers:()=>{const highlightedNodes=this.getSelectedHighlightNodes();for(const node of new Set(highlightedNodes)){for(const svg of node.querySelectorAll(".o_text_highlight_svg")){svg.remove();}}},};setup(){this.previewableApplyHighlight=this.dependencies.history.makePreviewableOperation(this._applyHighlight.bind(this));this.previewableApplyHighlightStyle=this.dependencies.history.makePreviewableOperation(this._applyHighlightStyle.bind(this));this.highlightState=reactive({highlightId:undefined,color:"",thickness:undefined,});}
updateSelectedHighlight(){const nodes=this.getSelectedHighlightNodes();const uniqueNodes=new Set(nodes);if(uniqueNodes.size===0){this.highlightState.highlightId=undefined;this.highlightState.color="";this.highlightState.thickness=undefined;return;}
this.highlightState.highlightId=uniqueNodes.size>1?"multiple":getCurrentTextHighlight(nodes[0]);if(this.highlightState.highlightId){const style=nodes.map((node)=>getComputedStyle(node).getPropertyValue("--text-highlight-color"));this.highlightState.color=style.every((v)=>v===style[0])?style[0]:undefined;const thickness=nodes.map((node)=>getComputedStyle(node).getPropertyValue("--text-highlight-width"));this.highlightState.thickness=thickness.every((v)=>v===thickness[0])?parseInt(thickness[0]):"";}}
_applyHighlight(highlightId){const highlightedNodes=this.getSelectedHighlightNodes();for(const node of new Set(highlightedNodes)){for(const svg of node.querySelectorAll(".o_text_highlight_svg")){svg.remove();}}
let thicknessToRestore;let colorToRestore;if(highlightedNodes.length>0){const style=getComputedStyle(highlightedNodes[0]);colorToRestore=style.getPropertyValue("--text-highlight-color");thicknessToRestore=style.getPropertyValue("--text-highlight-width");}
this.dependencies.format.formatSelection("highlight",{formatProps:{highlightId,colorToRestore,thicknessToRestore},applyStyle:true,});this.updateSelectedHighlight();}
applyHighlight(highlightId){this.previewableApplyHighlight.commit(highlightId);}
previewHighlight(highlightId){this.previewableApplyHighlight.preview(highlightId);}
revertHighlight(){this.previewableApplyHighlight.revert();}
_applyHighlightStyle(style,value){const highlightedNodes=this.getSelectedHighlightNodes();for(const node of new Set(highlightedNodes)){node.style.setProperty(style,value);}
this.updateSelectedHighlight();}
applyHighlightStyle(style,value){this.previewableApplyHighlightStyle.commit(style,value);}
previewHighlightStyle(style,value){this.previewableApplyHighlightStyle.preview(style,value);}
revertHighlightStyle(){this.previewableApplyHighlightStyle.revert();}
getUsedCustomColors(){const highlights=this.editable.querySelectorAll(".o_text_highlight");const usedCustomColors=new Set();for(const highlight of highlights){const style=getComputedStyle(highlight);const color=style.getPropertyValue("--text-highlight-color");if(isCSSColor(color)){usedCustomColors.add(rgbaToHex(color).toLowerCase());}}
return usedCustomColors;}
getSelectedHighlightNodes(){return this.dependencies.selection.getTargetedNodes().map((n)=>closestElement(n,".o_text_highlight")).filter(Boolean);}
completeHighlightSelection(){const targetedNodes=this.dependencies.selection.getTargetedNodes().map((n)=>closestElement(n,".o_text_highlight")||n?.querySelector?.(".o_text_highlight"));let{startContainer,startOffset,endContainer,endOffset,direction}=this.dependencies.selection.getEditableSelection();if(targetedNodes.length>0){if(targetedNodes[0]?.matches?.(".o_text_highlight")){const firstTextNode=descendants(targetedNodes[0]).filter(isTextNode)[0];startContainer=firstTextNode;startOffset=0;}
if(targetedNodes.at(-1)?.matches?.(".o_text_highlight")){const lastTextNode=descendants(targetedNodes.at(-1)).filter(isTextNode).at(-1);endContainer=lastTextNode;endOffset=nodeSize(endContainer);}}
const[anchorNode,anchorOffset,focusNode,focusOffset]=direction?[startContainer,startOffset,endContainer,endOffset]:[endContainer,endOffset,startContainer,startOffset];this.dependencies.selection.setSelection({anchorNode,anchorOffset,focusNode,focusOffset,});this.dependencies.selection.focusEditable();this.dependencies.history.stageSelection();}
deleteSelectedHighlight(){const highlightedNodes=this.getSelectedHighlightNodes();for(const node of new Set(highlightedNodes)){for(const svg of node.querySelectorAll(".o_text_highlight_svg")){svg.remove();}}
this.dependencies.format.formatSelection("highlight",{applyStyle:false,});this.updateSelectedHighlight();}}
registry.category("website-plugins").add(HighlightPlugin.id,HighlightPlugin);formatsSpecs.highlight={isFormatted:(node)=>closestElement(node)?.classList.contains("o_text_highlight"),hasStyle:(node)=>closestElement(node)?.classList.contains("o_text_highlight"),addStyle:(node,{highlightId,thicknessToRestore,colorToRestore})=>{node.dispatchEvent(new Event("text_highlight_added",{bubbles:true}));node.classList.add("o_text_highlight",`o_text_highlight_${highlightId}`);if(colorToRestore&&colorToRestore!=="currentColor"){node.style.setProperty("--text-highlight-color",colorToRestore);}
if(thicknessToRestore){node.style.setProperty("--text-highlight-width",thicknessToRestore);}else{const style=getComputedStyle(node);node.style.setProperty("--text-highlight-width",Math.round(parseFloat(style.fontSize)*0.1)+"px");}},removeStyle:(node)=>{removeClass(node,...[...node.classList].filter((cls)=>cls.startsWith("o_text_highlight")));removeStyle(node,"--text-highlight-width");removeStyle(node,"--text-highlight-color");},};class HighlightToolbarButton extends Component{static props={highlightConfiguratorProps:Object,onClick:Function,title:String,getSelection:Function,};static template=xml`
        <button t-ref="root" t-attf-class="btn btn-light o-select-highlight" t-on-click="openHighlightConfigurator" t-att-title="props.title">
            <i class="fa oi oi-text-effect oi-fw py-1"/>
        </button>
    `;setup(){this.highlightState=useState(this.props.highlightConfiguratorProps.getHighlightState());this.root=useRef("root");this.componentStack=useStackingComponentState();this.componentStack.push(HighlightConfigurator,{componentStack:this.componentStack,...this.props.highlightConfiguratorProps,});this.configuratorPopover=usePopover(StackingComponent,{onClose:()=>{while(this.componentStack.stack.length>1){this.componentStack.pop();}},});}
openHighlightConfigurator(){this.props.onClick();this.configuratorPopover.open(this.root.el,{stackState:this.componentStack,style:"max-height: 300px; width: 262px",class:"d-flex flex-column p-2",});}}
return __exports;});;

/* /website/static/src/builder/plugins/highlight/stacking_component.js */
odoo.define('@website/builder/plugins/highlight/stacking_component',['@odoo/owl','@web/core/position/position_hook'],function(require){'use strict';let __exports={};const{xml,Component,reactive,useState,useEffect}=require("@odoo/owl");const{POSITION_BUS}=require("@web/core/position/position_hook");__exports.useStackingComponentState=useStackingComponentState;function useStackingComponentState(){const stack=reactive([]);let counter=0;const push=(component,props,title,withPrevious)=>{stack.push({id:counter++,component,props,title,withPrevious});};const pop=()=>stack.pop();return{push,pop,stack};}
const StackingComponent=__exports.StackingComponent=class StackingComponent extends Component{static template=xml`
        <t t-foreach="this.stack" t-as="componentSpec" t-key="componentSpec.id">
            <div data-prevent-closing-overlay="true" t-if="componentSpec_last" t-attf-class="{{this.props.class}} {{componentSpec_last ? '': 'd-none' }}" t-att-style="this.props.style">
                <div t-if="this.stack.length > 1 || componentSpec.title" class="d-flex align-items-center">
                    <button t-if="this.stack.length > 1 and componentSpec.withPrevious" class="fa fa-angle-left btn btn-secondary bg-transparent border-0" t-on-click="this.props.stackState.pop"></button>
                    <span t-out="componentSpec.title" class="lead mb-0"/>
                </div>
                <t t-component="componentSpec.component" t-props="componentSpec.props" />
            </div>
        </t>
    `;static props={stackState:{type:Object,required:true},class:{type:String,optional:true},style:{type:String,optional:true},close:{type:Function,optional:true},};setup(){this.stack=useState(this.props.stackState.stack);useEffect(()=>{this.env[POSITION_BUS]?.trigger("update");},()=>[this.stack.length]);}}
return __exports;});;

/* /website/static/src/builder/plugins/image/image_grid_option.js */
odoo.define('@website/builder/plugins/image/image_grid_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const ImageGridOption=__exports.ImageGridOption=class ImageGridOption extends BaseOptionComponent{static template="website.ImageGridOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>{const imageGridItemEl=editingElement.closest(".o_grid_item_image");return{isOptionActive:this.isOptionActive(editingElement,imageGridItemEl),};});}
isOptionActive(editingElement,imageGridItemEl){const hasSquareShape=editingElement.dataset.shape==="web_editor/geometric/geo_square";const effectAllowsOption=!["dolly_zoom","outline","image_mirror_blur"].includes(editingElement.dataset.hoverEffect);return(!!imageGridItemEl&&(!("shape"in editingElement.dataset)||(hasSquareShape&&effectAllowsOption)));}}
return __exports;});;

/* /website/static/src/builder/plugins/image/image_grid_option_plugin.js */
odoo.define('@website/builder/plugins/image/image_grid_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/image/image_grid_option','@html_editor/utils/resource','@website/builder/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{ImageGridOption}=require("@website/builder/plugins/image/image_grid_option");const{withSequence}=require("@html_editor/utils/resource");const{GRID_IMAGE}=require("@website/builder/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");class ImageGridOptionPlugin extends Plugin{static id="imageGridOption";resources={builder_options:[withSequence(GRID_IMAGE,{OptionComponent:ImageGridOption,selector:"img",}),],builder_actions:{SetGridImageModeAction,},};}
const SetGridImageModeAction=__exports.SetGridImageModeAction=class SetGridImageModeAction extends BuilderAction{static id="setGridImageMode";isApplied({editingElement,value:modeName}){const imageGridItemEl=editingElement.closest(".o_grid_item_image");const withContain=imageGridItemEl.classList.contains("o_grid_item_image_contain");return withContain?modeName==="contain":modeName==="cover";}
apply({editingElement,value:modeName}){const imageGridItemEl=editingElement.closest(".o_grid_item_image");if(modeName==="contain"){imageGridItemEl.classList.add("o_grid_item_image_contain");}else if(modeName==="cover"){imageGridItemEl.classList.remove("o_grid_item_image_contain");}}}
registry.category("website-plugins").add(ImageGridOptionPlugin.id,ImageGridOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/layout_option/add_element_option.js */
odoo.define('@website/builder/plugins/layout_option/add_element_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const AddElementOption=__exports.AddElementOption=class AddElementOption extends BaseOptionComponent{static template="website.AddElementOption";static props={level:{type:Number,optional:true},applyTo:{type:String,optional:true},};static defaultProps={level:0,};}
return __exports;});;

/* /website/static/src/builder/plugins/layout_option/add_element_option_plugin.js */
odoo.define('@website/builder/plugins/layout_option/add_element_option_plugin',['@html_builder/core/builder_action','@html_builder/utils/grid_layout_utils','@html_editor/plugin','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{resizeGrid,setElementToMaxZindex}=require("@html_builder/utils/grid_layout_utils");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const AddElementOptionPlugin=__exports.AddElementOptionPlugin=class AddElementOptionPlugin extends Plugin{static id="addElementOption";static dependencies=["history","media"];static shared=["addElement"];resources={builder_actions:{AddElTextAction,AddElImageAction,AddElButtonAction,},};addElement(container,element,colSize,rowSize,classes){const currentTime=new Date().getTime();if(this.lastAddTime&&(currentTime-this.lastAddTime)/1000<15){this.lastStartPosition=[this.lastStartPosition[0]+1,this.lastStartPosition[1]+1];}else{this.lastStartPosition=[1,1];}
this.lastAddTime=currentTime;const newColumnEl=document.createElement("div");newColumnEl.classList.add("o_grid_item",...classes);newColumnEl.appendChild(element);const rowStart=this.lastStartPosition[0];let columnStart=this.lastStartPosition[1];if(columnStart+colSize>13){columnStart=1;this.lastStartPosition[1]=columnStart;}
newColumnEl.style.gridArea=`${rowStart} / ${columnStart} / ${rowStart + rowSize} / ${
            columnStart + colSize
        }`;setElementToMaxZindex(newColumnEl,container);container.appendChild(newColumnEl);resizeGrid(container);const newColumnPosition=newColumnEl.getBoundingClientRect();const middleX=(newColumnPosition.left+newColumnPosition.right)/2;const middleY=(newColumnPosition.top+newColumnPosition.bottom)/2;const sameCoordinatesEl=this.document.elementFromPoint(middleX,middleY);if(!sameCoordinatesEl||!newColumnEl.contains(sameCoordinatesEl)){newColumnEl.scrollIntoView({behavior:"smooth",block:"center"});}
this.dependencies.history.addStep();}}
const AddElTextAction=__exports.AddElTextAction=class AddElTextAction extends BuilderAction{static id="addElText";static dependencies=["addElementOption"];apply({editingElement}){const colSize=4;const rowSize=2;const newElement=document.createElement("p");newElement.textContent=_t("Write something...");this.dependencies.addElementOption.addElement(editingElement,newElement,colSize,rowSize,["col-lg-4","g-col-lg-4","g-height-2"]);}}
const AddElImageAction=__exports.AddElImageAction=class AddElImageAction extends BuilderAction{static id="addElImage";static dependencies=["media","addElementOption"];async load({editingElement}){let selectedImage;await new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({onlyImages:true,node:editingElement,save:(images)=>{selectedImage=images;resolve();},});onClose.then(resolve);});if(!selectedImage){return;}
await new Promise((resolve)=>{selectedImage.addEventListener("load",()=>resolve(),{once:true,});});return selectedImage;}
apply({editingElement,loadResult:image}){if(!image){return;}
const colSize=6;const rowSize=6;this.dependencies.addElementOption.addElement(editingElement,image,colSize,rowSize,["col-lg-6","g-col-lg-6","g-height-6","o_grid_item_image",]);}}
const AddElButtonAction=__exports.AddElButtonAction=class AddElButtonAction extends BuilderAction{static id="addElButton";static dependencies=["addElementOption"];apply({editingElement}){const colSize=2;const rowSize=1;const newButton=document.createElement("a");newButton.href="#";newButton.classList.add("mb-2","btn","btn-primary");newButton.textContent="Button";this.dependencies.addElementOption.addElement(editingElement,newButton,colSize,rowSize,["col-lg-2","g-col-lg-2","g-height-1",]);}}
registry.category("website-plugins").add(AddElementOptionPlugin.id,AddElementOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/layout_option/grid_column_option.js */
odoo.define('@website/builder/plugins/layout_option/grid_column_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const GridColumnsOption=__exports.GridColumnsOption=class GridColumnsOption extends BaseOptionComponent{static template="website.GridColumnsOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({isGridMode:editingElement.parentElement.classList.contains("o_grid_mode"),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/layout_option/grid_column_option_plugin.js */
odoo.define('@website/builder/plugins/layout_option/grid_column_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/layout_option/grid_column_option','@html_editor/utils/resource','@website/builder/option_sequence','@html_builder/core/core_builder_action_plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{GridColumnsOption}=require("@website/builder/plugins/layout_option/grid_column_option");const{withSequence}=require("@html_editor/utils/resource");const{GRID_COLUMNS}=require("@website/builder/option_sequence");const{StyleAction}=require("@html_builder/core/core_builder_action_plugin");const GridColumnsOptionPlugin=__exports.GridColumnsOptionPlugin=class GridColumnsOptionPlugin extends Plugin{static id="GridColumnsOption";resources={builder_options:[withSequence(GRID_COLUMNS,{OptionComponent:GridColumnsOption,selector:".row:not(.s_col_no_resize) > div",}),],builder_actions:{SetGridColumnsPaddingAction,},system_classes:["o_we_padding_highlight"],};}
registry.category("website-plugins").add(GridColumnsOptionPlugin.id,GridColumnsOptionPlugin);const removePaddingPreview=(event)=>{const editingElement=event.target;editingElement.classList.remove("o_we_padding_highlight");editingElement.removeEventListener("animationend",removePaddingPreview);};const SetGridColumnsPaddingAction=__exports.SetGridColumnsPaddingAction=class SetGridColumnsPaddingAction extends StyleAction{static id="setGridColumnsPadding";apply(...args){const{editingElement}=args[0];removePaddingPreview({target:editingElement});super.apply(...args);editingElement.classList.add("o_we_padding_highlight");editingElement.addEventListener("animationend",removePaddingPreview);}}
return __exports;});;

/* /website/static/src/builder/plugins/layout_option/layout_option.js */
odoo.define('@website/builder/plugins/layout_option/layout_option',['@html_builder/core/select_number_column','@html_builder/core/utils','@website/builder/plugins/layout_option/add_element_option','@website/builder/plugins/layout_option/spacing_option'],function(require){'use strict';let __exports={};const{SelectNumberColumn}=require("@html_builder/core/select_number_column");const{BaseOptionComponent}=require("@html_builder/core/utils");const{AddElementOption}=require("@website/builder/plugins/layout_option/add_element_option");const{SpacingOption}=require("@website/builder/plugins/layout_option/spacing_option");const LayoutOption=__exports.LayoutOption=class LayoutOption extends BaseOptionComponent{static template="website.LayoutOption";static components={SelectNumberColumn,SpacingOption,AddElementOption,};static props={};}
const LayoutGridOption=__exports.LayoutGridOption=class LayoutGridOption extends BaseOptionComponent{static template="website.LayoutGridOption";static components={SpacingOption,AddElementOption,};static props={};}
return __exports;});;

/* /website/static/src/builder/plugins/layout_option/layout_option_plugin.js */
odoo.define('@website/builder/plugins/layout_option/layout_option_plugin',['@html_builder/utils/column_layout_utils','@html_builder/utils/grid_layout_utils','@html_editor/plugin','@web/core/registry','@website/builder/plugins/layout_option/layout_option','@html_editor/utils/resource','@website/builder/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{getRow}=require("@html_builder/utils/column_layout_utils");const{convertToNormalColumn,reloadLazyImages,toggleGridMode,layoutOptionSelector,}=require("@html_builder/utils/grid_layout_utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{LayoutGridOption,LayoutOption}=require("@website/builder/plugins/layout_option/layout_option");const{withSequence}=require("@html_editor/utils/resource");const{LAYOUT,LAYOUT_GRID}=require("@website/builder/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");class LayoutOptionPlugin extends Plugin{static id="LayoutOption";static dependencies=["clone","selection"];resources={builder_options:[withSequence(LAYOUT,{OptionComponent:LayoutOption,...layoutOptionSelector,}),withSequence(LAYOUT_GRID,{OptionComponent:LayoutGridOption,selector:"section.s_masonry_block, section.s_quadrant, section.s_image_frame, section.s_card_offset, section.s_contact_info, section.s_framed_intro",applyTo:":scope > *:has(> .row)",}),],on_cloned_handlers:this.onCloned.bind(this),builder_actions:{SetGridLayoutAction,SetColumnLayoutAction,},};onCloned({cloneEl}){const cloneElClassList=cloneEl.classList;const offsetClasses=[...cloneElClassList].filter((cls)=>cls.match(/^offset-(lg-)?([0-9]{1,2})$/));cloneElClassList.remove(...offsetClasses);}}
const isGrid=(el)=>{const rowEl=getRow(el);return!!(rowEl&&rowEl.classList.contains("o_grid_mode"));};const SetGridLayoutAction=__exports.SetGridLayoutAction=class SetGridLayoutAction extends BuilderAction{static id="setGridLayout";static dependencies=["selection"];apply({editingElement}){if(isGrid(editingElement)){return;}
toggleGridMode(editingElement,this.dependencies.selection.preserveSelection);}
isApplied({editingElement}){return isGrid(editingElement);}}
const SetColumnLayoutAction=__exports.SetColumnLayoutAction=class SetColumnLayoutAction extends BuilderAction{static id="setColumnLayout";apply({editingElement}){const rowEl=getRow(editingElement);if(!isGrid(editingElement)){return;}
rowEl.classList.remove("o_grid_mode");const columnEls=rowEl.children;for(const columnEl of columnEls){reloadLazyImages(columnEl);convertToNormalColumn(columnEl);}
delete rowEl.dataset.rowCount;rowEl.style.removeProperty("--grid-item-padding-x");rowEl.style.removeProperty("--grid-item-padding-y");rowEl.style.removeProperty("gap");}
isApplied({editingElement}){return!isGrid(editingElement);}}
registry.category("website-plugins").add(LayoutOptionPlugin.id,LayoutOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/layout_option/spacing_option.js */
odoo.define('@website/builder/plugins/layout_option/spacing_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const SpacingOption=__exports.SpacingOption=class SpacingOption extends BaseOptionComponent{static template="website.SpacingOption";static props={level:{type:Number,optional:true},applyTo:{type:String,optional:true},};static defaultProps={level:0,};}
return __exports;});;

/* /website/static/src/builder/plugins/layout_option/spacing_option_plugin.js */
odoo.define('@website/builder/plugins/layout_option/spacing_option_plugin',['@html_editor/plugin','@html_editor/utils/blocks','@web/core/registry','@html_builder/utils/grid_layout_utils','@html_builder/core/core_builder_action_plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{isBlock}=require("@html_editor/utils/blocks");const{registry}=require("@web/core/registry");const{addBackgroundGrid,setElementToMaxZindex}=require("@html_builder/utils/grid_layout_utils");const{StyleAction}=require("@html_builder/core/core_builder_action_plugin");class SpacingOptionPlugin extends Plugin{static id="SpacingOption";resources={builder_actions:{SetGridSpacingAction,},savable_mutation_record_predicates:this.isMutationRecordSavable.bind(this),on_cloned_handlers:this.onCloned.bind(this),clean_for_save_handlers:this.cleanForSave.bind(this),};isMutationRecordSavable(record){if(record.type==="childList"){const node=record.addedNodes[0]||record.removedNodes[0];if(node.matches&&node.matches(".o_we_grid_preview")&&isBlock(node)){return false;}}
if(record.type==="attributes"){if(record.target.matches(".o_we_grid_preview")){return false;}}
return true;}
removeGridPreviews(el){el.querySelectorAll(".o_we_grid_preview").forEach((gridPreviewEl)=>gridPreviewEl.remove());}
onCloned({cloneEl}){this.removeGridPreviews(cloneEl);}
cleanForSave({root}){this.removeGridPreviews(root);}}
registry.category("website-plugins").add(SpacingOptionPlugin.id,SpacingOptionPlugin);const SetGridSpacingAction=__exports.SetGridSpacingAction=class SetGridSpacingAction extends StyleAction{static id="setGridSpacing";apply({editingElement:rowEl}){let gridPreviewEl=rowEl.querySelector(".o_we_grid_preview");if(gridPreviewEl){gridPreviewEl.remove();}
super.apply(...arguments);gridPreviewEl=addBackgroundGrid(rowEl,0);gridPreviewEl.classList.add("o_we_grid_preview");setElementToMaxZindex(gridPreviewEl,rowEl);gridPreviewEl.addEventListener("animationend",()=>gridPreviewEl.remove());}}
return __exports;});;

/* /website/static/src/builder/plugins/menu_data_plugin.js */
odoo.define('@website/builder/plugins/menu_data_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/main/link/navbar_link_popover','@website/components/dialog/edit_menu','@html_editor/utils/resource'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{NavbarLinkPopover}=require("@html_editor/main/link/navbar_link_popover");const{MenuDialog,EditMenuDialog}=require("@website/components/dialog/edit_menu");const{withSequence}=require("@html_editor/utils/resource");const MenuDataPlugin=__exports.MenuDataPlugin=class MenuDataPlugin extends Plugin{static id="menuDataPlugin";static dependencies=["savePlugin"];resources={link_popovers:[withSequence(10,{PopoverClass:NavbarLinkPopover,isAvailable:(linkElement)=>linkElement&&linkElement.closest(".top_menu, o_extra_menu_items, [data-content_menu_id]")&&!linkElement.closest(".dropdown-toggle, li.o_header_menu_button a, [data-toggle], .o_offcanvas_logo, .o_mega_menu"),getProps:(props)=>({...props,onClickEditLink:(elem,callback)=>{const menuEl=elem.props.linkElement.querySelector("[data-oe-id]");this.services.dialog.add(MenuDialog,{name:menuEl.textContent,url:menuEl.parentElement.attributes["href"].nodeValue,save:async(name,url)=>{const websiteId=this.services.website.currentWebsite.id;const data={id:parseInt(menuEl.attributes["data-oe-id"].nodeValue),name,url,};const result=await this.services.orm.call("website.menu","save",[websiteId,{data:[data]}]);menuEl.parentElement.attributes["href"].nodeValue=url;menuEl.textContent=name;callback();return result;},});},onClickEditMenu:()=>{this.services.dialog.add(EditMenuDialog,{save:async()=>{await this.dependencies.savePlugin.save();await this.config.reloadEditor();},});},}),}),],};}
registry.category("website-plugins").add(MenuDataPlugin.id,MenuDataPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/accordion_option_plugin.js */
odoo.define('@website/builder/plugins/options/accordion_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC}=require("@html_builder/utils/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");class accordionOptionPlugin extends Plugin{static id="accordionOptionPlugin";resources={builder_options:[withSequence(SNIPPET_SPECIFIC,{template:"website.AccordionOption",selector:".s_accordion",}),withSequence(SNIPPET_SPECIFIC,{template:"website.AccordionItemOption",selector:".s_accordion .accordion-item",}),],so_content_addition_selector:[".s_accordion"],builder_actions:{DefineCustomIconAction,CustomAccordionIconAction,},};}
const DefineCustomIconAction=__exports.DefineCustomIconAction=class DefineCustomIconAction extends BuilderAction{static id="defineCustomIcon";static dependencies=["media"];async load(){let selectedIconClass;await new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({noImages:true,noDocuments:true,noVideos:true,extraTabs:[],save:(icon)=>{selectedIconClass=icon.className;resolve();},});onClose.then(resolve);});return selectedIconClass;}
apply({editingElement,params,loadResult:customClass}){if(!customClass){return;}
const isActiveIcon=params.isActiveIcon;const media=document.createElement("i");media.className=isActiveIcon?editingElement.dataset.activeCustomIcon:editingElement.dataset.inactiveCustomIcon;const activeIconsEls=editingElement.querySelectorAll(".o_custom_icon_active i");const inactiveIconsEls=editingElement.querySelectorAll(".o_custom_icon_inactive i");const iconsEls=isActiveIcon?activeIconsEls:inactiveIconsEls;iconsEls.forEach((iconEl)=>{iconEl.removeAttribute("class");iconEl.classList.add(...customClass.split(" "));});if(iconsEls===activeIconsEls){editingElement.dataset.activeCustomIcon=customClass;}else{editingElement.dataset.inactiveCustomIcon=customClass;}}}
const CustomAccordionIconAction=__exports.CustomAccordionIconAction=class CustomAccordionIconAction extends BuilderAction{static id="customAccordionIcon";apply({editingElement,params,value}){const accordionButtonEls=editingElement.querySelectorAll(".accordion-button");const activeCustomIcon=editingElement.dataset.activeCustomIcon||"fa fa-arrow-up";const inactiveCustomIcon=editingElement.dataset.inactiveCustomIcon||"fa fa-arrow-down";if(value){if(value==="custom"){editingElement.dataset.activeCustomIcon=activeCustomIcon;editingElement.dataset.inactiveCustomIcon=inactiveCustomIcon;}
accordionButtonEls.forEach((item)=>{let el=item.querySelector(".o_custom_icons_wrap");if(!el){el=document.createElement("span");el.className="o_custom_icons_wrap position-relative d-block flex-shrink-0 overflow-hidden";item.appendChild(el);}
while(el.firstChild){el.removeChild(el.firstChild);}
if(!params.selectIcons){return;}
const customIconsClasses="position-absolute top-0 end-0 bottom-0 start-0 d-flex align-items-center justify-content-center";const customIconActiveEl=document.createElement("span");customIconActiveEl.className=customIconsClasses;customIconActiveEl.classList.add("o_custom_icon_active");const customIconActiveIEl=document.createElement("i");customIconActiveIEl.className=activeCustomIcon;customIconActiveEl.appendChild(customIconActiveIEl);el.appendChild(customIconActiveEl);const customIconInactiveEl=document.createElement("span");customIconInactiveEl.className=customIconsClasses;customIconInactiveEl.classList.add("o_custom_icon_inactive");const customIconInactiveIEl=document.createElement("i");customIconInactiveIEl.className=inactiveCustomIcon;customIconInactiveEl.appendChild(customIconInactiveIEl);el.appendChild(customIconInactiveEl);});}else{accordionButtonEls.forEach((item)=>{const customIconWrapEl=item.querySelector(".o_custom_icons_wrap");if(customIconWrapEl){customIconWrapEl.remove();}});}
if(value!=="custom"){delete editingElement.dataset.activeCustomIcon;delete editingElement.dataset.inactiveCustomIcon;}}}
registry.category("website-plugins").add(accordionOptionPlugin.id,accordionOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/animate_option.js */
odoo.define('@website/builder/plugins/options/animate_option',['@html_builder/core/utils','@html_builder/plugins/image/replace_media_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{isImageSupportedForStyle}=require("@html_builder/plugins/image/replace_media_option");const AnimateOption=__exports.AnimateOption=class AnimateOption extends BaseOptionComponent{static template="website.AnimateOption";static props={getDirectionsItems:Function,getEffectsItems:Function,canHaveHoverEffect:Function,requireAnimation:{type:Boolean,optional:true},slots:{type:Object,optional:true},};static defaultProps={requireAnimation:false};setup(){super.setup();this.state=useDomState(async(editingElement)=>{const hasAnimateClass=editingElement.classList.contains("o_animate");const canHover=await this.props.canHaveHoverEffect(editingElement);return{isOptionActive:this.isOptionActive(editingElement),hasAnimateClass:hasAnimateClass,canHover,isLimitedEffect:this.limitedEffects.some((className)=>editingElement.classList.contains(className)),showIntensity:this.shouldShowIntensity(editingElement,hasAnimateClass),effectItems:this.props.getEffectsItems(this.isActiveItem),directionItems:this.props.getDirectionsItems(editingElement).filter((i)=>!i.check||i.check(editingElement)),isInDropdown:editingElement.closest(".dropdown"),};});}
get limitedEffects(){return["o_anim_flash","o_anim_pulse","o_anim_shake","o_anim_tada","o_anim_flip_in_x","o_anim_flip_in_y",];}
isOptionActive(editingElement){if(editingElement.matches("img")){return isImageSupportedForStyle(editingElement);}
return true;}
shouldShowIntensity(editingElement,hasAnimateClass){if(!hasAnimateClass){return false;}
if(!editingElement.classList.contains("o_anim_fade_in")){return true;}
const possibleDirections=this.props.getDirectionsItems().map((i)=>i.className).filter(Boolean);const hasDirection=possibleDirections.some((direction)=>editingElement.classList.contains(direction));return hasDirection;}}
return __exports;});;

/* /website/static/src/builder/plugins/options/animate_option_plugin.js */
odoo.define('@website/builder/plugins/options/animate_option_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@web/core/utils/scrolling','@website/builder/plugins/options/animate_option','@website/builder/option_sequence','@web/core/l10n/translation','@website/builder/plugins/options/animate_text','@html_editor/core/selection_plugin','@html_editor/utils/dom_traversal','@html_editor/utils/position','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{getScrollingElement}=require("@web/core/utils/scrolling");const{AnimateOption}=require("@website/builder/plugins/options/animate_option");const{ANIMATE}=require("@website/builder/option_sequence");const{_t}=require("@web/core/l10n/translation");const{AnimateText}=require("@website/builder/plugins/options/animate_text");const{isHtmlContentSupported}=require("@html_editor/core/selection_plugin");const{ancestors,closestElement,findFurthest}=require("@html_editor/utils/dom_traversal");const{childNodeIndex,DIRECTIONS,nodeSize}=require("@html_editor/utils/position");const{BuilderAction}=require("@html_builder/core/builder_action");class AnimateOptionPlugin extends Plugin{static id="animateOption";static dependencies=["imageToolOption","history","selection","split"];static shared=["forceAnimation","getDirectionsItems","getEffectsItems"];animateOptionProps={getDirectionsItems:this.getDirectionsItems.bind(this),getEffectsItems:this.getEffectsItems.bind(this),canHaveHoverEffect:this.dependencies.imageToolOption.canHaveHoverEffect,};resources={builder_options:[withSequence(ANIMATE,{OptionComponent:AnimateOption,selector:".o_animable, section .row > div, img, .fa, .btn, .o_animated_text",exclude:"[data-oe-xpath], .o_not-animable, .s_col_no_resize.row > div, .s_col_no_resize",props:this.animateOptionProps,}),],toolbar_items:[{id:"animateText",groupId:"websiteDecoration",description:_t("Animate Text"),Component:AnimateText,props:{config:this.config.getAnimateTextConfig(),getAnimatedTextOrCreateDefault:this.getAnimatedTextOrCreateDefault.bind(this),isActive:this.isAnimatedTextActive.bind(this),isDisabled:this.isAnimatedTextDisabled.bind(this),animateOptionProps:{...this.animateOptionProps,requireAnimation:true},},isAvailable:isHtmlContentSupported,},],system_classes:["o_animating"],builder_actions:{SetAnimationModeAction,SetAnimateIntensityAction,ForceAnimationAction,SetAnimationEffectAction,},normalize_handlers:this.normalize.bind(this),clean_for_save_handlers:this.cleanForSave.bind(this),unsplittable_node_predicates:(node)=>node.classList?.contains("o_animated_text"),};setup(){this.scrollingElement=getScrollingElement(this.document);}
getEffectsItems(isActiveItem){const isOnAppearance=()=>isActiveItem("animation_on_appearance_opt");return[{className:"o_anim_fade_in",label:"Fade"},{className:"o_anim_slide_in",label:"Slide",directionClass:"o_anim_from_right"},{className:"o_anim_bounce_in",label:"Bounce"},{className:"o_anim_rotate_in",label:"Rotate"},{className:"o_anim_zoom_out",label:"Zoom Out"},{className:"o_anim_zoom_in",label:"Zoom In"},{className:"o_anim_flash",label:"Flash",check:isOnAppearance},{className:"o_anim_pulse",label:"Pulse",check:isOnAppearance},{className:"o_anim_shake",label:"Shake",check:isOnAppearance},{className:"o_anim_tada",label:"Tada",check:isOnAppearance},{className:"o_anim_flip_in_x",label:"Flip-In-X",check:isOnAppearance},{className:"o_anim_flip_in_y",label:"Flip-In-Y",check:isOnAppearance},];}
getDirectionsItems(){const isNotSlideIn=(editingElement)=>!editingElement.classList.contains("o_anim_slide_in");const isRotate=(editingElement)=>editingElement.classList.contains("o_anim_rotate_in");const isNotRotate=(editingElement)=>!isRotate(editingElement);return[{className:"",label:"In place",check:isNotSlideIn},{className:"o_anim_from_right",label:"From right",check:isNotRotate},{className:"o_anim_from_left",label:"From left",check:isNotRotate},{className:"o_anim_from_bottom",label:"From bottom",check:isNotRotate},{className:"o_anim_from_top",label:"From top",check:isNotRotate},{className:"o_anim_from_top_right",label:"From top right",check:isRotate},{className:"o_anim_from_top_left",label:"From top left",check:isRotate},{className:"o_anim_from_bottom_right",label:"From bottom right",check:isRotate},{className:"o_anim_from_bottom_left",label:"From bottom left",check:isRotate},];}
async forceAnimation(editingElement){editingElement.style.animationName="dummy";if(editingElement.classList.contains("o_animate_on_scroll")){void editingElement.offsetWidth;editingElement.style.animationName="";this.window.dispatchEvent(new Event("resize"));}else{await new Promise((resolve)=>setTimeout(resolve));editingElement.classList.add("o_animating");this.scrollingElement.classList.add("o_wanim_overflow_xy_hidden");editingElement.style.animationName="";editingElement.addEventListener("animationend",()=>{this.scrollingElement.classList.remove("o_wanim_overflow_xy_hidden");editingElement.classList.remove("o_animating");},{once:true});}}
getAnimatedTextOrCreateDefault(){const resetAnimatedText=(el)=>{const cursors=this.dependencies.selection.preserveSelection();el.replaceWith(...el.childNodes);cursors.restore();this.dependencies.history.addStep();};const existingAnimatedTextEl=this.getAnimatedText();if(existingAnimatedTextEl){return{element:existingAnimatedTextEl,onReset:resetAnimatedText};}
const savePoint=this.dependencies.history.makeSavePoint();const{element:createdAnimatedTextEl,didRemoveOtherTextAnimation}=this.createDefaultTextAnimation();if(createdAnimatedTextEl){return{element:createdAnimatedTextEl,onReset:didRemoveOtherTextAnimation?resetAnimatedText:savePoint,};}
savePoint();this.services.notification.add(_t("Cannot apply this option on current text selection. Try clearing the format and try again."),{type:"danger",sticky:true});return{};}
splitForAnimatedText({anchorNode,focusNode,commonAncestorContainer}){let commonAncestor=commonAncestorContainer;for(let[node,forward]of[[anchorNode,true],[focusNode,false],]){let needToMeetCommonAncestor=node!==commonAncestor&&node.parentNode!==commonAncestor;let needToMeetAnimatedTextAncestor=!!closestElement(node,".o_animated_text");let updatedCommonAncestor=needToMeetCommonAncestor?undefined:commonAncestor;while(needToMeetCommonAncestor||needToMeetAnimatedTextAncestor){if(needToMeetAnimatedTextAncestor&&node.parentNode.classList.contains("o_animated_text")){needToMeetAnimatedTextAncestor=false;}
const updatingCommonAncestor=commonAncestor===node.parentNode;const splitIndex=childNodeIndex(node);if(forward?splitIndex>0:splitIndex<node.parentNode.childNodes.length-1){if(this.dependencies.split.isUnsplittable(node.parentNode)&&!node.parentNode.classList.contains("o_animated_text")){return;}
node=this.dependencies.split.splitElement(node.parentNode,splitIndex+(forward?0:1))[forward?1:0];}else{node=node.parentNode;}
if(updatingCommonAncestor){updatedCommonAncestor=node.parentNode;}
if(needToMeetCommonAncestor&&node.parentNode===commonAncestor){needToMeetCommonAncestor=false;}}
commonAncestor=updatedCommonAncestor||commonAncestor;}
return commonAncestor;}
createDefaultTextAnimation(){const selection=this.dependencies.split.splitSelection();const commonAncestor=this.splitForAnimatedText(selection);if(!commonAncestor){return{};}
const{startContainer,endContainer,direction}=selection;const range=new Range();range.setStartBefore(findFurthest(startContainer,commonAncestor,()=>true)||startContainer);range.setEndAfter(findFurthest(endContainer,commonAncestor,()=>true)||endContainer);const span=this.document.createElement("span");range.surroundContents(span);let didRemoveOtherTextAnimation=false;for(const node of[...span.querySelectorAll(".o_animated_text"),...ancestors(span,this.editable).filter((n)=>n.classList.contains("o_animated_text")),]){node.replaceWith(...node.childNodes);didRemoveOtherTextAnimation=true;}
span.classList.add("o_animated_text","o_animate_preview");span.classList.add("o_animate","o_anim_fade_in");this.dependencies.selection.setSelection(direction===DIRECTIONS.RIGHT?{anchorNode:span,anchorOffset:0,focusNode:span,focusOffset:nodeSize(span),}:{anchorNode:span,anchorOffset:nodeSize(span),focusNode:span,focusOffset:0,});this.dependencies.history.addStep();return{element:span,didRemoveOtherTextAnimation};}
getAnimatedText(){const ancestor=closestElement(this.dependencies.selection.getSelectionData().editableSelection.commonAncestorContainer,".o_animated_text");if(ancestor&&this.dependencies.selection.areNodeContentsFullySelected(ancestor)){return ancestor;}}
isAnimatedTextActive(){return!!this.getAnimatedText();}
isAnimatedTextDisabled(){return 2<=this.dependencies.selection.getTargetedNodes().size;}
normalize(root){const previewEls=[...root.querySelectorAll(".o_animate_preview")];if(root.classList.contains("o_animate_preview")){previewEls.push(root);}
for(const el of previewEls){if(el.classList.contains("o_animate")){el.classList.remove("o_animate_preview");}}
const animateEls=[...root.querySelectorAll(".o_animate")];if(root.classList.contains("o_animate")){animateEls.push(root);}
for(const el of animateEls){if(!el.classList.contains("o_animate_preview")){el.classList.add("o_animate_preview");}}
const animateImg=animateEls.map((el)=>(el.tagName==="IMG"&&el)||el.querySelectorAll("img")).flat().filter(Boolean);for(const img of animateImg){img.loading="eager";}}
cleanForSave({root}){for(const el of root.querySelectorAll(".o_animate_preview")){el.classList.remove("o_animate_preview");}}}
const SetAnimationModeAction=__exports.SetAnimationModeAction=class SetAnimationModeAction extends BuilderAction{static id="setAnimationMode";static dependencies=["animateOption"];setup(){this.animationWithFadein=["onAppearance","onScroll"];this.scrollingElement=getScrollingElement(this.document);}
isApplied(){return true;}
clean({editingElement,value:effectName,nextAction}){this.scrollingElement.classList.remove("o_wanim_overflow_xy_hidden");editingElement.classList.remove("o_animating","o_animate_both_scroll","o_visible","o_animated","o_animate_out");editingElement.style.animationDelay="";editingElement.style.animationPlayState="";editingElement.style.animationName="";editingElement.style.visibility="";if(effectName==="onScroll"){delete editingElement.dataset.scrollZoneStart;delete editingElement.dataset.scrollZoneEnd;}
if(effectName==="onHover"){}
const isNextAnimationFadein=this.animationWithFadein.includes(nextAction.value);if(!isNextAnimationFadein){this._removeEffectAndDirectionClasses(editingElement.classList);editingElement.style.setProperty("--wanim-intensity","");editingElement.style.animationDuration="";this._setImagesLazyLoading(editingElement);}}
apply({editingElement,value:effectName,params:{forceAnimation}}){if(this.animationWithFadein.includes(effectName)){editingElement.classList.add("o_anim_fade_in");}
if(effectName==="onScroll"){editingElement.dataset.scrollZoneStart=0;editingElement.dataset.scrollZoneEnd=100;}
if(effectName==="onHover"){}
if(forceAnimation){this.dependencies.animateOption.forceAnimation(editingElement);}}
_setImagesLazyLoading(editingElement){const imgEls=editingElement.matches("img")?[editingElement]:editingElement.querySelectorAll("img");for(const imgEl of imgEls){imgEl.removeAttribute("loading");}}
_removeEffectAndDirectionClasses(targetClassList){const classes=this.dependencies.animateOption.getEffectsItems().map(({className})=>className).concat(this.dependencies.animateOption.getDirectionsItems().map(({className})=>className).filter(Boolean));const classesToRemove=intersect(classes,[...targetClassList]);for(const className of classesToRemove){targetClassList.remove(className);}}}
const SetAnimateIntensityAction=__exports.SetAnimateIntensityAction=class SetAnimateIntensityAction extends BuilderAction{static id="setAnimateIntensity";static dependencies=["animateOption"];getValue({editingElement}){const intensity=parseInt(this.window.getComputedStyle(editingElement).getPropertyValue("--wanim-intensity"));return intensity;}
apply({editingElement,value}){editingElement.style.setProperty("--wanim-intensity",`${value}`);this.dependencies.animateOption.forceAnimation(editingElement);}}
const ForceAnimationAction=__exports.ForceAnimationAction=class ForceAnimationAction extends BuilderAction{static id="forceAnimation";static dependencies=["animateOption"];isActive(){return true;}
apply({editingElement}){this.dependencies.animateOption.forceAnimation(editingElement);}}
const SetAnimationEffectAction=__exports.SetAnimationEffectAction=class SetAnimationEffectAction extends BuilderAction{static id="setAnimationEffect";static dependencies=["animateOption"];isApplied({editingElement,value:className}){return editingElement.classList.contains(className);}
clean({editingElement}){const classNames=this.dependencies.animateOption.getEffectsItems().map(({className})=>className).concat(this.dependencies.animateOption.getDirectionsItems().map(({className})=>className));for(const className of classNames){if(editingElement.classList.contains(className)){editingElement.classList.remove(className);}}}
apply({editingElement,params:{mainParam:directionClassName},value:effectClassName}){if(directionClassName){editingElement.classList.add(directionClassName);}
editingElement.classList.add(effectClassName);this.dependencies.animateOption.forceAnimation(editingElement);}}
registry.category("website-plugins").add(AnimateOptionPlugin.id,AnimateOptionPlugin);function intersect(a,b){return a.filter((value)=>b.includes(value));}
return __exports;});;

/* /website/static/src/builder/plugins/options/animate_text.js */
odoo.define('@website/builder/plugins/options/animate_text',['@odoo/owl','@html_editor/main/toolbar/toolbar','@website/builder/plugins/options/animate_option','@web/core/popover/popover_hook','@html_builder/core/dependency_manager','@html_builder/core/utils','@web/core/position/position_hook'],function(require){'use strict';let __exports={};const{Component,onMounted,onWillDestroy,useRef,useState}=require("@odoo/owl");const{toolbarButtonProps}=require("@html_editor/main/toolbar/toolbar");const{AnimateOption}=require("@website/builder/plugins/options/animate_option");const{usePopover}=require("@web/core/popover/popover_hook");const{DependencyManager}=require("@html_builder/core/dependency_manager");const{BaseOptionComponent}=require("@html_builder/core/utils");const{POSITION_BUS}=require("@web/core/position/position_hook");class AnimateTextPopover extends BaseOptionComponent{static template="website_builder.AnimateTextPopover";static props={animateOptionProps:AnimateOption.props,onReset:Function,close:{type:Function,optional:true},};static components={AnimateOption};setup(){super.setup();this.contentRef=useRef("content");this.resizeObserver=new ResizeObserver(()=>{this.env[POSITION_BUS]?.trigger("update");});onMounted(()=>{this.resizeObserver.observe(this.contentRef.el);});onWillDestroy(()=>{this.resizeObserver.disconnect();});}}
const AnimateText=__exports.AnimateText=class AnimateText extends Component{static template="website_builder.AnimateText";static props={...toolbarButtonProps,config:{type:Object,shape:{editor:Object,editorBus:Object}},animateOptionProps:AnimateOption.props,getAnimatedTextOrCreateDefault:Function,isActive:Function,isDisabled:Function,};setup(){this.state=useState({});this.updateState();this.root=useRef("root");this.popover=usePopover(AnimateTextPopover,{env:{...this.env,dependencyManager:new DependencyManager(),getEditingElement:()=>this.activeElement,getEditingElements:()=>(this.activeElement?[this.activeElement]:[]),weContext:{},editor:this.props.config.editor,editorBus:this.props.config.editorBus,services:this.props.config.editor.services,},onClose:()=>{if(!this.props.config.editor.isDestroyed){this.updateState();}},});}
onClick(){if(this.popover.isOpen){return;}
const{element,onReset}=this.props.getAnimatedTextOrCreateDefault();if(!element){return;}
this.activeElement=element;this.updateState();this.popover.open(this.root.el,{animateOptionProps:this.props.animateOptionProps,onReset:()=>{onReset(this.activeElement);this.popover.close();},});}
updateState(){this.state.isActive=this.props.isActive();this.state.isDisabled=this.props.isDisabled();}}
return __exports;});;

/* /website/static/src/builder/plugins/options/background_option.js */
odoo.define('@website/builder/plugins/options/background_option',['@html_builder/core/utils','@website/builder/plugins/background_option/background_option','@website/builder/plugins/options/parallax_option','@website/builder/plugins/background_option/background_hook'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{BackgroundOption}=require("@website/builder/plugins/background_option/background_option");const{ParallaxOption}=require("@website/builder/plugins/options/parallax_option");const{useBackgroundOption}=require("@website/builder/plugins/background_option/background_hook");const WebsiteBackgroundOption=__exports.WebsiteBackgroundOption=class WebsiteBackgroundOption extends BaseOptionComponent{static template="website.WebsiteBackgroundOption";static components={...BackgroundOption.components,ParallaxOption,};static props={...BackgroundOption.props,withVideos:{type:Boolean,optional:true},};static defaultProps={...BackgroundOption.defaultProps,withVideos:false,};setup(){super.setup();const{showColorFilter}=useBackgroundOption(this.isActiveItem);this.showColorFilter=()=>showColorFilter()||this.isActiveItem("toggle_bg_video_id");this.websiteBgOptionDomState=useDomState((el)=>({applyTo:el.querySelector(":scope > .s_parallax_bg")?".s_parallax_bg":"",}));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/background_option_plugin.js */
odoo.define('@website/builder/plugins/options/background_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{BuilderAction}=require("@html_builder/core/builder_action");function getBgVideoOrParallax(editingElement){const bgVideoEl=editingElement.querySelector(":scope > .o_bg_video_container");if(bgVideoEl){return bgVideoEl;}
return editingElement.querySelector(":scope > .s_parallax_bg");}
class WebsiteBackgroundImageOptionPlugin extends Plugin{static id="websiteBackgroundImageOptionPlugin";resources={background_filter_target_providers:withSequence(10,getBgVideoOrParallax),};}
class WebsiteBackgroundShapeOptionPlugin extends Plugin{static id="websiteBackgroundShapeOptionPlugin";resources={background_shape_target_providers:withSequence(10,getBgVideoOrParallax),};}
class WebsiteBackgroundVideoPlugin extends Plugin{static id="websiteBackgroundVideoPlugin";static dependencies=["media"];static shared=["loadReplaceBackgroundVideo","applyReplaceBackgroundVideo"];resources={builder_actions:{ToggleBgVideoAction,ReplaceBgVideoAction,},};loadReplaceBackgroundVideo(){return new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({noIcons:true,noImages:true,noDocuments:true,isForBgVideo:true,vimeoPreviewIds:["528686125","430330731","509869821","397142251","763851966","486931161","499761556","1092009120","728584384","865314310","511727912","466830211",],save:(media)=>{resolve(media.querySelector("iframe").src);},});onClose.then(resolve);});}
applyReplaceBackgroundVideo({editingElement,loadResult:mediaSrc,params:{forceClean=false},}){if(!forceClean&&!mediaSrc){return;}
editingElement.classList.toggle("o_background_video",!!mediaSrc);if(mediaSrc){editingElement.dataset.bgVideoSrc=mediaSrc;}else{delete editingElement.dataset.bgVideoSrc;}}}
const ToggleBgVideoAction=__exports.ToggleBgVideoAction=class ToggleBgVideoAction extends BuilderAction{static id="toggleBgVideo";static dependencies=["websiteBackgroundVideoPlugin"];load(context){return this.dependencies.websiteBackgroundVideoPlugin.loadReplaceBackgroundVideo(context);}
apply({editingElement,params,loadResult}){this.dependencies.websiteBackgroundVideoPlugin.applyReplaceBackgroundVideo({editingElement:editingElement,params:params,loadResult:loadResult,});this.dispatchTo("on_bg_image_hide_handlers",editingElement);}
isApplied({editingElement}){return editingElement.classList.contains("o_background_video");}
clean({editingElement}){editingElement.querySelector(":scope > .o_we_bg_filter")?.remove();this.dependencies.websiteBackgroundVideoPlugin.applyReplaceBackgroundVideo({editingElement:editingElement,loadResult:"",params:{forceClean:true},});}}
const ReplaceBgVideoAction=__exports.ReplaceBgVideoAction=class ReplaceBgVideoAction extends BuilderAction{static id="replaceBgVideo";static dependencies=["websiteBackgroundVideoPlugin"];load(context){return this.dependencies.websiteBackgroundVideoPlugin.loadReplaceBackgroundVideo(context);}
apply(context){return this.dependencies.websiteBackgroundVideoPlugin.applyReplaceBackgroundVideo(context);}}
registry.category("website-plugins").add(WebsiteBackgroundVideoPlugin.id,WebsiteBackgroundVideoPlugin);registry.category("website-plugins").add(WebsiteBackgroundImageOptionPlugin.id,WebsiteBackgroundImageOptionPlugin);registry.category("website-plugins").add(WebsiteBackgroundShapeOptionPlugin.id,WebsiteBackgroundShapeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/badge_option_plugin.js */
odoo.define('@website/builder/plugins/options/badge_option_plugin',['@html_builder/utils/option_sequence','@website/builder/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry'],function(require){'use strict';let __exports={};const{before}=require("@html_builder/utils/option_sequence");const{ANIMATE}=require("@website/builder/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");class BadgeOptionPlugin extends Plugin{static id="badgeOption";resources={builder_options:[withSequence(before(ANIMATE),{template:"website.BadgeOption",selector:".s_badge",}),],so_content_addition_selector:[".s_badge"],};}
registry.category("website-plugins").add(BadgeOptionPlugin.id,BadgeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/blockquote_option_plugin.js */
odoo.define('@website/builder/plugins/options/blockquote_option_plugin',['@html_builder/utils/option_sequence','@website/builder/option_sequence','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@website/builder/plugins/options/background_option'],function(require){'use strict';let __exports={};const{after,END}=require("@html_builder/utils/option_sequence");const{ANIMATE}=require("@website/builder/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");class BlockquoteOptionPlugin extends Plugin{static id="blockquoteOption";selector=".s_blockquote";resources={mark_color_level_selector_params:[{selector:this.selector}],builder_options:[withSequence(after(ANIMATE),{selector:this.selector,OptionComponent:WebsiteBackgroundOption,props:{withColors:true,withImages:true,withShapes:true,withColorCombinations:true,},}),withSequence(END,{template:"website.BlockquoteOption",selector:this.selector,}),],};}
registry.category("website-plugins").add(BlockquoteOptionPlugin.id,BlockquoteOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/border_option_plugin.js */
odoo.define('@website/builder/plugins/options/border_option_plugin',['@website/builder/plugins/options/utils','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{CARD_PARENT_HANDLERS}=require("@website/builder/plugins/options/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{BOX_BORDER_SHADOW}=require("@website/builder/option_sequence");class BorderOptionPlugin extends Plugin{static id="borderOption";resources={builder_options:[withSequence(BOX_BORDER_SHADOW,{template:"website.BorderOption",selector:"section .row > div, section:has(.s_carousel_cards)",exclude:`.s_col_no_bgcolor, .s_col_no_bgcolor.row > div, .s_image_gallery .row > div, .s_masonry_block .s_col_no_resize, .s_text_cover .row > .o_not_editable, ${CARD_PARENT_HANDLERS}`,}),],};}
registry.category("website-plugins").add(BorderOptionPlugin.id,BorderOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/button_option_plugin.js */
odoo.define('@website/builder/plugins/options/button_option_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const selector="a.btn";const exclude=".s_donation_donate_btn, .s_website_form_send";const styleClasses=["btn-secondary","btn-fill-primary","btn-fill-secondary","btn-outline-primary","btn-outline-secondary",];const sizeClasses=["btn-sm","btn-lg"];class ButtonOptionPlugin extends Plugin{static id="buttonOption";resources={on_cloned_handlers:this.onCloned.bind(this),on_snippet_preview_handlers:this.onSnippetPreview.bind(this),on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),};onCloned({cloneEl}){if(cloneEl.matches(selector)&&!cloneEl.matches(exclude)){this.adaptButtons(cloneEl,{adaptAppearance:false});}}
onSnippetPreview({snippetEl}){if(snippetEl.matches(selector)&&!snippetEl.matches(exclude)){this.adaptButtons(snippetEl,{isDragAndDropPreview:true});}}
onSnippetDropped({snippetEl}){if(snippetEl.matches(selector)&&!snippetEl.matches(exclude)){this.adaptButtons(snippetEl,{});}}
adaptButtons(editingElement,{adaptAppearance=true,isDragAndDropPreview=false}){let previousSiblingEl=editingElement.previousElementSibling;let nextSiblingEl=editingElement.nextElementSibling;if(isDragAndDropPreview){while(previousSiblingEl&&previousSiblingEl.matches(".oe_drop_zone")){previousSiblingEl=previousSiblingEl.previousElementSibling;}
while(nextSiblingEl&&nextSiblingEl.matches(".oe_drop_zone")){nextSiblingEl=nextSiblingEl.nextElementSibling;}}
let siblingButtonEl=null;if(nextSiblingEl?.matches(".btn")){nextSiblingEl.classList.add("mb-2");editingElement.after(" ");siblingButtonEl=nextSiblingEl;}
if(previousSiblingEl?.matches(".btn")){previousSiblingEl.classList.add("mb-2");editingElement.before(" ");siblingButtonEl=previousSiblingEl;}
if(siblingButtonEl){editingElement.classList.add("mb-2");}
if(adaptAppearance){if(siblingButtonEl&&!editingElement.matches(".s_custom_button")){const styleClass=styleClasses.find((c)=>siblingButtonEl.classList.contains(c));const sizeClass=sizeClasses.find((c)=>siblingButtonEl.classList.contains(c));if(styleClass){editingElement.classList.remove("btn-primary");editingElement.classList.add(styleClass);}
if(sizeClass){editingElement.classList.add(sizeClass);}
if(siblingButtonEl.classList.contains("rounded-circle")){editingElement.classList.add("rounded-circle");}}else{const btnContainerEl=editingElement.closest("p");if(!btnContainerEl){const paragraphEl=document.createElement("p");editingElement.parentNode.insertBefore(paragraphEl,editingElement);paragraphEl.appendChild(editingElement);}}
editingElement.classList.remove("s_custom_button");}}}
registry.category("website-plugins").add(ButtonOptionPlugin.id,ButtonOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/card_image_alignment_option.js */
odoo.define('@website/builder/plugins/options/card_image_alignment_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const CardImageAlignmentOption=__exports.CardImageAlignmentOption=class CardImageAlignmentOption extends BaseOptionComponent{static template="website.CardImageAlignmentOption";static props={label:{type:String},level:{type:Number,optional:true},};static defaultProps={level:0,};setup(){super.setup();this.state=useDomState(async(editingElement)=>{await this.waitForAllImageloaded(this.env.getEditingElements());const imageToWrapperRatio=this.getImageToWrapperRatio(editingElement);const hasCoverImage=!!editingElement.querySelector(".o_card_img_wrapper");const hasSquareRatio=Math.abs(imageToWrapperRatio-1)<0.001;const hasShape=!!editingElement.querySelector(".o_card_img[data-shape]");return{imageToWrapperRatio,show:hasCoverImage&&!(hasSquareRatio||hasShape),};});}
getImageToWrapperRatio(editingElement){const imageEl=editingElement.querySelector(".o_card_img");const imageWrapperEl=editingElement.querySelector(".o_card_img_wrapper");if(!imageEl||!imageWrapperEl){return null;}
const imgRatio=imageEl.naturalWidth/imageEl.naturalHeight;const wrapperRatio=imageWrapperEl.offsetWidth/imageWrapperEl.offsetHeight;return imgRatio/wrapperRatio;}
async waitForAllImageloaded(editingElements){const promises=[];for(const editingEl of editingElements){const imageEls=editingEl.matches("img")?[editingEl]:editingEl.querySelectorAll("img");for(const imageEl of imageEls){if(!imageEl.complete){promises.push(new Promise((resolve)=>{imageEl.addEventListener("load",()=>resolve());}));}}}
await Promise.all(promises);}}
return __exports;});;

/* /website/static/src/builder/plugins/options/card_image_option.js */
odoo.define('@website/builder/plugins/options/card_image_option',['@html_builder/core/utils','@website/builder/plugins/options/card_image_alignment_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{CardImageAlignmentOption}=require("@website/builder/plugins/options/card_image_alignment_option");const CardImageOption=__exports.CardImageOption=class CardImageOption extends BaseOptionComponent{static template="website.CardImageOption";static props={};static components={CardImageAlignmentOption};setup(){super.setup();this.state=useDomState((editingElement)=>({hasCoverImage:!!editingElement.querySelector(".o_card_img_wrapper"),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/card_image_option_plugin.js */
odoo.define('@website/builder/plugins/options/card_image_option_plugin',['@html_builder/core/builder_action','@html_builder/core/core_builder_action_plugin','@html_editor/plugin','@web/core/registry','@web/core/utils/render'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{renderToElement}=require("@web/core/utils/render");const ratiosOnlySupportedForTopImage=["ratio ratio-4x3","ratio ratio-16x9","ratio ratio-21x9","ratio o_card_img_ratio_custom",];const imageRelatedClasses=["o_card_img_top","o_card_img_horizontal","flex-lg-row","flex-lg-row-reverse",];const imageRelatedStyles=["--card-img-aspect-ratio","--card-img-size-h","--card-img-ratio-align",];class CardImageOptionPlugin extends Plugin{static id="cardImageOption";static dependencies=["remove","history","builderOptions"];static shared=["adaptRatio"];resources={builder_actions:{SetCoverImagePositionAction,RemoveCoverImageAction,AddCoverImageAction,AlignCoverImageAction,},};setup(){super.setup();this.classAction=new ClassAction(this);}
adaptRatio(editingElement,imagePositionClass){if(imagePositionClass==="card-img-top"){return;}
const imageWrapper=editingElement.querySelector(".o_card_img_wrapper");const asMainParam=(mainParam)=>({editingElement:imageWrapper,params:{mainParam},});for(const ratioClasses of ratiosOnlySupportedForTopImage){if(this.classAction.isApplied(asMainParam(ratioClasses))){this.classAction.clean(asMainParam(ratioClasses));this.classAction.apply(asMainParam("ratio ratio-1x1"));return;}}}}
const SetCoverImagePositionAction=__exports.SetCoverImagePositionAction=class SetCoverImagePositionAction extends BuilderAction{static id="setCoverImagePosition";static dependencies=["cardImageOption"];apply({editingElement,params:{mainParam:className}}){const imageEl=editingElement.querySelector(".o_card_img");imageEl.classList.add(className);this.dependencies.cardImageOption.adaptRatio(editingElement,className);}
clean({editingElement,params:{mainParam:className}}){const imageEl=editingElement.querySelector(".o_card_img");imageEl.classList.remove(className);}}
const RemoveCoverImageAction=__exports.RemoveCoverImageAction=class RemoveCoverImageAction extends BuilderAction{static id="removeCoverImage";static dependencies=["history","builderOptions","remove"];apply({editingElement}){const imageWrapper=editingElement.querySelector(".o_card_img_wrapper");const elementToSelect=this.dependencies.remove.removeElement(imageWrapper);editingElement.classList.remove(...imageRelatedClasses);imageRelatedStyles.forEach((prop)=>editingElement.style.removeProperty(prop));this.dependencies.history.addStep();this.dependencies["builderOptions"].updateContainers(elementToSelect);}}
const AddCoverImageAction=__exports.AddCoverImageAction=class AddCoverImageAction extends BuilderAction{static id="addCoverImage";apply({editingElement}){const imageWrapper=renderToElement("website.s_card.imageWrapper");editingElement.prepend(imageWrapper);editingElement.classList.add("o_card_img_top");}}
const AlignCoverImageAction=__exports.AlignCoverImageAction=class AlignCoverImageAction extends BuilderAction{static id="alignCoverImage";apply({editingElement,params:{mainParam:direction}}){const imgWrapper=editingElement.querySelector(".o_card_img_wrapper");imgWrapper.classList.toggle("o_card_img_adjust_v",direction==="vertical");imgWrapper.classList.toggle("o_card_img_adjust_h",direction==="horizontal");}}
registry.category("website-plugins").add(CardImageOptionPlugin.id,CardImageOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/card_option.js */
odoo.define('@website/builder/plugins/options/card_option',['@html_builder/core/utils','@website/builder/plugins/options/background_option','@website/builder/plugins/options/card_image_option','@html_builder/plugins/border_configurator_option','@html_builder/plugins/shadow_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useGetItemValue}=require("@html_builder/core/utils");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");const{CardImageOption}=require("@website/builder/plugins/options/card_image_option");const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const{ShadowOption}=require("@html_builder/plugins/shadow_option");const CardOption=__exports.CardOption=class CardOption extends BaseOptionComponent{static template="website.CardOption";static components={CardImageOption,WebsiteBackgroundOption,BorderConfigurator,ShadowOption,};static props={disableWidth:{type:Boolean,optional:true},};static defaultProps={disableWidth:false,};setup(){super.setup();this.getItemValue=useGetItemValue();}}
return __exports;});;

/* /website/static/src/builder/plugins/options/card_option_plugin.js */
odoo.define('@website/builder/plugins/options/card_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/card_option','@website/builder/plugins/options/utils','@website/builder/plugins/options/background_option','@website/builder/plugins/options/carousel_cards_item_option'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{CardOption}=require("@website/builder/plugins/options/card_option");const{CARD_PARENT_HANDLERS}=require("@website/builder/plugins/options/utils");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");const{CarouselCardsItemOption}=require("@website/builder/plugins/options/carousel_cards_item_option");class CardOptionPlugin extends Plugin{static id="cardOption";cardSelector=".s_card";cardExclude=`div:is(${CARD_PARENT_HANDLERS}) > .s_card`;cardDisableWidthApplyTo=":scope > .s_card:not(.s_carousel_cards_card)";websiteBgApplyTo=":scope > .s_carousel_cards_card";resources={builder_options:[{OptionComponent:CardOption,selector:this.cardSelector,exclude:this.cardExclude,},{OptionComponent:CardOption,selector:CARD_PARENT_HANDLERS,applyTo:this.cardDisableWidthApplyTo,props:{disableWidth:true,},},{OptionComponent:WebsiteBackgroundOption,selector:CARD_PARENT_HANDLERS,applyTo:this.websiteBgApplyTo,props:{withColors:true,withImages:true,withShapes:true,withColorCombinations:true,},},{OptionComponent:CarouselCardsItemOption,selector:".s_carousel_cards_item",applyTo:":scope > .s_carousel_cards_card",},],mark_color_level_selector_params:[{selector:this.cardSelector,exclude:this.cardExclude},{selector:CARD_PARENT_HANDLERS,applyTo:this.cardDisableWidthApplyTo},{selector:CARD_PARENT_HANDLERS,applyTo:this.websiteBgApplyTo},],};}
registry.category("website-plugins").add(CardOptionPlugin.id,CardOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/card_width_option_plugin.js */
odoo.define('@website/builder/plugins/options/card_width_option_plugin',['@html_builder/core/core_builder_action_plugin','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{ClassAction,StyleAction}=require("@html_builder/core/core_builder_action_plugin");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class CardWidthOptionPlugin extends Plugin{static id="cardWidthOption";resources={builder_actions:{SetCardWidthAction,SetCardAlignmentAction,},};}
registry.category("website-plugins").add(CardWidthOptionPlugin.id,CardWidthOptionPlugin);const SetCardAlignmentAction=__exports.SetCardAlignmentAction=class SetCardAlignmentAction extends ClassAction{static id="setCardAlignment";isApplied({editingElement:el,params:{mainParam:classNames}}){if(classNames==="me-auto"){return!["mx-auto","ms-auto"].some((cls)=>el.classList.contains(cls));}
return super.isApplied(...arguments);}}
const SetCardWidthAction=__exports.SetCardWidthAction=class SetCardWidthAction extends StyleAction{static id="setCardWidth";getValue(...args){const value=super.getValue(...args);return value.includes("%")?value:"100%";}}
return __exports;});;

/* /website/static/src/builder/plugins/options/carousel_cards_item_option.js */
odoo.define('@website/builder/plugins/options/carousel_cards_item_option',['@html_builder/core/utils','@website/builder/plugins/options/card_image_alignment_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{CardImageAlignmentOption}=require("@website/builder/plugins/options/card_image_alignment_option");const CarouselCardsItemOption=__exports.CarouselCardsItemOption=class CarouselCardsItemOption extends BaseOptionComponent{static template="website.CarouselCardsItemOption";static components={CardImageAlignmentOption,};static props={};}
return __exports;});;

/* /website/static/src/builder/plugins/options/chart_option.js */
odoo.define('@website/builder/plugins/options/chart_option',['@html_builder/core/utils','@odoo/owl','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{useState}=require("@odoo/owl");const{_t}=require("@web/core/l10n/translation");const DATASET_KEY_PREFIX=__exports.DATASET_KEY_PREFIX="chart_dataset_";const ChartOption=__exports.ChartOption=class ChartOption extends BaseOptionComponent{static template="website.ChartOption";static props={isPieChart:Function,getColor:Function,};setup(){super.setup();this.env.getEditingElement().dataset.data=JSON.stringify(this.prepareData(this.env.getEditingElement()));this.state=useState({currentCell:{}});this.domState=useDomState((editingElement)=>({data:this.getData(editingElement),isPieChart:this.isPieChart(editingElement),}));}
getData(editingElement){return JSON.parse(editingElement.dataset.data);}
prepareData(editingElement){const data=this.getData(editingElement);data.datasets=data.datasets.map((dataset)=>{if(dataset.key){return dataset;}
return{...dataset,key:DATASET_KEY_PREFIX+Date.now(),};});return data;}
isPieChart(editingElement){const isPieChart=this.props.isPieChart(editingElement);if(!this.domState||this.domState.isPieChart!==isPieChart){this.state.currentCell={};}
return isPieChart;}
getColorPalette(){const editingElement=this.env.getEditingElement();const data=this.getData(editingElement);const colorSet=new Set();for(const dataset of data.datasets){if(this.isPieChart(editingElement)){dataset.backgroundColor.forEach((color)=>colorSet.add(this.props.getColor(color)));dataset.borderColor.forEach((color)=>colorSet.add(this.props.getColor(color)));}else{colorSet.add(this.props.getColor(dataset.backgroundColor));colorSet.add(this.props.getColor(dataset.borderColor));}}
colorSet.delete("");return colorSet;}
onTableFocusin(ev){this.onTableMouseover(ev);ev.currentTarget.querySelector(".o_builder_matrix_selected_cell")?.classList.remove("o_builder_matrix_selected_cell");const cellEl=ev.target.closest("td, th");const cellSectionEl=cellEl.parentElement.parentElement;const datasetIndex=[...cellEl.parentElement.children].indexOf(cellEl)-1;if(datasetIndex===-1||datasetIndex===cellEl.parentElement.children.length-2){this.state.currentCell={};return;}
let dataIndex;if(cellSectionEl.tagName==="TBODY"){dataIndex=[...cellSectionEl.children].indexOf(cellEl.parentElement);if(dataIndex===cellSectionEl.children.length-1){this.state.currentCell={};return;}}
let backgroundLabel=_t("Dataset Color");let borderLabel=_t("Dataset Border");if(this.domState.isPieChart){backgroundLabel=_t("Data Color");borderLabel=_t("Data Border");if(cellSectionEl.tagName==="THEAD"){this.state.currentCell={};return;}}
cellEl.classList.add("o_builder_matrix_selected_cell");this.state.currentCell={datasetIndex,dataIndex,backgroundLabel,borderLabel};}
onTableMouseoutOrFocusout(ev){ev.currentTarget.querySelector(".o_builder_matrix_remove_col:not(.visually-hidden-focusable)")?.classList.add("visually-hidden-focusable");ev.currentTarget.querySelector(".o_builder_matrix_remove_row:not(.visually-hidden-focusable)")?.classList.add("visually-hidden-focusable");}
onTableMouseover(ev){ev.stopPropagation();if(ev.target===ev.currentTarget){return;}
const tableEl=ev.currentTarget;const cellEl=ev.target.closest("td, th");const rowEl=cellEl.closest("tr");const columnIndex=[...rowEl.children].indexOf(cellEl);if(rowEl.children.length>3&&columnIndex>0&&columnIndex<rowEl.children.length-1){tableEl.querySelectorAll(".o_builder_matrix_remove_col")
[columnIndex-1].classList.remove("visually-hidden-focusable");}
if(rowEl.parentElement.children.length>2&&cellEl.closest("tbody")&&rowEl.nextElementSibling){rowEl.querySelector(".o_builder_matrix_remove_row").classList.remove("visually-hidden-focusable");}}}
return __exports;});;

/* /website/static/src/builder/plugins/options/chart_option_plugin.js */
odoo.define('@website/builder/plugins/options/chart_option_plugin',['@html_builder/core/builder_action','@website/builder/plugins/options/chart_option','@html_builder/utils/utils_css','@html_editor/plugin','@web/core/registry','@web/core/utils/colors'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{ChartOption,DATASET_KEY_PREFIX}=require("@website/builder/plugins/options/chart_option");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{isCSSColor}=require("@web/core/utils/colors");class ChartOptionPlugin extends Plugin{static id="chartOptionPlugin";static dependencies=["history"];resources={builder_options:[{OptionComponent:ChartOption,selector:".s_chart",props:{isPieChart,getColor:(color)=>getColor(color,this.window,this.document),},},],so_content_addition_selector:[".s_chart"],builder_actions:{SetChartTypeAction,AddColumnAction,RemoveColumnAction,AddRowAction,RemoveRowAction,UpdateDatasetValueAction,UpdateDatasetLabelAction,UpdateLabelNameAction,setMinMaxAction,ColorChangeAction,},};}
function isPieChart(editingElement){return["pie","doughnut"].includes(editingElement.dataset.type);}
function getColor(color,win,doc){if(!color){return"";}
return isCSSColor(color)?color:getCSSVariableValue(color,win.getComputedStyle(doc.documentElement));}
const BaseChartAction=__exports.BaseChartAction=class BaseChartAction extends BuilderAction{static id="baseChart";updateDOMData(editingElement,data){editingElement.dataset.data=JSON.stringify(data);}
getData(editingElement){return JSON.parse(editingElement.dataset.data);}
getMaxValue(editingElement){const datasets=this.getData(editingElement).datasets;let dataValues;if(!editingElement.dataset.stacked){dataValues=datasets.flatMap((set)=>set.data.map((data)=>parseInt(data)||0));}else{dataValues=datasets.reduce((acc,set)=>{const data=set.data.map((data)=>parseInt(data)||0);return acc.map((value,i)=>value+data[i]);},Array(datasets[0].data.length).fill(0));}
return Math.ceil(Math.max(...dataValues)/5)*5;}
isPieChart(editingElement){return isPieChart(editingElement);}
getColor(color){return getColor(color,this.window,this.document);}
randomColor(){return("#"+("00000"+((Math.random()*(1<<24))|0).toString(16)).slice(-6).toUpperCase());}}
const SetChartTypeAction=__exports.SetChartTypeAction=class SetChartTypeAction extends BaseChartAction{static id="setChartType";isApplied({editingElement,value}){return editingElement.dataset.type===value;}
apply({editingElement,value}){editingElement.dataset.type=value;const data=this.getData(editingElement);if(this.isPieChart(editingElement)){if(typeof data.datasets[0].backgroundColor==="string"){data.datasets.forEach((dataset)=>{dataset.backgroundColor=[dataset.backgroundColor];dataset.borderColor=[dataset.borderColor];for(let i=1;i<data.labels.length;i++){dataset.backgroundColor.push(this.randomColor());dataset.borderColor.push("");}});}}else if(Array.isArray(data.datasets[0].backgroundColor)){data.datasets.forEach((dataset)=>{dataset.backgroundColor=dataset.backgroundColor[0];dataset.borderColor=dataset.borderColor[0];});}
this.updateDOMData(editingElement,data);}}
const AddColumnAction=__exports.AddColumnAction=class AddColumnAction extends BaseChartAction{static id="addColumn";apply({editingElement}){const data=this.getData(editingElement);const fillDatasetArray=(value)=>Array(data.labels.length).fill(value);const newDataset={key:DATASET_KEY_PREFIX+Date.now(),label:"",data:fillDatasetArray(0),backgroundColor:this.isPieChart(editingElement)?data.labels.map(()=>this.randomColor()):"",borderColor:this.isPieChart(editingElement)?fillDatasetArray(""):"",};data.datasets.push(newDataset);this.updateDOMData(editingElement,data);}}
const RemoveColumnAction=__exports.RemoveColumnAction=class RemoveColumnAction extends BaseChartAction{static id="removeColumn";apply({editingElement,params:{mainParam:key}}){const data=this.getData(editingElement);const toRemoveIndex=data.datasets.findIndex((dataset)=>dataset.key===key);data.datasets.splice(toRemoveIndex,1);this.updateDOMData(editingElement,data);}}
const AddRowAction=__exports.AddRowAction=class AddRowAction extends BaseChartAction{static id="addRow";apply({editingElement}){const data=this.getData(editingElement);data.labels.push("");data.datasets.forEach((dataset)=>{dataset.data.push(0);if(this.isPieChart(editingElement)){dataset.backgroundColor.push(this.randomColor());dataset.borderColor.push("");}});this.updateDOMData(editingElement,data);}}
const RemoveRowAction=__exports.RemoveRowAction=class RemoveRowAction extends BaseChartAction{static id="removeRow";apply({editingElement,params:{mainParam:labelIndex}}){const data=this.getData(editingElement);data.labels.splice(labelIndex,1);data.datasets.forEach((dataset)=>{dataset.data.splice(labelIndex,1);if(this.isPieChart(editingElement)){dataset.backgroundColor.splice(labelIndex,1);dataset.borderColor.splice(labelIndex,1);}});this.updateDOMData(editingElement,data);}}
const UpdateDatasetValueAction=__exports.UpdateDatasetValueAction=class UpdateDatasetValueAction extends BaseChartAction{static id="updateDatasetValue";getValue({editingElement,params:{datasetKey,valueIndex}}){const data=this.getData(editingElement);const targetDataset=data.datasets.find((dataset)=>dataset.key===datasetKey);return targetDataset?.data[valueIndex]||0;}
apply({editingElement,value,params:{datasetKey,valueIndex}}){const data=this.getData(editingElement);const targetDataset=data.datasets.find((dataset)=>dataset.key===datasetKey);targetDataset.data[valueIndex]=value;this.updateDOMData(editingElement,data);}}
const UpdateDatasetLabelAction=__exports.UpdateDatasetLabelAction=class UpdateDatasetLabelAction extends BaseChartAction{static id="updateDatasetLabel";getValue({editingElement,params:{mainParam:datasetKey}}){const data=this.getData(editingElement);const targetDataset=data.datasets.find((dataset)=>dataset.key===datasetKey);return targetDataset?.label;}
apply({editingElement,value,params:{mainParam:datasetKey}}){const data=this.getData(editingElement);const targetDataset=data.datasets.find((dataset)=>dataset.key===datasetKey);targetDataset.label=value;this.updateDOMData(editingElement,data);}}
const UpdateLabelNameAction=__exports.UpdateLabelNameAction=class UpdateLabelNameAction extends BaseChartAction{static id="updateLabelName";getValue({editingElement,params:{mainParam:labelIndex}}){const data=this.getData(editingElement);return data.labels[labelIndex];}
apply({editingElement,value,params:{mainParam:labelIndex}}){const data=this.getData(editingElement);data.labels[labelIndex]=value;this.updateDOMData(editingElement,data);}}
const setMinMaxAction=__exports.setMinMaxAction=class setMinMaxAction extends BaseChartAction{static id="setMinMax";getValue({editingElement,params:{mainParam:type}}){if(type==="min"){return parseInt(editingElement.dataset.ticksMin)||"";}
if(type==="max"){return parseInt(editingElement.dataset.ticksMax)||"";}}
apply({editingElement,value,params:{mainParam:type}}){let minValue,maxValue;let noMin=false;let noMax=false;if(type==="min"){minValue=parseInt(value);maxValue=parseInt(editingElement.dataset.ticksMax);}
if(type==="max"){maxValue=parseInt(value);minValue=parseInt(editingElement.dataset.ticksMin);}
if(isNaN(minValue)){noMin=true;minValue=0;}
if(!isNaN(maxValue)){if(maxValue<minValue){[minValue,maxValue]=[maxValue,minValue];[noMin,noMax]=[noMax,noMin];}else if(maxValue===minValue){minValue=minValue<0?2*minValue:0;maxValue=minValue<0?0:2*maxValue;}}else{noMax=true;maxValue=this.getMaxValue(editingElement);if(minValue>maxValue){maxValue=minValue;[noMin,noMax]=[noMax,noMin];}}
if(noMin){delete editingElement.dataset.ticksMin;}else{editingElement.dataset.ticksMin=minValue;}
if(noMax){delete editingElement.dataset.ticksMax;}else{editingElement.dataset.ticksMax=maxValue;}}}
const ColorChangeAction=__exports.ColorChangeAction=class ColorChangeAction extends BaseChartAction{static id="colorChange";getValue({editingElement,params:{type,datasetIndex,dataIndex}}){const data=this.getData(editingElement);if(this.isPieChart(editingElement)){return this.getColor(data.datasets[datasetIndex]?.[type][dataIndex]);}else{return this.getColor(data.datasets[datasetIndex]?.[type]);}}
apply({editingElement,value,params:{type,datasetIndex,dataIndex}}){const data=this.getData(editingElement);if(this.isPieChart(editingElement)){data.datasets[datasetIndex][type][dataIndex]=value;}else{data.datasets[datasetIndex][type]=value;}
this.updateDOMData(editingElement,data);}}
registry.category("website-plugins").add(ChartOptionPlugin.id,ChartOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/controller_page_listing_layout_option_plugin.js */
odoo.define('@website/builder/plugins/options/controller_page_listing_layout_option_plugin',['@html_editor/plugin','@web/core/registry','@web/core/l10n/translation','@web/core/network/rpc','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{rpc}=require("@web/core/network/rpc");const{BuilderAction}=require("@html_builder/core/builder_action");const mainObjectRe=/website\.controller\.page\(((\d+,?)*)\)/;class ControllerPageListingLayoutOptionPlugin extends Plugin{static id="controllerPageListingLayoutOption";static dependencies=["builderActions"];resources={builder_options:[{template:"website.ControllerPageListingLayoutOption",selector:".listing_layout_switcher",editableOnly:false,title:_t("Layout"),groups:["website.group_website_designer"],},],builder_actions:{ListingLayoutAction,},};}
const ListingLayoutAction=__exports.ListingLayoutAction=class ListingLayoutAction extends BuilderAction{static id="listingLayout";setup(){this.reload={};this.layout=undefined;this.resIds=undefined;}
async prepare(){const mainObjectRepr=this.document.documentElement.getAttribute("data-main-object");const match=mainObjectRe.exec(mainObjectRepr);if(match&&match[1]){this.resIds=match[1].split(",").flatMap((e)=>{if(!e){return[];}
const id=parseInt(e);return id?[id]:[];});}
const results=await this.services.orm.read("website.controller.page",this.resIds,["default_layout",]);this.layout=results[0]["default_layout"];}
getValue(){return this.layout;}
isApplied({value}){return this.layout===value;}
async apply({editingElement:el,value}){const params={layout_mode:value,view_id:el.dataset.viewId,};await Promise.all([this.services.orm.write("website.controller.page",this.resIds,{default_layout:value,}),rpc("/website/save_session_layout_mode",params),]);}}
registry.category("website-plugins").add(ControllerPageListingLayoutOptionPlugin.id,ControllerPageListingLayoutOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/cookies_bar_option.js */
odoo.define('@website/builder/plugins/options/cookies_bar_option',['@html_builder/core/builder_action','@html_editor/plugin','@web/core/registry','@web/core/utils/render'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{renderToElement}=require("@web/core/utils/render");class CookiesBarOptionPlugin extends Plugin{static id="CookiesBarOptionPlugin";resources={builder_options:[{template:"website.CookiesBarOption",selector:"#website_cookies_bar",applyTo:".modal",},],builder_actions:{SelectLayoutAction,},};}
const SelectLayoutAction=__exports.SelectLayoutAction=class SelectLayoutAction extends BuilderAction{static id="selectLayout";apply({editingElement,value:layout}){const templateEl=renderToElement(`website.cookies_bar.${layout}`,{websiteId:this.services.website.currentWebsite.id,});const contentEl=editingElement.querySelector(".modal-content");const selectorsToKeep=[".o_cookies_bar_text_button",".o_cookies_bar_text_button_essential",".o_cookies_bar_text_title",".o_cookies_bar_text_primary",".o_cookies_bar_text_secondary",".o_cookies_bar_text_policy",];if(this.savedSelectors===undefined){this.savedSelectors=[];}
for(const selector of selectorsToKeep){const currentLayoutEls=contentEl.querySelectorAll(`${selector} > *`);const newLayoutEl=templateEl.querySelector(selector);if(currentLayoutEls.length){this.savedSelectors[selector]=currentLayoutEls;}
const savedSelector=this.savedSelectors[selector];if(newLayoutEl&&savedSelector?.length){newLayoutEl.replaceChildren(savedSelector);}}
contentEl.replaceChildren(templateEl);switch(layout){case"discrete":case"classic":editingElement.classList.add("s_popup_bottom");this.getDialogEl(editingElement).classList.add("s_popup_size_full");break;case"popup":editingElement.classList.add("s_popup_middle");break;}}
clean({editingElement}){const positionClasses=["s_popup_top","s_popup_middle","s_popup_bottom"];const sizeClasses=["modal-sm","modal-lg","modal-xl","s_popup_size_full"];editingElement.classList.remove(...positionClasses);this.getDialogEl(editingElement).classList.remove(...sizeClasses);}
getDialogEl(editingElement){return editingElement.querySelector(".modal-dialog");}}
registry.category("website-plugins").add(CookiesBarOptionPlugin.id,CookiesBarOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/countdown_option_plugin.js */
odoo.define('@website/builder/plugins/options/countdown_option_plugin',['@html_builder/core/builder_action','@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@web/core/utils/render'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{before,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{renderToElement}=require("@web/core/utils/render");class CountdownOptionPlugin extends Plugin{static id="CountdownOption";resources={builder_options:[withSequence(before(SNIPPET_SPECIFIC_END),{template:"website.CountdownOption",selector:".s_countdown",cleanForSave,}),],so_content_addition_selector:[".s_countdown"],builder_actions:{ReloadCountdownAction,SetEndActionAction,PreviewEndMessageAction,SetLayoutAction,},};}
function cleanForSave(editingEl){editingEl.classList.remove("s_countdown_enable_preview");}
const BaseCountdownAction=__exports.BaseCountdownAction=class BaseCountdownAction extends BuilderAction{static id="baseCountdown";editingElEndMessages=new WeakMap();cleanForSave(editingEl){return cleanForSave(editingEl);}
setEndAction({editingElement,value}){editingElement.dataset.endAction=value;const endMessageEl=editingElement.querySelector(".s_countdown_end_message");editingElement.classList.toggle("hide-countdown",value==="message_no_countdown");if(value==="redirect"){editingElement.dataset.redirectUrl="";}else{delete editingElement.dataset.redirectUrl;}
if(value==="message"||value==="message_no_countdown"){if(!endMessageEl){const existingEndMessage=this.editingElEndMessages.get(editingElement);editingElement.appendChild(existingEndMessage||renderToElement("website.s_countdown.end_message"));}}else{endMessageEl?.remove();this.editingElEndMessages.set(editingElement,endMessageEl);this.toggleEndMessagePreview(editingElement,false);}}
isEndActionApplied({editingElement,value}){return editingElement.dataset.endAction===value;}
setLayout({editingElement,value}){switch(value){case"circle":editingElement.dataset.progressBarStyle="disappear";editingElement.dataset.progressBarWeight="thin";editingElement.dataset.layoutBackground="none";break;case"boxes":editingElement.dataset.progressBarStyle="none";editingElement.dataset.layoutBackground="plain";break;case"clean":editingElement.dataset.progressBarStyle="none";editingElement.dataset.layoutBackground="none";break;case"text":editingElement.dataset.progressBarStyle="none";editingElement.dataset.layoutBackground="none";break;}
editingElement.dataset.layout=value;}
isLayoutApplied({editingElement,value}){return editingElement.dataset.layout===value;}
isEndMessagePreviewed({editingElement}){return!!editingElement?.classList.contains("s_countdown_enable_preview");}
toggleEndMessagePreview(editingElement,doShow){editingElement?.classList.toggle("s_countdown_enable_preview",doShow===true);}}
const ReloadCountdownAction=__exports.ReloadCountdownAction=class ReloadCountdownAction extends BaseCountdownAction{static id="reloadCountdown";apply({editingElement}){return this.dispatchTo("update_interactions",editingElement);}}
const SetEndActionAction=__exports.SetEndActionAction=class SetEndActionAction extends BaseCountdownAction{static id="setEndAction";apply(context){return this.setEndAction(context);}
isApplied(context){return this.isEndActionApplied(context);}}
const PreviewEndMessageAction=__exports.PreviewEndMessageAction=class PreviewEndMessageAction extends BaseCountdownAction{static id="previewEndMessage";apply({editingElement}){return this.toggleEndMessagePreview(editingElement,true);}
clean({editingElement}){return this.toggleEndMessagePreview(editingElement,false);}
isApplied(context){return this.isEndMessagePreviewed(context);}}
const SetLayoutAction=__exports.SetLayoutAction=class SetLayoutAction extends BaseCountdownAction{static id="setLayout";apply(context){return this.setLayout(context);}
isApplied(context){return this.isLayoutApplied(context);}}
registry.category("website-plugins").add(CountdownOptionPlugin.id,CountdownOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/cover_properties_option.js */
odoo.define('@website/builder/plugins/options/cover_properties_option',['@html_builder/core/utils','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{_t}=require("@web/core/l10n/translation");const CoverPropertiesOption=__exports.CoverPropertiesOption=class CoverPropertiesOption extends BaseOptionComponent{static template="website.CoverPropertiesOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({useTextAlign:editingElement.dataset.use_text_align==="True",useSize:editingElement.dataset.use_size==="True",}));this.coverSizeClasses=Object.keys(coverSizeClassLabels);}
coverSizeLabel(className){return coverSizeClassLabels[className];}}
const coverSizeClassLabels=__exports.coverSizeClassLabels={o_full_screen_height:_t("Full Screen"),o_half_screen_height:_t("Half Screen"),cover_auto:_t("Fit text"),};return __exports;});;

/* /website/static/src/builder/plugins/options/cover_properties_option_plugin.js */
odoo.define('@website/builder/plugins/options/cover_properties_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/cover_properties_option','@html_builder/core/builder_action','@web/core/network/rpc','@html_editor/utils/resource','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{CoverPropertiesOption}=require("@website/builder/plugins/options/cover_properties_option");const{BuilderAction}=require("@html_builder/core/builder_action");const{rpc}=require("@web/core/network/rpc");const{withSequence}=require("@html_editor/utils/resource");const{COVER_PROPERTIES}=require("@website/builder/option_sequence");const{coverSizeClassLabels}=require("@website/builder/plugins/options/cover_properties_option");class CoverPropertiesOptionPlugin extends Plugin{static id="coverPropertiesOption";static dependencies=["builderActions","media","imagePostProcess"];resources={builder_options:[withSequence(COVER_PROPERTIES,{OptionComponent:CoverPropertiesOption,selector:".o_record_cover_container",editableOnly:false,}),],builder_actions:{SetCoverBackgroundAction,MarkCoverPropertiesToBeSavedAction,},savable_selectors:"#wrapwrap .o_record_cover_container[data-res-model]",before_save_handlers:this.savePendingBackgroundImage.bind(this),save_element_handlers:this.saveCoverProperties.bind(this),};async savePendingBackgroundImage(editableEl=this.editable){for(const coverEl of editableEl.querySelectorAll(".o_record_cover_container")){const bgEl=coverEl.querySelector(".o_record_cover_image");const bgImage=bgEl?.style.backgroundImage;if(bgImage&&bgEl.classList.contains("o_b64_cover_image_to_save")){const resModel=coverEl.dataset.resModel;const resID=Number(coverEl.dataset.resId);if(!resModel||!resID){throw new Error("There should be a model and id associated to the cover");}
const groups=bgImage.match(/url\("data:(?<mimetype>.*);base64,(?<imageData>.*)"\)/)?.groups;if(groups?.imageData){const modelName=await this.services.website.getUserModelName(resModel);const recordNameEl=bgEl.closest("body").querySelector(`[data-oe-model="${resModel}"][data-oe-id="${resID}"][data-oe-field="name"]`);const recordName=recordNameEl?`'${recordNameEl.textContent.replaceAll("/", "")}'`:resID;const attachment=await rpc("/web_editor/attachment/add_data",{name:`${modelName} ${recordName} cover image.${
                            groups.mimetype.split("/")[1]
                        }`,data:groups.imageData,is_image:true,res_model:"ir.ui.view",});bgEl.style.backgroundImage=`url(${attachment.image_src})`;}
bgEl.classList.remove("o_b64_cover_image_to_save");}}}
saveCoverProperties(el){if(!el.dataset.coverPropertiesToBeSaved){return;}
delete el.dataset.coverPropertiesToBeSaved;const resModel=el.dataset.resModel;const resID=Number(el.dataset.resId);if(!resModel||!resID){throw new Error("There should be a model and id associated to the cover");}
return this.services.orm.write(resModel,[resID],{cover_properties:JSON.stringify(this.readCoverPoperties(el)),});}
readCoverPoperties(el){const coverProperties={};const bg=el.querySelector(".o_record_cover_image")?.style.backgroundImage||"";coverProperties["background-image"]=bg;let coverClass=Object.keys(coverSizeClassLabels).find((e)=>el.classList.contains(e));if(bg&&bg!=="none"){coverClass+=" o_record_has_cover";}
coverProperties.resize_class=coverClass;coverProperties.text_align_class=["text-center","text-end"].find((e)=>el.classList.contains(e))||"";coverProperties.opacity=el.querySelector(".o_record_cover_filter")?.style.opacity||0.0;coverProperties.background_color_class=[...el.classList.values()].filter((e)=>e.startsWith("bg-")||e.startsWith("o_cc")).join(" ");if(el.style.backgroundImage){coverProperties.background_color_style=`background-color: rgba(0, 0, 0, 0); background-image: ${el.style.backgroundImage};`;}else if(el.style.backgroundColor){coverProperties.background_color_style=`background-color: ${el.style.backgroundColor};`;}else{coverProperties.background_color_style="";}
return coverProperties;}}
const BaseCoverPropertiesAction=__exports.BaseCoverPropertiesAction=class BaseCoverPropertiesAction extends BuilderAction{static id="baseCoverProperties";markCoverPropertiesToBeSaved({editingElement}){editingElement.closest(".o_record_cover_container").dataset.coverPropertiesToBeSaved=true;}}
const SetCoverBackgroundAction=__exports.SetCoverBackgroundAction=class SetCoverBackgroundAction extends BaseCoverPropertiesAction{static id="setCoverBackground";static dependencies=["builderActions","media"];setup(){this.classAction=this.dependencies.builderActions.getAction("classAction");this.styleAction=this.dependencies.builderActions.getAction("styleAction");}
load({params:{mainParam:setBackground}}){if(!setBackground){return;}
let resultPromise;return this.dependencies.media.openMediaDialog({onlyImages:true,save:(imageEl)=>{resultPromise=(async()=>{const b64ToSave=imageEl.getAttribute("src").startsWith("data:");return{imageSrc:imageEl.getAttribute("src"),b64ToSave};})();},}).then(()=>resultPromise||{cancel:true});}
isApplied({editingElement,params:{mainParam:setBackground}}){const bg=editingElement.querySelector(".o_record_cover_image").style.backgroundImage;return!setBackground===(!bg||bg==="none");}
apply({editingElement,loadResult:{imageSrc,b64ToSave,cancel}={}}){if(cancel){return;}
(imageSrc?this.classAction.apply:this.classAction.clean)({editingElement,params:{mainParam:"o_record_has_cover"},});const bgEl=editingElement.querySelector(".o_record_cover_image");(b64ToSave?this.classAction.apply:this.classAction.clean)({editingElement:bgEl,params:{mainParam:"o_b64_cover_image_to_save"},});this.styleAction.apply({editingElement:bgEl,params:{mainParam:"background-image"},value:imageSrc?`url('${imageSrc}')`:"",});editingElement.closest(".o_record_cover_container").dataset.coverPropertiesToBeSaved=true;}}
const MarkCoverPropertiesToBeSavedAction=__exports.MarkCoverPropertiesToBeSavedAction=class MarkCoverPropertiesToBeSavedAction extends BaseCoverPropertiesAction{static id="markCoverPropertiesToBeSaved";apply({editingElement}){editingElement.closest(".o_record_cover_container").dataset.coverPropertiesToBeSaved=true;}}
registry.category("website-plugins").add(CoverPropertiesOptionPlugin.id,CoverPropertiesOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/cta_badge_option_plugin.js */
odoo.define('@website/builder/plugins/options/cta_badge_option_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class CTABadgeOptionPlugin extends Plugin{static id="ctaBadgeOption";resources={builder_options:[{template:"website.CTABadgeOption",selector:".s_cta_badge",},],so_content_addition_selector:[".s_cta_badge"],};}
registry.category("website-plugins").add(CTABadgeOptionPlugin.id,CTABadgeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/dynamic_snippet_carousel_option.js */
odoo.define('@website/builder/plugins/options/dynamic_snippet_carousel_option',['@html_builder/core/utils','@website/builder/plugins/options/dynamic_snippet_hook','@website/builder/plugins/options/dynamic_snippet_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{useDynamicSnippetOption}=require("@website/builder/plugins/options/dynamic_snippet_hook");const{DynamicSnippetOption}=require("@website/builder/plugins/options/dynamic_snippet_option");const DynamicSnippetCarouselOption=__exports.DynamicSnippetCarouselOption=class DynamicSnippetCarouselOption extends BaseOptionComponent{static template="website.DynamicSnippetCarouselOption";static props={...DynamicSnippetOption.props};setup(){super.setup();this.dynamicOptionParams=useDynamicSnippetOption(this.props.modelNameFilter);}}
return __exports;});;

/* /website/static/src/builder/plugins/options/dynamic_snippet_carousel_option_plugin.js */
odoo.define('@website/builder/plugins/options/dynamic_snippet_carousel_option_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/dynamic_snippet_carousel_option','@website/builder/plugins/options/dynamic_snippet_option_plugin','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{DynamicSnippetCarouselOption}=require("@website/builder/plugins/options/dynamic_snippet_carousel_option");const{DYNAMIC_SNIPPET,setDatasetIfUndefined}=require("@website/builder/plugins/options/dynamic_snippet_option_plugin");const{BuilderAction}=require("@html_builder/core/builder_action");const DYNAMIC_SNIPPET_CAROUSEL=__exports.DYNAMIC_SNIPPET_CAROUSEL=DYNAMIC_SNIPPET;class DynamicSnippetCarouselOptionPlugin extends Plugin{static id="dynamicSnippetCarouselOption";static shared=["setOptionsDefaultValues","updateTemplateSnippetCarousel"];static dependencies=["dynamicSnippetOption"];selector=".s_dynamic_snippet_carousel";modelNameFilter="";resources={builder_actions:{SetCarouselSliderSpeedAction,},builder_options:withSequence(DYNAMIC_SNIPPET_CAROUSEL,{OptionComponent:DynamicSnippetCarouselOption,props:{modelNameFilter:this.modelNameFilter,},selector:this.selector,}),dynamic_snippet_template_updated:this.onTemplateUpdated.bind(this),on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),};onTemplateUpdated({el,template}){if(el.matches(this.selector)){this.updateTemplateSnippetCarousel(el,template);}}
updateTemplateSnippetCarousel(el,template){if(template.rowPerSlide){el.dataset.rowPerSlide=template.rowPerSlide;}else{delete el.dataset.rowPerSlide;}
if(template.arrowPosition){el.dataset.arrowPosition=template.arrowPosition;}else{delete el.dataset.arrowPosition;}}
async onSnippetDropped({snippetEl}){if(snippetEl.matches(this.selector)){await this.setOptionsDefaultValues(snippetEl,this.modelNameFilter);}}
async setOptionsDefaultValues(snippetEl,modelNameFilter,contextualFilterDomain=[]){await this.dependencies.dynamicSnippetOption.setOptionsDefaultValues(snippetEl,modelNameFilter,contextualFilterDomain);setDatasetIfUndefined(snippetEl,"carouselInterval","5000");}}
const SetCarouselSliderSpeedAction=__exports.SetCarouselSliderSpeedAction=class SetCarouselSliderSpeedAction extends BuilderAction{static id="setCarouselSliderSpeed";apply({editingElement,value}){editingElement.dataset.carouselInterval=value*1000;}
getValue({editingElement}){return editingElement.dataset.carouselInterval===undefined?undefined:editingElement.dataset.carouselInterval/1000;}}
registry.category("website-plugins").add(DynamicSnippetCarouselOptionPlugin.id,DynamicSnippetCarouselOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/dynamic_snippet_hook.js */
odoo.define('@website/builder/plugins/options/dynamic_snippet_hook',['@html_builder/core/utils','@odoo/owl'],function(require){'use strict';let __exports={};const{useDomState}=require("@html_builder/core/utils");const{onWillStart,useEnv}=require("@odoo/owl");__exports.useDynamicSnippetOption=useDynamicSnippetOption;function useDynamicSnippetOption(modelNameFilter,contextualFilterDomain=[]){const env=useEnv();onWillStart(async()=>{await fetchDynamicFiltersAndTemplates();});const dynamicFilterTemplates={};let defaultFilterId;const dynamicFilters={};const domState=useDomState((editingElement)=>({filterId:editingElement.dataset.filterId,}));async function fetchDynamicFiltersAndTemplates(){const fetchedDynamicFilters=await env.editor.shared.dynamicSnippetOption.fetchDynamicFilters({model_name:modelNameFilter,search_domain:contextualFilterDomain,});if(!fetchedDynamicFilters.length){return;}
const uniqueModelName=new Set();for(const dynamicFilter of fetchedDynamicFilters){dynamicFilters[dynamicFilter.id]=dynamicFilter;uniqueModelName.add(dynamicFilter.model_name);}
defaultFilterId=fetchedDynamicFilters[0].id;const fetchedDynamicFilterTemplates=await env.editor.shared.dynamicSnippetOption.fetchDynamicFilterTemplates({filter_name:modelNameFilter.replaceAll(".","_"),});for(const dynamicFilterTemplate of fetchedDynamicFilterTemplates){dynamicFilterTemplates[dynamicFilterTemplate.key]=dynamicFilterTemplate;}
const defaultTemplatePerModel={};for(const modelName of uniqueModelName){for(const template of fetchedDynamicFilterTemplates){if(template.key.includes(`_${modelName.replaceAll(".", "_")}_`)){defaultTemplatePerModel[modelName]=template;break;}}}
for(const dynamicFilter of fetchedDynamicFilters){dynamicFilter.defaultTemplate=defaultTemplatePerModel[dynamicFilter.model_name];}}
function getFilteredTemplates(){if(!Object.values(dynamicFilterTemplates).length){return[];}
const namePattern=`_${dynamicFilters[
            domState.filterId || defaultFilterId
        ].model_name.replaceAll(".", "_")}_`;return Object.values(dynamicFilterTemplates).filter((template)=>template.key.includes(namePattern));}
function showFilterOption(){return Object.values(dynamicFilters).length>1;}
return{dynamicFilters,domState,getFilteredTemplates,showFilterOption,};}
return __exports;});;

/* /website/static/src/builder/plugins/options/dynamic_snippet_option.js */
odoo.define('@website/builder/plugins/options/dynamic_snippet_option',['@html_builder/core/utils','@website/builder/plugins/options/dynamic_snippet_hook'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{useDynamicSnippetOption}=require("@website/builder/plugins/options/dynamic_snippet_hook");const DynamicSnippetOption=__exports.DynamicSnippetOption=class DynamicSnippetOption extends BaseOptionComponent{static template="website.DynamicSnippetOption";static props={slots:{type:Object,optional:true},modelNameFilter:{type:String},};setup(){super.setup();this.dynamicOptionParams=useDynamicSnippetOption(this.props.modelNameFilter);}}
return __exports;});;

/* /website/static/src/builder/plugins/options/dynamic_snippet_option_plugin.js */
odoo.define('@website/builder/plugins/options/dynamic_snippet_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/network/rpc','@web/core/registry','@web/core/utils/cache','@website/builder/plugins/options/dynamic_snippet_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{rpc}=require("@web/core/network/rpc");const{registry}=require("@web/core/registry");const{Cache}=require("@web/core/utils/cache");const{DynamicSnippetOption}=require("@website/builder/plugins/options/dynamic_snippet_option");const{BuilderAction}=require("@html_builder/core/builder_action");const DYNAMIC_SNIPPET=__exports.DYNAMIC_SNIPPET=SNIPPET_SPECIFIC_END;class DynamicSnippetOptionPlugin extends Plugin{static id="dynamicSnippetOption";static shared=["fetchDynamicFilters","fetchDynamicFilterTemplates","setOptionsDefaultValues","updateTemplate",];selector=".s_dynamic_snippet";modelNameFilter="";resources={builder_options:[withSequence(DYNAMIC_SNIPPET,{OptionComponent:DynamicSnippetOption,props:{modelNameFilter:this.modelNameFilter,},selector:this.selector,}),],builder_actions:{DynamicFilterAction,DynamicFilterTemplateAction,CustomizeTemplateAction,},on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),};setup(){this.dynamicFiltersCache=new Cache(this._fetchDynamicFilters,JSON.stringify);this.dynamicFilterTemplatesCache=new Cache(this._fetchDynamicFilterTemplates,JSON.stringify);}
destroy(){super.destroy();this.dynamicFiltersCache.invalidate();this.dynamicFilterTemplatesCache.invalidate();}
async onSnippetDropped({snippetEl}){if(snippetEl.matches(this.selector)){await this.setOptionsDefaultValues(snippetEl,this.modelNameFilter);}}
async setOptionsDefaultValues(snippetEl,modelNameFilter,contextualFilterDomain=[]){const fetchedDynamicFilters=await this.fetchDynamicFilters({model_name:modelNameFilter,search_domain:contextualFilterDomain,});const dynamicFilters={};for(const dynamicFilter of fetchedDynamicFilters){dynamicFilters[dynamicFilter.id]=dynamicFilter;}
const fetchedDynamicFilterTemplates=await this.fetchDynamicFilterTemplates({filter_name:modelNameFilter.replaceAll(".","_"),});const dynamicFilterTemplates={};for(const dynamicFilterTemplate of fetchedDynamicFilterTemplates){dynamicFilterTemplates[dynamicFilterTemplate.key]=dynamicFilterTemplate;}
let selectedFilterId=snippetEl.dataset["filterId"];if(Object.keys(dynamicFilters).length>0){setDatasetIfUndefined(snippetEl,"numberOfRecords",fetchedDynamicFilters[0].limit);const defaultFilterId=fetchedDynamicFilters[0].id;if(!dynamicFilters[selectedFilterId]){snippetEl.dataset["filterId"]=defaultFilterId;selectedFilterId=defaultFilterId;}}
if(dynamicFilters[selectedFilterId]&&!dynamicFilterTemplates[snippetEl.dataset["templateKey"]]){const modelName=dynamicFilters[selectedFilterId].model_name.replaceAll(".","_");const defaultFilterTemplate=fetchedDynamicFilterTemplates.find((dynamicTemplate)=>dynamicTemplate.key.includes(modelName));snippetEl.dataset["templateKey"]=defaultFilterTemplate.key;this.updateTemplate(snippetEl,defaultFilterTemplate);}}
getTemplateClass(templateKey){return templateKey.replace(/.*\.dynamic_filter_template_/,"s_");}
updateTemplate(el,template){const newTemplateKey=template.key;const oldTemplateKey=el.dataset.templateKey;el.dataset.templateKey=newTemplateKey;if(oldTemplateKey){el.classList.remove(this.getTemplateClass(oldTemplateKey));}
el.classList.add(this.getTemplateClass(newTemplateKey));if(template.numOfEl){el.dataset.numberOfElements=template.numOfEl;}else{delete el.dataset.numberOfElements;}
if(template.numOfElSm){el.dataset.numberOfElementsSmallDevices=template.numOfElSm;}else{delete el.dataset.numberOfElementsSmallDevices;}
if(template.numOfElFetch){el.dataset.numberOfRecords=template.numOfElFetch;}
if(template.extraClasses){el.dataset.extraClasses=template.extraClasses;}else{delete el.dataset.extraClasses;}
if(template.columnClasses){el.dataset.columnClasses=template.columnClasses;}else{delete el.dataset.columnClasses;}
this.dispatchTo("dynamic_snippet_template_updated",{el:el,template:template});}
async fetchDynamicFilters(params){return this.dynamicFiltersCache.read(params);}
async _fetchDynamicFilters(params){return rpc("/website/snippet/options_filters",params);}
async fetchDynamicFilterTemplates(params){return this.dynamicFilterTemplatesCache.read(params);}
async _fetchDynamicFilterTemplates(params){return rpc("/website/snippet/filter_templates",params);}}
__exports.setDatasetIfUndefined=setDatasetIfUndefined;function setDatasetIfUndefined(snippetEl,optionName,value){if(snippetEl.dataset[optionName]===undefined){snippetEl.dataset[optionName]=value;}}
const DynamicFilterAction=__exports.DynamicFilterAction=class DynamicFilterAction extends BuilderAction{static id="dynamicFilter";static dependencies=["dynamicSnippetOption"];isApplied({editingElement:el,params}){return parseInt(el.dataset.filterId)===params.id;}
apply({editingElement:el,params}){el.dataset.filterId=params.id;if(!el.dataset.templateKey||!el.dataset.templateKey.includes(`_${params.model_name.replaceAll(".", "_")}_`)){this.dependencies.dynamicSnippetOption.updateTemplate(el,params.defaultTemplate);}}}
const DynamicFilterTemplateAction=__exports.DynamicFilterTemplateAction=class DynamicFilterTemplateAction extends BuilderAction{static id="dynamicFilterTemplate";static dependencies=["dynamicSnippetOption"];isApplied({editingElement:el,params}){return el.dataset.templateKey===params.key;}
apply({editingElement:el,params}){this.dependencies.dynamicSnippetOption.updateTemplate(el,params);}}
const CustomizeTemplateAction=__exports.CustomizeTemplateAction=class CustomizeTemplateAction extends BuilderAction{static id="customizeTemplate";isApplied({editingElement:el,params:{mainParam:customDataKey}}){const customData=JSON.parse(el.dataset.customTemplateData);return customData[customDataKey];}
apply({editingElement:el,params:{mainParam:customDataKey},value}){const customData=JSON.parse(el.dataset.customTemplateData);customData[customDataKey]=true;el.dataset.customTemplateData=JSON.stringify(customData);}
clean({editingElement:el,params:{mainParam:customDataKey},value}){const customData=JSON.parse(el.dataset.customTemplateData);customData[customDataKey]=false;el.dataset.customTemplateData=JSON.stringify(customData);}}
registry.category("website-plugins").add(DynamicSnippetOptionPlugin.id,DynamicSnippetOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/embed_code_option_dialog.js */
odoo.define('@website/builder/plugins/options/embed_code_option_dialog',['@web/core/dialog/dialog','@web/core/code_editor/code_editor','@web/core/utils/hooks','@website/components/edit_head_body_dialog/edit_head_body_dialog','@odoo/owl'],function(require){'use strict';let __exports={};const{Dialog}=require("@web/core/dialog/dialog");const{CodeEditor}=require("@web/core/code_editor/code_editor");const{useService}=require("@web/core/utils/hooks");const{EditHeadBodyDialog}=require("@website/components/edit_head_body_dialog/edit_head_body_dialog");const{Component,useState}=require("@odoo/owl");const EmbedCodeOptionDialog=__exports.EmbedCodeOptionDialog=class EmbedCodeOptionDialog extends Component{static template="website.EmbedCodeOptionDialog";static components={Dialog,CodeEditor};static props={title:String,value:String,mode:String,confirm:Function,close:Function,};setup(){this.dialog=useService("dialog");this.state=useState({value:this.props.value});}
onCodeChange(newValue){this.state.value=newValue;}
onConfirm(){this.props.confirm(this.state.value);this.props.close();}
onInjectHeadOrBody(){this.dialog.add(EditHeadBodyDialog);this.props.close();}}
return __exports;});;

/* /website/static/src/builder/plugins/options/embed_code_option_plugin.js */
odoo.define('@website/builder/plugins/options/embed_code_option_plugin',['@html_builder/utils/option_sequence','@website/builder/plugins/options/embed_code_option_dialog','@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@web/core/registry','@website/js/utils','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{BEGIN}=require("@html_builder/utils/option_sequence");const{EmbedCodeOptionDialog}=require("@website/builder/plugins/options/embed_code_option_dialog");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{cloneContentEls}=require("@website/js/utils");const{BuilderAction}=require("@html_builder/core/builder_action");class EmbedCodeOptionPlugin extends Plugin{static id="embedCodeOption";resources={builder_options:[withSequence(BEGIN,{template:"website.EmbedCodeOption",selector:".s_embed_code",}),],so_content_addition_selector:[".s_embed_code"],builder_actions:{EditCodeAction,},clean_for_save_handlers:this.cleanForSave.bind(this),};cleanForSave({root}){for(const embedCodeEl of root.querySelectorAll(".s_embed_code")){const embedTemplateEl=embedCodeEl.querySelector(".s_embed_code_saved");if(embedTemplateEl){embedCodeEl.querySelector(".s_embed_code_embedded").replaceChildren(cloneContentEls(embedTemplateEl.content,true));}}}}
const EditCodeAction=__exports.EditCodeAction=class EditCodeAction extends BuilderAction{static id="editCode";async load({editingElement}){let newContent;await new Promise((resolve)=>{this.services.dialog.add(EmbedCodeOptionDialog,{title:_t("Edit embedded code"),value:this.getTemplateEl(editingElement).innerHTML.trim(),mode:"xml",confirm:(newValue)=>{newContent=newValue;},},{onClose:resolve});});return newContent;}
apply({editingElement,loadResult:content}){if(!content){return;}
this.getTemplateEl(editingElement).content.replaceChildren(cloneContentEls(content,true));editingElement.querySelector(".s_embed_code_embedded").replaceChildren(cloneContentEls(content));}
getTemplateEl(editingElement){return editingElement.querySelector("template.s_embed_code_saved");}}
registry.category("website-plugins").add(EmbedCodeOptionPlugin.id,EmbedCodeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/facebook_option_plugin.js */
odoo.define('@website/builder/plugins/options/facebook_option_plugin',['@html_editor/plugin','@web/core/registry','@web/core/l10n/translation','@html_editor/utils/dom_traversal','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{getCommonAncestor,selectElements}=require("@html_editor/utils/dom_traversal");const{BuilderAction}=require("@html_builder/core/builder_action");class FacebookOptionPlugin extends Plugin{static id="facebookOption";static dependencies=["history"];resources={builder_options:[{template:"website.FacebookOption",selector:".o_facebook_page",},],so_content_addition_selector:[".o_facebook_page"],builder_actions:{DataAttributeListAction,CheckFacebookLinkAction,},normalize_handlers:this.normalize.bind(this),};normalize(root){for(const element of selectElements(root,".o_facebook_page")){let desiredHeight;if(element.dataset.tabs){desiredHeight=element.dataset.tabs==="events"?300:500;}else if(element.dataset.small_header){desiredHeight=70;}else{desiredHeight=150;}
if(desiredHeight!==element.dataset.height){element.dataset.height=desiredHeight;}}
const nodes=[...selectElements(root,".o_facebook_page:not([data-href])")];if(nodes.length){this.loadAndSetEmptyLink(nodes);}}
async loadAndSetEmptyLink(nodes){if(this.facebookUrl){this.setEmptyLink(nodes);return;}
const res=await this.services.orm.read("website",[this.services.website.currentWebsite.id],["social_facebook"]);if(res){this.facebookUrl=res[0].social_facebook||"https://www.facebook.com/Odoo";const hasChanged=this.dependencies.history.ignoreDOMMutations(()=>this.setEmptyLink(nodes));if(hasChanged){const commonAncestor=getCommonAncestor(nodes,this.editable);this.dispatchTo("content_manually_updated_handlers",commonAncestor);this.config.onChange({isPreviewing:false});}}}
setEmptyLink(nodes){let hasChanged=false;for(const element of nodes){if(!element.dataset.href){element.dataset.href=this.facebookUrl;hasChanged=true;}}
return hasChanged;}}
const DataAttributeListAction=__exports.DataAttributeListAction=class DataAttributeListAction extends BuilderAction{static id="dataAttributeList";isApplied({editingElement,params:{mainParam}={},value}){return(editingElement.dataset[mainParam]?.split(",")||[]).includes(value);}
apply({editingElement,params:{mainParam}={},value}){editingElement.dataset[mainParam]=[...(editingElement.dataset[mainParam]?.split(",")||[]),value,].join(",");}
clean({editingElement,params:{mainParam}={},value}){editingElement.dataset[mainParam]=(editingElement.dataset[mainParam]?.split(",")||[]).filter((e)=>e!==value).join(",");}}
const CheckFacebookLinkAction=__exports.CheckFacebookLinkAction=class CheckFacebookLinkAction extends BuilderAction{static id="checkFacebookLink";setup(){this.closeNotif=()=>{};}
apply({editingElement,value}){editingElement.dataset.id="";const id=this.idFromFacebookLink(value);if(id){editingElement.dataset.id=id;this.checkFacebookId(id).then((ok)=>{this.closeNotif();if(ok){this.closeNotif=()=>{};}else{this.closeNotif=this.services.notification.add(_t("We couldn't find the Facebook page"),{type:"warning"});}});}else{this.closeNotif();this.closeNotif=this.services.notification.add(_t("You didn't provide a valid Facebook link"),{type:"warning"});}}
idFromFacebookLink(url){const match=url.trim().match(/^(https?:\/\/)?((www\.)?(fb|facebook)|(m\.)?facebook)\.com\/(((profile\.php\?id=|people\/([^/?#]+\/)?|(p\/)?[^/?#]+-)(?<id>[0-9]{12,16}))|(?<nameid>[\w.]+))($|[/?# ])/);return match?.groups.nameid||match?.groups.id;}
async checkFacebookId(id){const res=await fetch(`https://graph.facebook.com/${id}/picture`);return res.ok;}}
registry.category("website-plugins").add(FacebookOptionPlugin.id,FacebookOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/faq_horizontal_option_plugin.js */
odoo.define('@website/builder/plugins/options/faq_horizontal_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry'],function(require){'use strict';let __exports={};const{BEGIN}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");class FaqHorizontalOptionPlugin extends Plugin{static id="faqHorizontalOption";static dependencies=["clone"];resources={builder_options:[withSequence(BEGIN,{template:"website.FaqHorizontalOption",selector:".s_faq_horizontal",}),],};}
registry.category("website-plugins").add(FaqHorizontalOptionPlugin.id,FaqHorizontalOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/footer_copyright_option.js */
odoo.define('@website/builder/plugins/options/footer_copyright_option',['@html_builder/core/utils','@odoo/owl','@web/core/network/rpc'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{onWillStart}=require("@odoo/owl");const{rpc}=require("@web/core/network/rpc");const FooterCopyrightOption=__exports.FooterCopyrightOption=class FooterCopyrightOption extends BaseOptionComponent{static template="website.FooterCopyrightOption";static props={};setup(){super.setup();this.languages=null;onWillStart(async()=>{this.languages=await rpc("/website/get_languages",{},{cached:true});});}}
return __exports;});;

/* /website/static/src/builder/plugins/options/footer_copyright_option_plugin.js */
odoo.define('@website/builder/plugins/options/footer_copyright_option_plugin',['@web/core/registry','@html_editor/plugin','@website/builder/plugins/options/footer_copyright_option'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{FooterCopyrightOption}=require("@website/builder/plugins/options/footer_copyright_option");class FooterCopyrightOptionPlugin extends Plugin{static id="footerCopyrightOption";resources={builder_options:[{OptionComponent:FooterCopyrightOption,selector:".o_footer_copyright",editableOnly:false,groups:["website.group_website_designer"],},],};}
registry.category("website-plugins").add(FooterCopyrightOptionPlugin.id,FooterCopyrightOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/footer_option_plugin.js */
odoo.define('@website/builder/plugins/options/footer_option_plugin',['@web/core/registry','@html_editor/plugin','@html_editor/utils/resource','@web/core/network/rpc','@html_builder/utils/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{rpc}=require("@web/core/network/rpc");const{after,SNIPPET_SPECIFIC_NEXT}=require("@html_builder/utils/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");const FOOTER_TEMPLATE=__exports.FOOTER_TEMPLATE=SNIPPET_SPECIFIC_NEXT;const FOOTER_WIDTH=__exports.FOOTER_WIDTH=after(FOOTER_TEMPLATE);const FOOTER_SLIDEOUT=__exports.FOOTER_SLIDEOUT=after(FOOTER_WIDTH);const FOOTER_BORDER=__exports.FOOTER_BORDER=after(FOOTER_SLIDEOUT);const FOOTER_COLORS=__exports.FOOTER_COLORS=after(FOOTER_BORDER);const FOOTER_SCROLL_TO=__exports.FOOTER_SCROLL_TO=after(FOOTER_COLORS);const FOOTER_COPYRIGHT=__exports.FOOTER_COPYRIGHT=after(FOOTER_SCROLL_TO);class FooterOptionPlugin extends Plugin{static id="footerOption";static dependencies=["customizeWebsite","builderActions"];resources={builder_options:[withSequence(FOOTER_TEMPLATE,{template:"website.FooterTemplateOption",selector:"#wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_WIDTH,{template:"website.FooterWidthOption",selector:"#wrapwrap > footer",applyTo:":is(:scope > #footer > section, .o_footer_copyright) > :is(.container, .container-fluid, .o_container_small)",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_COLORS,{template:"website.FooterColorsOption",selector:"#wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_SLIDEOUT,{template:"website.FooterSlideoutOption",selector:"#wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_COPYRIGHT,{template:"website.ToggleFooterCopyrightOption",selector:"#wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_BORDER,{template:"website.FooterBorder",selector:"#wrapwrap > footer",applyTo:"#footer",editableOnly:false,groups:["website.group_website_designer"],}),withSequence(FOOTER_SCROLL_TO,{template:"website.FooterScrollToTopOption",selector:"#wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),],builder_actions:{WebsiteConfigFooterAction,},on_prepare_drag_handlers:this.prepareDrag.bind(this),};prepareDrag(){let restore=()=>{};const wrapwrapEl=this.editable;const hasFooterScrollEffect=wrapwrapEl.classList.contains("o_footer_effect_enable");if(hasFooterScrollEffect){wrapwrapEl.classList.remove("o_footer_effect_enable");restore=()=>{wrapwrapEl.classList.add("o_footer_effect_enable");};}
return restore;}}
const WebsiteConfigFooterAction=__exports.WebsiteConfigFooterAction=class WebsiteConfigFooterAction extends BuilderAction{static id="websiteConfigFooter";static dependencies=["builderActions","customizeWebsite"];setup(){this.reload={};}
isApplied({params:{vars}}){for(const[name,value]of Object.entries(vars)){if(!this.dependencies.builderActions.getAction("customizeWebsiteVariable").isApplied({params:{mainParam:name},value})){return false;}}
return true;}
async apply({params:{vars,view},selectableContext}){const possibleValues=new Set();for(const item of selectableContext.items){for(const a of item.getActions()){if(a.actionId==="websiteConfigFooter"){possibleValues.add(a.actionParam.view);}}}
await Promise.all([this.dependencies.customizeWebsite.makeSCSSCusto("/website/static/src/scss/options/user_values.scss",vars),rpc("/website/update_footer_template",{template_key:view,possible_values:[...possibleValues],}),]);}}
registry.category("website-plugins").add(FooterOptionPlugin.id,FooterOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/gallery_element_option_plugin.js */
odoo.define('@website/builder/plugins/options/gallery_element_option_plugin',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC}=require("@html_builder/utils/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");const GalleryElementOptionPlugin=__exports.GalleryElementOptionPlugin=class GalleryElementOptionPlugin extends Plugin{static id="galleryElementOption";resources={builder_options:[withSequence(SNIPPET_SPECIFIC,{template:"website.GalleryElementOption",selector:".s_image_gallery img, .s_carousel .carousel-item, .s_quotes_carousel .carousel-item, .s_carousel_intro .carousel-item, .s_carousel_cards .carousel-item",}),],builder_actions:{SetGalleryElementPositionAction,},};}
const SetGalleryElementPositionAction=__exports.SetGalleryElementPositionAction=class SetGalleryElementPositionAction extends BuilderAction{static id="setGalleryElementPosition";apply({editingElement:activeItemEl,value:position}){const optionName=activeItemEl.classList.contains("carousel-item")?"Carousel":"GalleryImageList";const itemEls=[];for(const getGalleryItems of this.getResource("get_gallery_items_handlers")){itemEls.push(...getGalleryItems(activeItemEl,optionName));}
const oldPosition=itemEls.indexOf(activeItemEl);if(oldPosition===0&&position==="prev"){position="last";}else if(oldPosition===itemEls.length-1&&position==="next"){position="first";}
itemEls.splice(oldPosition,1);switch(position){case"first":itemEls.unshift(activeItemEl);break;case"prev":itemEls.splice(Math.max(oldPosition-1,0),0,activeItemEl);break;case"next":itemEls.splice(oldPosition+1,0,activeItemEl);break;case"last":itemEls.push(activeItemEl);break;}
this.dispatchTo("reorder_items_handlers",activeItemEl,itemEls,optionName);}}
registry.category("website-plugins").add(GalleryElementOptionPlugin.id,GalleryElementOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/google_maps_option/google_maps_api_key_dialog.js */
odoo.define('@website/builder/plugins/options/google_maps_option/google_maps_api_key_dialog',['@web/core/l10n/translation','@web/core/dialog/dialog','@web/core/utils/hooks','@odoo/owl'],function(require){'use strict';let __exports={};const{_t}=require("@web/core/l10n/translation");const{Dialog}=require("@web/core/dialog/dialog");const{useChildRef,useService}=require("@web/core/utils/hooks");const{Component,useState,useRef}=require("@odoo/owl");const GoogleMapsApiKeyDialog=__exports.GoogleMapsApiKeyDialog=class GoogleMapsApiKeyDialog extends Component{static template="website.GoogleMapsApiKeyDialog";static components={Dialog};static props={originalApiKey:String,onSave:Function,close:Function,};setup(){this.modalRef=useChildRef();this.state=useState({apiKey:this.props.originalApiKey,apiKeyValidation:{isValid:false},});this.apiKeyInput=useRef("apiKeyInput");this.googleMapsService=useService("google_maps");}
async onClickSave(){if(this.state.apiKey){const buttons=this.modalRef.el.querySelectorAll("button");buttons.forEach((button)=>button.setAttribute("disabled",true));const apiKeyValidation=await this.googleMapsService.validateGMapsApiKey(this.state.apiKey);this.state.apiKeyValidation=apiKeyValidation;if(apiKeyValidation.isValid){await this.props.onSave(this.state.apiKey);this.props.close();}
buttons.forEach((button)=>button.removeAttribute("disabled"));}else{this.state.apiKeyValidation={isValid:false,message:_t("Enter an API Key"),};}}}
return __exports;});;

/* /website/static/src/builder/plugins/options/google_maps_option/google_maps_option.js */
odoo.define('@website/builder/plugins/options/google_maps_option/google_maps_option',['@odoo/owl','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{useRef,onMounted,useState,useEffect,onWillDestroy}=require("@odoo/owl");const{BaseOptionComponent}=require("@html_builder/core/utils");const GoogleMapsOption=__exports.GoogleMapsOption=class GoogleMapsOption extends BaseOptionComponent{static template="website.GoogleMapsOption";static props={getMapsAPI:{type:Function},getPlace:{type:Function},onPlaceChanged:{type:Function},};async setup(){super.setup();this.props;this.env;this.inputRef=useRef("inputRef");this.state=useState({formattedAddress:this.env.getEditingElement().dataset.pinAddress||"",});useEffect(()=>{this.env.getEditingElement().dataset.pinAddress=this.state.formattedAddress;},()=>[this.state.formattedAddress]);onMounted(async()=>{this.initializeAutocomplete(this.inputRef.el);});onWillDestroy(()=>{if(this.autocompleteListener){this.props.getMapsAPI().event.removeListener(this.autocompleteListener);}
for(const container of document.body.querySelectorAll(".pac-container")){container.remove();}});}
initializeAutocomplete(inputEl){if(!this.googleMapsAutocomplete&&this.props.getMapsAPI()){const mapsAPI=this.props.getMapsAPI();this.googleMapsAutocomplete=new mapsAPI.places.Autocomplete(inputEl,{types:["geocode"],});this.autocompleteListener=mapsAPI.event.addListener(this.googleMapsAutocomplete,"place_changed",this.onPlaceChanged.bind(this));if(!this.state.formattedAddress){const editingElement=this.env.getEditingElement();const coordinates=editingElement.dataset.mapGps;this.props.getPlace(editingElement,coordinates).then((place)=>{if(place?.formatted_address){this.state.formattedAddress=place.formatted_address;}});}}}
onPlaceChanged(){const place=this.googleMapsAutocomplete.getPlace();this.props.onPlaceChanged(this.env.getEditingElement(),place);this.state.formattedAddress=place?.formatted_address||"";}}
return __exports;});;

/* /website/static/src/builder/plugins/options/google_maps_option/google_maps_option_plugin.js */
odoo.define('@website/builder/plugins/options/google_maps_option/google_maps_option_plugin',['@web/core/registry','@web/core/l10n/translation','@web/core/utils/render','@html_editor/plugin','@website/builder/plugins/options/google_maps_option/google_maps_api_key_dialog','@website/builder/plugins/options/google_maps_option/google_maps_option','@odoo/hoot-dom','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{renderToElement}=require("@web/core/utils/render");const{Plugin}=require("@html_editor/plugin");const{GoogleMapsApiKeyDialog}=require("@website/builder/plugins/options/google_maps_option/google_maps_api_key_dialog");const{GoogleMapsOption}=require("@website/builder/plugins/options/google_maps_option/google_maps_option");const{Deferred}=require("@odoo/hoot-dom");const{BuilderAction}=require("@html_builder/core/builder_action");const GoogleMapsOptionPlugin=__exports.GoogleMapsOptionPlugin=class GoogleMapsOptionPlugin extends Plugin{static id="googleMapsOption";static dependencies=["history","edit_interaction"];static shared=["configureGMapsAPI","initializeGoogleMaps","failedToInitializeGoogleMaps","shouldRefetchApiKey","shouldNotRefetchApiKey",];resources={builder_options:[{OptionComponent:GoogleMapsOption,selector:".s_google_map",props:{getMapsAPI:this.getMapsAPI.bind(this),getPlace:this.getPlace.bind(this),onPlaceChanged:this.commitPlace.bind(this),},},],so_content_addition_selector:[".s_google_map"],on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),builder_actions:{ResetMapColorAction,ShowDescriptionAction,},};setup(){this.websiteService=this.services.website;this.dialog=this.services.dialog;this.orm=this.services.orm;this.notification=this.services.notification;this.gpsMapCache=new Map();this.recentlyDroppedSnippetDeferredInit=new Map();}
async onSnippetDropped({snippetEl}){if(snippetEl.matches(".s_google_map")){const deferredInit=new Deferred();this.recentlyDroppedSnippetDeferredInit.set(snippetEl,deferredInit);this.dependencies.edit_interaction.restartInteractions(snippetEl);const initSuccess=await deferredInit;this.recentlyDroppedSnippetDeferredInit.delete(snippetEl);if(!initSuccess){return true;}}}
failedToInitializeGoogleMaps(editingElement){this.recentlyDroppedSnippetDeferredInit.get(editingElement)?.resolve(false);}
getMapsAPI(){return this.mapsAPI;}
async initializeGoogleMaps(editingElement,mapsAPI){this.recentlyDroppedSnippetDeferredInit.get(editingElement)?.resolve(true);if(mapsAPI){this.mapsAPI=mapsAPI;this.placesAPI=mapsAPI.places;}
return(!!this.placesAPI&&!!(await this.getPlace(editingElement,editingElement.dataset.mapGps)));}
async getPlace(editingElement,coordinates){const place=await this.nearbySearch(coordinates);if(place?.error&&!this.isGoogleMapsErrorBeingHandled){this.notifyGMapsError(editingElement);}else if(!place&&!this.isGoogleMapsErrorBeingHandled){this.undoInitialize?.();}else{return place;}}
commitPlace(editingElement,place){if(place?.geometry){const location=place.geometry.location;const coordinates=`(${location.lat()},${location.lng()})`;this.gpsMapCache.set(coordinates,place);const currentMapData=editingElement.dataset;const{mapGps,pinAddress}=currentMapData;if(mapGps!==coordinates||pinAddress!==place.formatted_address){editingElement.dataset.mapGps=coordinates;editingElement.dataset.pinAddress=place.formatted_address;this.dispatchTo("content_manually_updated_handlers",editingElement);this.dependencies.history.addStep();}}}
async configureGMapsAPI(apiKey){this.undoInitialize=this.dependencies.history.makeSavePoint();const websiteId=this.websiteService.currentWebsite.id;const didReconfigure=await new Promise((resolve)=>{let isInvalidated=false;this.dialog.add(GoogleMapsApiKeyDialog,{originalApiKey:apiKey,onSave:async(newApiKey)=>{await this.orm.write("website",[websiteId],{google_maps_api_key:newApiKey,});this.shouldRefetchApiKey=false;isInvalidated=true;},},{onClose:()=>resolve(isInvalidated),});});return didReconfigure;}
async nearbySearch(coordinates){const place=this.gpsMapCache.get(coordinates);if(place){return place;}
const p=coordinates.substring(1).slice(0,-1).split(",");const location=new this.mapsAPI.LatLng(p[0]||0,p[1]||0);return new Promise((resolve)=>{const placesService=new this.placesAPI.PlacesService(document.createElement("div"));placesService.nearbySearch({location,radius:1,},(results,status)=>{const GMAPS_CRITICAL_ERRORS=[this.placesAPI.PlacesServiceStatus.REQUEST_DENIED,this.placesAPI.PlacesServiceStatus.UNKNOWN_ERROR,];if(status===this.placesAPI.PlacesServiceStatus.OK){placesService.getDetails({placeId:results[0].place_id,fields:["geometry","formatted_address"],},(place,status)=>{if(status===this.placesAPI.PlacesServiceStatus.OK){this.gpsMapCache.set(coordinates,place);resolve(place);}else if(GMAPS_CRITICAL_ERRORS.includes(status)){resolve({error:status});}else{resolve();}});}else if(GMAPS_CRITICAL_ERRORS.includes(status)){resolve({error:status});}else{resolve();}});});}
notifyGMapsError(editingElement){if(!this.isGoogleMapsErrorBeingHandled){this.isGoogleMapsErrorBeingHandled=true;this.notification.add(_t("A Google Maps error occurred. Make sure to read the key configuration popup carefully."),{type:"danger",sticky:true});this.orm.write("website",[this.websiteService.currentWebsite.id],{google_maps_api_key:"",}).then(()=>{this.wasApiKeyInvalidated=true;this.isGoogleMapsErrorBeingHandled=false;this.dependencies.edit_interaction.restartInteractions(editingElement);});}}
shouldRefetchApiKey(){return this.wasApiKeyInvalidated||false;}
shouldNotRefetchApiKey(){this.wasApiKeyInvalidated=false;}}
const ResetMapColorAction=__exports.ResetMapColorAction=class ResetMapColorAction extends BuilderAction{static id="resetMapColor";apply({editingElement}){editingElement.dataset.mapColor="";}}
const ShowDescriptionAction=__exports.ShowDescriptionAction=class ShowDescriptionAction extends BuilderAction{static id="showDescription";isApplied({editingElement}){return!!editingElement.querySelector(".description");}
apply({editingElement}){editingElement.append(renderToElement("html_builder.GoogleMapsDescription"));}
clean({editingElement}){editingElement.querySelector(".description").remove();}}
registry.category("website-plugins").add(GoogleMapsOptionPlugin.id,GoogleMapsOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/google_maps_option/google_maps_service.js */
odoo.define('@website/builder/plugins/options/google_maps_option/google_maps_service',['@web/core/assets','@web/core/registry','@web/core/l10n/translation','@web/core/network/rpc','@web/core/user','@odoo/owl','@web/core/utils/strings'],function(require){'use strict';let __exports={};const{loadJS}=require("@web/core/assets");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{rpc}=require("@web/core/network/rpc");const{user}=require("@web/core/user");const{markup}=require("@odoo/owl");const{escape}=require("@web/core/utils/strings");registry.category("services").add("google_maps",{dependencies:["notification"],start(env,deps){const notification=deps["notification"];let gMapsAPIKeyProm;let gMapsAPILoading;const promiseKeys={};const promiseKeysResolves={};let lastKey;window.odoo_gmaps_api_post_load=async function odoo_gmaps_api_post_load(){promiseKeysResolves[lastKey]?.();}.bind(this);return{async getGMapsAPIKey(refetch){if(refetch||!gMapsAPIKeyProm){gMapsAPIKeyProm=new Promise(async(resolve)=>{const data=await rpc("/website/google_maps_api_key");resolve(JSON.parse(data).google_maps_api_key||"");});}
return gMapsAPIKeyProm;},async loadGMapsAPI(editableMode,refetch){if(refetch||!gMapsAPILoading){gMapsAPILoading=new Promise(async(resolve)=>{const key=await this.getGMapsAPIKey(refetch);lastKey=key;if(key){if(!promiseKeys[key]){promiseKeys[key]=new Promise((resolve)=>{promiseKeysResolves[key]=resolve;});await loadJS(`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=odoo_gmaps_api_post_load&key=${encodeURIComponent(
                                        key
                                    )}`);}
await promiseKeys[key];resolve(key);}else{if(!editableMode&&user.isAdmin){const message=_t("Cannot load google map.");const urlTitle=_t("Check your configuration.");notification.add(markup(`<div>
                                        <span>${escape(message)}</span><br/>
                                        <a href="/odoo/action-website.action_website_configuration">${escape(
                                            urlTitle
                                        )}</a>
                                    </div>`),{type:"warning",sticky:true});}
resolve(false);}});}
return gMapsAPILoading;},async validateGMapsApiKey(key){if(key){try{const response=await this.fetchGoogleMaps(key);const isValid=response.status===200;return{isValid,message:isValid?undefined:_t("Invalid API Key. The following error was returned by Google: %(error)s",{error:await response.text()}),};}catch{return{isValid:false,message:_t("Check your connection and try again"),};}}else{return{isValid:false};}},async fetchGoogleMaps(key){return await fetch(`https://maps.googleapis.com/maps/api/staticmap?center=belgium&size=10x10&key=${encodeURIComponent(
                        key
                    )}`);},};},});return __exports;});;

/* /website/static/src/builder/plugins/options/header_border_option.js */
odoo.define('@website/builder/plugins/options/header_border_option',['@html_builder/core/utils','@html_builder/plugins/border_configurator_option','@html_builder/plugins/shadow_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const{ShadowOption}=require("@html_builder/plugins/shadow_option");const HeaderBorderOption=__exports.HeaderBorderOption=class HeaderBorderOption extends BaseOptionComponent{static template="website.HeaderBorderOption";static props={};static components={BorderConfigurator,ShadowOption};setup(){super.setup();this.domState=useDomState((editingElement)=>({withRoundCorner:!editingElement.classList.contains("o_header_force_no_radius"),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/header_element_option.js */
odoo.define('@website/builder/plugins/options/header_element_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const HeaderElementOption=__exports.HeaderElementOption=class HeaderElementOption extends BaseOptionComponent{static template="website.headerElementOption";setup(){super.setup();this.customizeWebsite=this.env.editor.shared.customizeWebsite;const views=["website.option_header_brand_logo","website.option_header_brand_name"];this.customizeWebsite.loadConfigKey({views});}
get websiteLogoParams(){const views=this.customizeWebsite.getConfigKey("website.option_header_brand_name")?["website.option_header_brand_name"]:["website.option_header_brand_logo"];return{views,resetViewArch:true,};}}
return __exports;});;

/* /website/static/src/builder/plugins/options/header_option_plugin.js */
odoo.define('@website/builder/plugins/options/header_option_plugin',['@html_builder/plugins/shadow_option_plugin','@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/header_border_option','@website/builder/plugins/options/header_element_option','@html_builder/core/core_builder_action_plugin'],function(require){'use strict';let __exports={};const{getCurrentShadow,getDefaultShadow,SetShadowAction,SetShadowModeAction,shadowToString,}=require("@html_builder/plugins/shadow_option_plugin");const{SNIPPET_SPECIFIC_END,SNIPPET_SPECIFIC_NEXT,splitBetween,}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{HeaderBorderOption}=require("@website/builder/plugins/options/header_border_option");const{HeaderElementOption}=require("@website/builder/plugins/options/header_element_option");const{StyleAction}=require("@html_builder/core/core_builder_action_plugin");const[HEADER_TEMPLATE,HEADER_TEMPLATE_SECONDARY_OPTIONS,HEADER_BORDER,HEADER_SCROLL_EFFECT,HEADER_ELEMENT,HEADER_END,...__ERROR_CHECK__]=splitBetween(SNIPPET_SPECIFIC_NEXT,SNIPPET_SPECIFIC_END,6);if(__ERROR_CHECK__.length>0){console.error("Wrong count in header option split");}
Object.assign(__exports,{HEADER_TEMPLATE,HEADER_TEMPLATE_SECONDARY_OPTIONS,HEADER_BORDER,HEADER_SCROLL_EFFECT,HEADER_ELEMENT,HEADER_END,});class HeaderOptionPlugin extends Plugin{static id="headerOption";static dependencies=["customizeWebsite"];resources={builder_options:[withSequence(HEADER_TEMPLATE,{editableOnly:false,template:"website.headerTemplateOption",selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_TEMPLATE_SECONDARY_OPTIONS,{editableOnly:false,template:"website.headerContentWidthOption",selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_TEMPLATE_SECONDARY_OPTIONS,{editableOnly:false,template:"website.headerSidebarWidthOption",selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_TEMPLATE_SECONDARY_OPTIONS,{editableOnly:false,template:"website.headerBackgroundOption",selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_SCROLL_EFFECT,{editableOnly:false,template:"website.headerScrollEffectOption",selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_ELEMENT,{editableOnly:false,OptionComponent:HeaderElementOption,selector:"#wrapwrap > header",groups:["website.group_website_designer"],}),withSequence(HEADER_BORDER,{editableOnly:false,OptionComponent:HeaderBorderOption,selector:"#wrapwrap > header",applyTo:".navbar:not(.d-none)",groups:["website.group_website_designer"],}),],builder_actions:{StyleActionHeaderAction,SetShadowModeHeaderAction,SetShadowHeaderAction,},};}
const StyleActionHeaderAction=__exports.StyleActionHeaderAction=class StyleActionHeaderAction extends StyleAction{static id="styleActionHeader";static dependencies=["customizeWebsite","color"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
getValue(...args){const{params}=args[0];const value=super.getValue(...args);if(params.mainParam==="border-width"){return value.replace(/(^|\s)0px/gi,"").trim()||value;}
return value;}
async apply({params,value}){const styleName=params.mainParam;if(styleName==="border-color"){return this.dependencies.customizeWebsite.customizeWebsiteColors({"menu-border-color":value,});}
return this.dependencies.customizeWebsite.customizeWebsiteVariables({[`menu-${styleName}`]:value,});}}
const SetShadowModeHeaderAction=__exports.SetShadowModeHeaderAction=class SetShadowModeHeaderAction extends SetShadowModeAction{static id="setShadowModeHeader";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
async apply({value:shadowMode}){const defaultShadow=shadowMode==="none"?"none":getDefaultShadow(shadowMode);return this.dependencies.customizeWebsite.customizeWebsiteVariables({"menu-box-shadow":defaultShadow,});}}
const SetShadowHeaderAction=__exports.SetShadowHeaderAction=class SetShadowHeaderAction extends SetShadowAction{static id="setShadowHeader";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
async apply({editingElement,params:{mainParam:attributeName},value}){const shadow=getCurrentShadow(editingElement);shadow[attributeName]=value;return this.dependencies.customizeWebsite.customizeWebsiteVariables({"menu-box-shadow":shadowToString(shadow),});}}
registry.category("website-plugins").add(HeaderOptionPlugin.id,HeaderOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/image_gallery_option.js */
odoo.define('@website/builder/plugins/options/image_gallery_option',['@html_builder/core/utils','@html_builder/plugins/border_configurator_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const ImageGalleryComponent=__exports.ImageGalleryComponent=class ImageGalleryComponent extends BaseOptionComponent{static template="website.ImageGalleryOption";static components={BorderConfigurator};static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({isSlideShow:editingElement.classList.contains("o_slideshow"),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/image_gallery_option_plugin.js */
odoo.define('@website/builder/plugins/options/image_gallery_option_plugin',['@web/core/registry','@html_editor/plugin','@html_editor/utils/image_processing','@website/builder/plugins/options/image_gallery_option','@web/core/utils/render','@website/builder/plugins/carousel_option_plugin','@html_builder/core/builder_action','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{loadImageInfo}=require("@html_editor/utils/image_processing");const{ImageGalleryComponent}=require("@website/builder/plugins/options/image_gallery_option");const{renderToElement}=require("@web/core/utils/render");const{updateCarouselIndicators}=require("@website/builder/plugins/carousel_option_plugin");const{BuilderAction}=require("@html_builder/core/builder_action");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");class ImageGalleryOption extends Plugin{static id="imageGalleryOption";static dependencies=["media","dom","history","operation","selection","builderOptions","imagePostProcess",];static shared=["processImages","getMode","setImages","restoreSelection","getColumns"];resources={builder_options:[withSequence(SNIPPET_SPECIFIC,{template:"website.ImageGalleryImagesOption",selector:".s_image_gallery",}),withSequence(SNIPPET_SPECIFIC_END,{OptionComponent:ImageGalleryComponent,selector:".s_image_gallery",}),],builder_actions:{AddImageAction,RemoveAllImagesAction,SetImageGalleryLayoutAction,SetImageGalleryColumnsAction,SetCarouselSpeedAction,},system_classes:["o_empty_gallery_alert"],get_gallery_items_handlers:this.getGalleryItems.bind(this),reorder_items_handlers:this.reorderGalleryItems.bind(this),on_remove_handlers:this.onRemove.bind(this),after_remove_handlers:this.afterRemove.bind(this),on_snippet_dropped_handlers:({snippetEl})=>{const carousels=snippetEl.querySelectorAll(".s_image_gallery .carousel");this.addCarouselListener(carousels);},};setup(){const slideshowCarousels=this.document.querySelectorAll(".s_image_gallery .carousel");this.addCarouselListener(slideshowCarousels);}
addCarouselListener(slideshowCarousels){for(const carousel of slideshowCarousels){this.addDomListener(carousel,"slid.bs.carousel",this.onCarouselSlid);}}
restoreSelection(imageToSelect,isPreviewing){if(imageToSelect&&!isPreviewing){this.dependencies.history.addStep();this.dependencies["builderOptions"].updateContainers(imageToSelect);}}
getGalleryItems(activeItemEl,optionName){let itemEls=[];if(optionName==="GalleryImageList"){const galleryEl=activeItemEl.closest(".s_image_gallery");const containerEl=this.getContainer(galleryEl);itemEls=this.getImages(containerEl);}
return itemEls;}
reorderGalleryItems(activeItemEl,itemEls,optionName){if(optionName==="GalleryImageList"){const galleryEl=activeItemEl.closest(".s_image_gallery");itemEls.forEach((img,i)=>(img.dataset.index=i));const mode=this.getMode(galleryEl);this.setImages(galleryEl,mode,itemEls);if(mode==="slideshow"){const newPosition=itemEls.indexOf(activeItemEl);const carouselEl=galleryEl.querySelector(".carousel");const carouselItemEls=carouselEl.querySelectorAll(".carousel-item");carouselItemEls.forEach((itemEl,i)=>{itemEl.classList.toggle("active",i===newPosition);});updateCarouselIndicators(carouselEl,newPosition);const activeImageEl=galleryEl.querySelector(".carousel-item.active img");this.dependencies["builderOptions"].setNextTarget(activeImageEl);}}}
setImages(imageGalleryElement,mode,images){if(mode!==this.getMode(imageGalleryElement)){imageGalleryElement.classList.remove("o_nomode","o_masonry","o_grid","o_slideshow");imageGalleryElement.classList.add(`o_${mode}`);}
switch(mode){case"masonry":this.masonry(imageGalleryElement,images);break;case"grid":this.grid(imageGalleryElement,images);break;case"nomode":this.nomode(imageGalleryElement,images);break;case"slideshow":this.slideshow(imageGalleryElement,images);break;}}
masonry(imageGalleryElement,images){const columnsNumber=this.getColumns(imageGalleryElement);const colClass="col-lg-"+12/columnsNumber;const columns=[];const row=document.createElement("div");row.classList.add("row","s_nb_column_fixed");this.getContainer(imageGalleryElement).replaceChildren(row);for(let i=0;i<columnsNumber;i++){const column=document.createElement("div");column.classList.add("o_masonry_col","o_snippet_not_selectable",colClass);row.append(column);columns.push(column);}
for(const imageEl of images){let min=Infinity;let smallestColEl;for(const colEl of columns){const imagesInCol=colEl.querySelectorAll("img");const lastImageRect=imagesInCol.length&&imagesInCol[imagesInCol.length-1].getBoundingClientRect();const height=lastImageRect?Math.round(lastImageRect.top+lastImageRect.height):0;if(height<min){min=height;smallestColEl=colEl;}}
smallestColEl.append(imageEl);}}
grid(imageGalleryElement,images){const columnsNumber=this.getColumns(imageGalleryElement);const colClass="col-lg-"+12/columnsNumber;const container=this.getContainer(imageGalleryElement);let row=document.createElement("div");row.classList.add("row","s_nb_column_fixed");container.replaceChildren(row);for(const[index,img]of images.entries()){const col=this.document.createElement("div");col.classList.add(colClass);col.appendChild(img);row.appendChild(col);if((index+1)%columnsNumber===0){row=document.createElement("div");row.classList.add("row","s_nb_column_fixed");container.appendChild(row);}}}
nomode(imageGalleryElement,images){const row=this.document.createElement("div");row.classList.add("row","s_nb_column_fixed");const container=this.getContainer(imageGalleryElement);container.replaceChildren(row);for(const img of images){let wrapClass="col-lg-3";if(img.width>=img.height*2||img.width>600){wrapClass="col-lg-6";}
const wrap=this.document.createElement("div");wrap.classList.add(wrapClass);wrap.appendChild(img);row.appendChild(wrap);}}
slideshow(imageGalleryElement,images){const container=this.getContainer(imageGalleryElement);const currentInterval=imageGalleryElement.querySelector(".carousel")?.dataset.bsInterval;const carouselEl=imageGalleryElement.querySelector(".carousel");const colorContrast=carouselEl&&carouselEl.classList.contains("carousel-dark")?"carousel-dark":" ";const slideshowEl=renderToElement("website.s_image_gallery_slideshow",{images:images,index:0,interval:currentInterval||0,ride:!currentInterval?"false":"carousel",id:"slideshow_"+new Date().getTime(),colorContrast,copyAttributes:true,});if(carouselEl){carouselEl.removeEventListener("slid.bs.carousel",this.onCarouselSlid);}
container.replaceChildren(slideshowEl);slideshowEl.querySelectorAll("img").forEach((img,index)=>{img.setAttribute("data-index",index);});if(images.length){imageGalleryElement.style.height=window.innerHeight*0.7+"px";slideshowEl.querySelector(".carousel .o_carousel_controllers")?.classList.remove("d-none");slideshowEl.querySelector(".carousel .carousel-inner")?.classList.remove("d-none");}else{imageGalleryElement.style.removeProperty("height");slideshowEl.querySelector(".carousel .o_carousel_controllers")?.classList.add("d-none");slideshowEl.querySelector(".carousel .carousel-inner")?.classList.add("d-none");}
this.addDomListener(slideshowEl,"slid.bs.carousel",this.onCarouselSlid);}
onCarouselSlid(ev){const activeImageEl=ev.target.querySelector(".carousel-item.active img");this.dependencies["builderOptions"].updateContainers(activeImageEl);}
async processImages(editingElement,newImages=[]){await this.transformImagesToWebp(newImages);this.setImageProperties(editingElement,newImages);const{clonedImgs,imageToSelect}=await this.cloneContainerImages(editingElement);return{images:[...clonedImgs,...newImages],imageToSelect};}
setImageProperties(imageGalleryElement,images){const lastImage=this.getImages(imageGalleryElement).at(-1);let lastIndex=lastImage?this.getIndex(lastImage):-1;for(const image of images){image.classList.add("d-block","mh-100","mw-100","mx-auto","rounded","object-fit-cover");image.dataset.index=++lastIndex;}}
async transformImagesToWebp(images){const process=async(img)=>{const newDataset=await loadImageInfo(img);const{mimetypeBeforeConversion}={...img.dataset,...newDataset};if(mimetypeBeforeConversion&&!["image/gif","image/svg+xml","image/webp"].includes(mimetypeBeforeConversion)){const update=await this.dependencies.imagePostProcess.processImage({img,newDataset:{formatMimetype:"image/webp",...newDataset,},});update();}};return await Promise.all(images.map(process));}
async cloneContainerImages(imageGalleryElement){const imagesHolder=this.getImageHolder(imageGalleryElement);const clonedImgs=[];const imgLoaded=[];let imageToSelect;const currentContainers=this.dependencies["builderOptions"].getContainers();for(const image of imagesHolder){const newImg=image.cloneNode(true);newImg.loading="eager";imgLoaded.push(newImg.decode().then(()=>{newImg.loading="lazy";}));if(currentContainers.at(-1)?.element===image){imageToSelect=newImg;}
clonedImgs.push(newImg);}
await Promise.all(imgLoaded);return{clonedImgs,imageToSelect};}
getMode(imageGalleryElement){if(imageGalleryElement.classList.contains("o_masonry")){return"masonry";}
if(imageGalleryElement.classList.contains("o_grid")){return"grid";}
if(imageGalleryElement.classList.contains("o_nomode")){return"nomode";}
return"slideshow";}
getImages(currentContainer){const imgs=currentContainer.querySelectorAll("img");return[...imgs].sort((imgA,imgB)=>this.getIndex(imgA)-this.getIndex(imgB));}
getIndex(img){return parseInt(img.dataset.index)||0;}
getImageHolder(currentContainer){const images=this.getImages(currentContainer);return[...images].map((image)=>image.closest("a")||image);}
getColumns(imageGalleryElement){return parseInt(imageGalleryElement.dataset.columns)||3;}
getContainer(imageGalleryElement){return imageGalleryElement.querySelector(".container, .container-fluid, .o_container_small");}
onRemove(elementToRemove){if(elementToRemove.matches(".s_image_gallery img")){this.imageRemovedGalleryElement=elementToRemove.closest(".s_image_gallery");}}
afterRemove(elementRemoved){if(this.imageRemovedGalleryElement){const mode=this.getMode(this.imageRemovedGalleryElement);const images=this.getImages(this.imageRemovedGalleryElement);this.setImages(this.imageRemovedGalleryElement,mode,images);this.imageRemovedGalleryElement=undefined;}}}
const AddImageAction=__exports.AddImageAction=class AddImageAction extends BuilderAction{static id="addImage";static dependencies=["media","imageGalleryOption"];async load({editingElement}){let selectedImages;await new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({onlyImages:true,multiImages:true,save:(images)=>{selectedImages=images;resolve();},});onClose.then(resolve);});if(!selectedImages){return[];}
return this.dependencies.imageGalleryOption.processImages(editingElement,selectedImages);}
apply({editingElement,loadResult:{images}}){if(images&&images.length){const mode=this.dependencies.imageGalleryOption.getMode(editingElement);this.dependencies.imageGalleryOption.setImages(editingElement,mode,images);}}}
const RemoveAllImagesAction=__exports.RemoveAllImagesAction=class RemoveAllImagesAction extends BuilderAction{static id="removeAllImages";static dependencies=["imageGalleryOption"];apply({editingElement:el}){const mode=this.dependencies.imageGalleryOption.getMode(el);this.dependencies.imageGalleryOption.setImages(el,mode,[]);}}
const SetImageGalleryLayoutAction=__exports.SetImageGalleryLayoutAction=class SetImageGalleryLayoutAction extends BuilderAction{static id="setImageGalleryLayout";static dependencies=["imageGalleryOption"];load({editingElement}){return this.dependencies.imageGalleryOption.processImages(editingElement);}
apply({isPreviewing,editingElement,params:{mainParam:mode},loadResult}){if(mode!==this.dependencies.imageGalleryOption.getMode(editingElement)){this.dependencies.imageGalleryOption.setImages(editingElement,mode,loadResult.images);this.dependencies.imageGalleryOption.restoreSelection(loadResult.imageToSelect,isPreviewing);}}
isApplied({editingElement,params:{mainParam:mode}}){return mode===this.dependencies.imageGalleryOption.getMode(editingElement);}}
const SetImageGalleryColumnsAction=__exports.SetImageGalleryColumnsAction=class SetImageGalleryColumnsAction extends BuilderAction{static id="setImageGalleryColumns";static dependencies=["imageGalleryOption"];load({editingElement}){return this.dependencies.imageGalleryOption.processImages(editingElement);}
apply({isPreviewing,editingElement,params:{mainParam:columns},loadResult}){if(columns!==this.dependencies.imageGalleryOption.getColumns(editingElement)){editingElement.dataset.columns=columns;this.dependencies.imageGalleryOption.setImages(editingElement,this.dependencies.imageGalleryOption.getMode(editingElement),loadResult.images);this.dependencies.imageGalleryOption.restoreSelection(loadResult.imageToSelect,isPreviewing);}}
isApplied({editingElement,params:{mainParam:columns}}){return columns===this.dependencies.imageGalleryOption.getColumns(editingElement);}}
const SetCarouselSpeedAction=__exports.SetCarouselSpeedAction=class SetCarouselSpeedAction extends BuilderAction{static id="setCarouselSpeed";apply({editingElement,value}){editingElement.dataset.bsInterval=value*1000;}
getValue({editingElement}){return editingElement.dataset.bsInterval/1000;}}
registry.category("website-plugins").add(ImageGalleryOption.id,ImageGalleryOption);return __exports;});;

/* /website/static/src/builder/plugins/options/image_snippet_option_plugin.js */
odoo.define('@website/builder/plugins/options/image_snippet_option_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class ImageSnippetOptionPlugin extends Plugin{static id="imageSnippetOption";static dependencies=["media"];resources={on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),so_content_addition_selector:[".s_image"],};async onSnippetDropped({snippetEl}){if(!snippetEl.matches(".s_image")){return;}
let isImageSelected=false;await new Promise((resolve)=>{const onClose=this.dependencies.media.openMediaDialog({onlyImages:true,save:async(selectedImageEl)=>{isImageSelected=true;snippetEl.replaceWith(selectedImageEl);},});onClose.then(()=>{resolve();});});return!isImageSelected;}}
registry.category("website-plugins").add(ImageSnippetOptionPlugin.id,ImageSnippetOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/instagram_option_plugin.js */
odoo.define('@website/builder/plugins/options/instagram_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@web/core/registry','@web/core/l10n/translation','@html_editor/utils/dom_traversal','@html_editor/utils/resource','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");const{getCommonAncestor,selectElements}=require("@html_editor/utils/dom_traversal");const{withSequence}=require("@html_editor/utils/resource");const{BuilderAction}=require("@html_builder/core/builder_action");class InstagramOptionPlugin extends Plugin{static id="instagramOption";static dependencies=["history"];static shared=["instagramPageNameFromUrl"];resources={builder_options:[withSequence(SNIPPET_SPECIFIC_END,{template:"website.InstagramOption",selector:".s_instagram_page",}),],builder_actions:{InstagramPageAction,},normalize_handlers:this.normalize.bind(this),};setup(){this.instagramUrlStr="instagram.com/";}
normalize(root){const nodes=[...selectElements(root,".s_instagram_page[data-instagram-page-is-default]"),];if(nodes.length){this.loadAndSetPage(nodes);}}
async loadAndSetPage(nodes){if(this.instagramUrl){this.setPage(nodes);return;}
const res=await this.services.orm.read("website",[this.services.website.currentWebsite.id],["social_instagram"]);if(res&&res[0].social_instagram){this.instagramUrl=this.instagramPageNameFromUrl(res[0].social_instagram);const hasChanged=this.dependencies.history.ignoreDOMMutations(()=>this.setPage(nodes));if(hasChanged){const commonAncestor=getCommonAncestor(nodes,this.editable);this.dispatchTo("content_manually_updated_handlers",commonAncestor);this.config.onChange({isPreviewing:false});}}}
setPage(nodes){let hasChanged=false;for(const element of nodes){if(element.dataset.instagramPageIsDefault){delete element.dataset.instagramPageIsDefault;if(this.instagramUrl){element.dataset.instagramPage=this.instagramUrl;}
hasChanged=true;}}
return hasChanged;}
instagramPageNameFromUrl(url){const pageName=url.split(this.instagramUrlStr)[1];if(!pageName||pageName.includes("?")||pageName.includes("#")||(pageName.includes("/")&&pageName.split("/")[1].length>0)){return;}
return pageName.split("/")[0];}}
const InstagramPageAction=__exports.InstagramPageAction=class InstagramPageAction extends BuilderAction{static id="instagramPage";static dependencies=["instagramOption"];getValue({editingElement}){return editingElement.dataset["instagramPage"];}
apply({editingElement,value}){delete editingElement.dataset.instagramPageIsDefault;if(value.includes(this.instagramUrlStr)){value=this.dependencies.instagramOption.instagramPageNameFromUrl(value)||"";}
editingElement.dataset["instagramPage"]=value;if(value===""){this.services.notification.add(_t("The Instagram page name is not valid"),{type:"warning",});}}}
registry.category("website-plugins").add(InstagramOptionPlugin.id,InstagramOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/language_selector_option.js */
odoo.define('@website/builder/plugins/options/language_selector_option',['@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence','@website/builder/plugins/options/header_option_plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{after}=require("@html_builder/utils/option_sequence");const{HEADER_BORDER}=require("@website/builder/plugins/options/header_option_plugin");const LANGUAGE_SELECTOR=after(HEADER_BORDER);class LanguageSelectorOptionPlugin extends Plugin{static id="languageSelectorOption";static dependencies=["builderActions"];resources={builder_options:[withSequence(LANGUAGE_SELECTOR,{template:"website.LanguageSelectorOption",editableOnly:false,selector:"#wrapwrap > header nav.navbar .o_header_language_selector",groups:["website.group_website_designer"],reloadTarget:true,}),],};}
registry.category("website-plugins").add(LanguageSelectorOptionPlugin.id,LanguageSelectorOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/many2one_option.js */
odoo.define('@website/builder/plugins/options/many2one_option',['@html_builder/core/utils','@odoo/owl','@web/core/utils/hooks'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{onWillStart}=require("@odoo/owl");const{useService}=require("@web/core/utils/hooks");const Many2OneOption=__exports.Many2OneOption=class Many2OneOption extends BaseOptionComponent{static template="website_builder.Many2OneOption";static props=[];setup(){super.setup();this.orm=useService("orm");onWillStart(async()=>{const el=this.env.getEditingElement();this.model=el.dataset.oeMany2oneModel;[{name:this.label}]=await this.orm.searchRead("ir.model",[["model","=",this.model]],["name"]);});}}
return __exports;});;

/* /website/static/src/builder/plugins/options/many2one_option_plugin.js */
odoo.define('@website/builder/plugins/options/many2one_option_plugin',['@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/many2one_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{Many2OneOption}=require("@website/builder/plugins/options/many2one_option");const{BuilderAction}=require("@html_builder/core/builder_action");const Many2OneOptionPlugin=__exports.Many2OneOptionPlugin=class Many2OneOptionPlugin extends Plugin{static id="many2OneOption";resources={builder_options:[{OptionComponent:Many2OneOption,selector:"[data-oe-many2one-model]:not([data-oe-readonly])",editableOnly:false,},],builder_actions:{Many2OneAction,},};}
const Many2OneAction=__exports.Many2OneAction=class Many2OneAction extends BuilderAction{static id="many2One";async load({editingElement,value}){const{id}=JSON.parse(value);const{oeModel,oeId,oeField}=editingElement.dataset;const allContactOptions=new Set(this.editable.querySelectorAll(`[data-oe-model="${oeModel}"][data-oe-id="${oeId}"][data-oe-field="${oeField}"][data-oe-type="contact"]`).values().map((el)=>el.dataset.oeContactOptions));return Object.fromEntries(await Promise.all(allContactOptions.values().map(async(contactOptions)=>[contactOptions,await this.services.orm.call("ir.qweb.field.contact","get_record_to_html",[[id]],{options:JSON.parse(contactOptions)}),])));}
apply({editingElement,value,loadResult}){const{id,name}=JSON.parse(value);const{oeModel,oeId,oeField,oeContactOptions}=editingElement.dataset;for(const el of[...this.editable.querySelectorAll(`[data-oe-model="${oeModel}"][data-oe-id="${oeId}"][data-oe-field="${oeField}"]:not([data-oe-contact-options='${oeContactOptions}'])`),editingElement,]){el.dataset.oeMany2oneId=id;if(el.dataset.oeType==="contact"){el.replaceChildren(...new DOMParser().parseFromString(loadResult[el.dataset.oeContactOptions],"text/html").body.childNodes);}else{el.textContent=name;}}}
getValue({editingElement}){return JSON.stringify({id:parseInt(editingElement.dataset.oeMany2oneId)});}}
registry.category("website-plugins").add(Many2OneOptionPlugin.id,Many2OneOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/map_option_plugin.js */
odoo.define('@website/builder/plugins/options/map_option_plugin',['@html_builder/core/builder_action','@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@website/js/utils'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{generateGMapLink}=require("@website/js/utils");class MapOptionPlugin extends Plugin{static id="mapOption";resources={builder_options:[{template:"website.mapOption",selector:".s_map",},],so_content_addition_selector:[".s_map"],builder_actions:{MapUpdateSrcAction,MapDescriptionAction,},};}
const MapUpdateSrcAction=__exports.MapUpdateSrcAction=class MapUpdateSrcAction extends BuilderAction{static id="mapUpdateSrc";apply({editingElement}){const embedded=editingElement.querySelector(".s_map_embedded");if(editingElement.dataset.mapAddress){const url=generateGMapLink(editingElement.dataset);if(url!==embedded.getAttribute("src")){embedded.setAttribute("src",url);}}else{embedded.setAttribute("src","about:blank");}
embedded.classList.toggle("d-none",!editingElement.dataset.mapAddress);editingElement.querySelector(".missing_option_warning").classList.toggle("d-none",!!editingElement.dataset.mapAddress);}}
const MapDescriptionAction=__exports.MapDescriptionAction=class MapDescriptionAction extends BuilderAction{static id="mapDescription";isApplied({editingElement}){return editingElement.querySelector(".description")!==null;}
apply({editingElement}){editingElement.appendChild(document.createRange().createContextualFragment(`<div class="description">
                    <strong>${_t("Visit us:")}</strong>
                    ${_t("Our office is open Monday – Friday 8:30 a.m. – 4:00 p.m.")}
                </div>`));}
clean({editingElement}){editingElement.querySelector(".description").remove();}}
registry.category("website-plugins").add(MapOptionPlugin.id,MapOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/media_list_item_option.js */
odoo.define('@website/builder/plugins/options/media_list_item_option',['@html_builder/core/utils','@html_builder/plugins/border_configurator_option','@html_builder/plugins/shadow_option','@website/builder/plugins/options/background_option'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{BorderConfigurator}=require("@html_builder/plugins/border_configurator_option");const{ShadowOption}=require("@html_builder/plugins/shadow_option");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");const MediaListItemOption=__exports.MediaListItemOption=class MediaListItemOption extends BaseOptionComponent{static template="website.MediaListItemOption";static components={BorderConfigurator,ShadowOption,WebsiteBackgroundOption,};static props={};}
return __exports;});;

/* /website/static/src/builder/plugins/options/media_list_option_plugin.js */
odoo.define('@website/builder/plugins/options/media_list_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/media_list_item_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{BEGIN,END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{MediaListItemOption}=require("@website/builder/plugins/options/media_list_item_option");const{BuilderAction}=require("@html_builder/core/builder_action");class MediaListOptionPlugin extends Plugin{static id="mediaListOption";mediaListItemOptionSelector=".s_media_list_item";resources={builder_options:[withSequence(BEGIN,{template:"website.MediaListOption",selector:".s_media_list",}),withSequence(END,{OptionComponent:MediaListItemOption,selector:this.mediaListItemOptionSelector,}),],builder_actions:{SetMediaLayoutAction,},mark_color_level_selector_params:[{selector:this.mediaListItemOptionSelector,applyTo:":scope > .row"},],};}
const SetMediaLayoutAction=__exports.SetMediaLayoutAction=class SetMediaLayoutAction extends BuilderAction{static id="setMediaLayout";isApplied({editingElement,value}){const image=editingElement.querySelector(".s_media_list_img_wrapper");return image.classList.contains(`col-lg-${value}`);}
apply({editingElement,value}){const image=editingElement.querySelector(".s_media_list_img_wrapper");const content=editingElement.querySelector(".s_media_list_body");image.classList.add(`col-lg-${value}`);content.classList.add(`col-lg-${12 - value}`);}
clean({editingElement,value}){const image=editingElement.querySelector(".s_media_list_img_wrapper");const content=editingElement.querySelector(".s_media_list_body");image.classList.remove(`col-lg-${value}`);content.classList.remove(`col-lg-${12 - value}`);}}
registry.category("website-plugins").add(MediaListOptionPlugin.id,MediaListOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/mega_menu_option.js */
odoo.define('@website/builder/plugins/options/mega_menu_option',['@html_builder/core/utils','@html_builder/utils/utils_css'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const MegaMenuOption=__exports.MegaMenuOption=class MegaMenuOption extends BaseOptionComponent{static template="website.MegaMenuOption";static props={getTemplatePrefix:Function,};setup(){super.setup();this.state=useDomState((el)=>({templatePrefix:this.props.getTemplatePrefix(el),}));}
hasHeaderTemplates(headerTemplates){const currentHeaderTemplate=getCSSVariableValue("header-template");return headerTemplates.includes(currentHeaderTemplate.slice(1,-1));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/mega_menu_option_plugin.js */
odoo.define('@website/builder/plugins/options/mega_menu_option_plugin',['@website/builder/plugins/options/mega_menu_option','@html_editor/plugin','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{MegaMenuOption}=require("@website/builder/plugins/options/mega_menu_option");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC_NEXT}=require("@html_builder/utils/option_sequence");const MegaMenuOptionPlugin=__exports.MegaMenuOptionPlugin=class MegaMenuOptionPlugin extends Plugin{static id="megaMenuOptionPlugin";static dependencies=[];static shared=["getTemplatePrefix"];resources={builder_options:[withSequence(SNIPPET_SPECIFIC_NEXT,{OptionComponent:MegaMenuOption,selector:".o_mega_menu",props:{getTemplatePrefix:this.getTemplatePrefix.bind(this),},}),],save_handlers:this.saveMegaMenuClasses.bind(this),no_parent_containers:".o_mega_menu",};getTemplatePrefix(){return"website.";}
async saveMegaMenuClasses(){const megaMenuEl=this.editable.querySelector("[data-oe-field='mega_menu_content'");if(megaMenuEl){const classes=[...megaMenuEl.classList].filter((megaMenuClass)=>!["dropdown-menu","o_mega_menu","o_editable"].includes(megaMenuClass));await this.services.orm.write("website.menu",[parseInt(megaMenuEl.dataset.oeId)],{mega_menu_classes:classes.join(" "),});}}}
registry.category("website-plugins").add(MegaMenuOptionPlugin.id,MegaMenuOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/navbar_logo_option_plugin.js */
odoo.define('@website/builder/plugins/options/navbar_logo_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@html_editor/utils/resource','@html_builder/utils/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC_NEXT}=require("@html_builder/utils/option_sequence");class NavbarLogoOptionPlugin extends Plugin{static id="navbarLogoOptionPlugin";resources={builder_options:[withSequence(SNIPPET_SPECIFIC_NEXT,{template:"website.NavbarLogoOption",selector:"#wrapwrap > header nav.navbar .navbar-brand",title:_t("Navbar Logo"),editableOnly:false,groups:["website.group_website_designer"],}),],};}
registry.category("website-plugins").add(NavbarLogoOptionPlugin.id,NavbarLogoOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/navtabs_header_buttons.js */
odoo.define('@website/builder/plugins/options/navtabs_header_buttons',['@html_builder/core/utils','@html_builder/core/operation_plugin','@odoo/owl'],function(require){'use strict';let __exports={};const{useDomState}=require("@html_builder/core/utils");const{useOperation}=require("@html_builder/core/operation_plugin");const{Component}=require("@odoo/owl");const NavTabsHeaderMiddleButtons=__exports.NavTabsHeaderMiddleButtons=class NavTabsHeaderMiddleButtons extends Component{static template="website.NavTabsHeaderMiddleButtons";static props={addItem:Function,removeItem:Function,};setup(){this.state=useDomState((editingElement)=>{const navEl=editingElement.querySelector(".nav");return{tabEls:navEl.querySelectorAll(".nav-item"),}});this.callOperation=useOperation();}
addItem(){this.callOperation(()=>{this.props.addItem(this.env.getEditingElement());});}
removeItem(){this.callOperation(()=>{this.props.removeItem(this.env.getEditingElement());});}}
return __exports;});;

/* /website/static/src/builder/plugins/options/navtabs_header_buttons_plugin.js */
odoo.define('@website/builder/plugins/options/navtabs_header_buttons_plugin',['@html_editor/plugin','@web/core/registry','@web/core/utils/functions','@html_builder/utils/utils','@website/builder/plugins/options/navtabs_header_buttons'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{uniqueId}=require("@web/core/utils/functions");const{getElementsWithOption}=require("@html_builder/utils/utils");const{NavTabsHeaderMiddleButtons}=require("@website/builder/plugins/options/navtabs_header_buttons");const tabsSectionSelector="section.s_tabs, section.s_tabs_images";class NavTabsOptionPlugin extends Plugin{static id="navTabsOption";static dependencies=["clone"];resources={builder_header_middle_buttons:{Component:NavTabsHeaderMiddleButtons,selector:tabsSectionSelector,props:{addItem:(editingElement)=>this.addItem(editingElement),removeItem:(editingElement)=>this.removeItem(editingElement),},},on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),on_cloned_handlers:this.onCloned.bind(this),};getNavLinkEls(editingElement){const navEl=editingElement.querySelector(".nav");return navEl.querySelectorAll(".nav-item .nav-link");}
getPaneEls(editingElement){const tabContentEl=editingElement.querySelector(".tab-content");return tabContentEl.querySelectorAll(":scope > .tab-pane");}
getActiveLinkEl(editingElement){const navEl=editingElement.querySelector(".nav");return navEl.querySelector(".nav-link.active");}
getActivePaneEl(editingElement){const tabContentEl=editingElement.querySelector(".tab-content");return tabContentEl.querySelector(":scope > .tab-pane.active");}
showTab(navLinkEl,paneEl){this.window.Tab.getOrCreateInstance(navLinkEl).show();paneEl.classList.add("show");}
addItem(editingElement){const activeNavItemEl=this.getActiveLinkEl(editingElement).parentElement;const activePaneEl=this.getActivePaneEl(editingElement);const newPaneEl=this.dependencies.clone.cloneElement(activePaneEl);const newNavItemEl=activeNavItemEl.cloneNode(true);activeNavItemEl.after(newNavItemEl);newPaneEl.classList.remove("active","show");newNavItemEl.firstElementChild.classList.remove("active");this.generateUniqueIDs(editingElement);this.showTab(newNavItemEl.querySelector(".nav-link"),newPaneEl);}
removeItem(editingElement){const activeLinkEl=this.getActiveLinkEl(editingElement);const activePaneEl=this.getActivePaneEl(editingElement);const navLinkEls=[...this.getNavLinkEls(editingElement)];const index=(navLinkEls.indexOf(activeLinkEl)+1)%navLinkEls.length;const nextActiveLinkEl=navLinkEls[index];const nextActivePaneEl=[...this.getPaneEls(editingElement)][index];this.showTab(nextActiveLinkEl,nextActivePaneEl);activeLinkEl.parentElement.remove();activePaneEl.remove();}
onSnippetDropped({snippetEl}){const tabsEls=getElementsWithOption(snippetEl,tabsSectionSelector);for(const tabsEl of tabsEls){this.generateUniqueIDs(tabsEl);}}
onCloned({cloneEl}){const tabsEls=getElementsWithOption(cloneEl,tabsSectionSelector);for(const tabsEl of tabsEls){this.generateUniqueIDs(tabsEl);}}
generateUniqueIDs(editingElement){const navLinkEls=this.getNavLinkEls(editingElement);const tabPaneEls=this.getPaneEls(editingElement);for(let i=0;i<navLinkEls.length;i++){const id=uniqueId(new Date().getTime()+"_");const idLink="nav_tabs_link_"+id;const idContent="nav_tabs_content_"+id;const navLinkEl=navLinkEls[i];navLinkEl.id=idLink;navLinkEl.href="#"+idContent;navLinkEl.setAttribute("aria-controls",idContent);const tabPaneEl=tabPaneEls[i];tabPaneEl.id=idContent;tabPaneEl.setAttribute("aria-labelledby",idLink);}}}
registry.category("website-plugins").add(NavTabsOptionPlugin.id,NavTabsOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/navtabs_style_option_plugin.js */
odoo.define('@website/builder/plugins/options/navtabs_style_option_plugin',['@html_builder/core/builder_action','@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{_t}=require("@web/core/l10n/translation");class NavTabsStyleOptionPlugin extends Plugin{static id="navTabsOptionStyle";static shared=["isNavItem","getActiveOverlayButtons","moveNavItem"];resources={builder_options:[withSequence(SNIPPET_SPECIFIC_END,{template:"website.NavTabsStyleOption",selector:".s_tabs",applyTo:".s_tabs_main",}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.NavTabsImagesStyleOption",selector:".s_tabs_images",applyTo:".s_tabs_main",}),],builder_actions:{SetStyleAction,SetDirectionAction,},has_overlay_options:{hasOption:(el)=>this.isNavItem(el)},get_overlay_buttons:withSequence(0,{getButtons:this.getActiveOverlayButtons.bind(this),}),};isNavItem(el){return el.matches(".nav-item")&&!!el.closest(".s_tabs, .s_tabs_images");}
getActiveOverlayButtons(target){if(!this.isNavItem(target)){this.overlayTarget=null;return[];}
this.overlayTarget=target;const buttons=[];const parentStyle=window.getComputedStyle(this.overlayTarget.parentElement);const isVertical=parentStyle.flexDirection==="column";const previousNavItemEl=this.overlayTarget.previousElementSibling;const nextNavItemEl=this.overlayTarget.nextElementSibling;if(previousNavItemEl){const direction=isVertical?"up":"left";buttons.push({class:`fa fa-fw fa-angle-${direction}`,title:_t("Move %s",direction),handler:this.moveNavItem.bind(this,"prev"),});}
if(nextNavItemEl){const direction=isVertical?"down":"right";buttons.push({class:`fa fa-fw fa-angle-${direction}`,title:_t("Move %s",direction),handler:this.moveNavItem.bind(this,"next"),});}
return buttons;}
moveNavItem(direction){const tabHash=this.overlayTarget.querySelector(".nav-link").hash;const tabPaneEl=this.overlayTarget.closest("section").querySelector(tabHash);if(direction==="prev"){const previousNavItemEl=this.overlayTarget.previousElementSibling;const previousTabPaneEl=tabPaneEl.previousElementSibling;previousNavItemEl.before(this.overlayTarget);previousTabPaneEl.before(tabPaneEl);}else{const nextNavItemEl=this.overlayTarget.nextElementSibling;const nextTabPaneEl=tabPaneEl.nextElementSibling;nextNavItemEl.after(this.overlayTarget);nextTabPaneEl.after(tabPaneEl);}}}
const getTabsEl=(editingElement)=>editingElement.querySelector(".s_tabs_nav");const BaseNavtabsStyleOption=__exports.BaseNavtabsStyleOption=class BaseNavtabsStyleOption extends BuilderAction{static id="baseNavtabsStyle";static dependencies=["navTabsOptionStyle"];setup(){this.tabsTabsClasses=["card-header","px-0","border-0","overflow-x-auto","overflow-y-hidden",];this.navTabsClasses=["card-header-tabs","mx-0","px-2","border-bottom"];this.tabsBtnClasses=["d-flex","rounded"];this.navBtnClasses=["d-inline-flex","nav-pills","p-2"];this.overlayTarget=null;}
moveNavItem(direction){this.dependencies.navTabsOptionStyle.moveNavItem(direction);}
getActiveOverlayButtons(target){return this.dependencies.navTabsOptionStyle.getActiveOverlayButtons(target);}
isNavItem(el){return this.dependencies.navTabsOptionStyle.isNavItem(el);}
getNavEl(editingElement){return editingElement.querySelector(".s_tabs_nav .nav");}
applyDirection(editingElement,direction){const isTabsImages=editingElement.closest(".s_tabs_common").classList.contains("s_tabs_images");const isVertical=direction==="vertical";const navEl=this.getNavEl(editingElement);editingElement.classList.toggle("row",isVertical);editingElement.classList.toggle("s_col_no_resize",isVertical);editingElement.classList.toggle("s_col_no_bgcolor",isVertical);navEl.classList.toggle(isTabsImages?"flex-md-column":"flex-sm-column",isVertical);editingElement.querySelectorAll(".s_tabs_nav > .nav-link").forEach((linkEl)=>linkEl.classList.toggle("py-2",isVertical));editingElement.querySelector(".s_tabs_nav").classList.toggle(isTabsImages?"col-md-3":"col-sm-3",isVertical);editingElement.querySelector(".s_tabs_content").classList.toggle(isTabsImages?"col-md-9":"col-sm-9",isVertical);if(isVertical){navEl.classList.remove("nav-fill","nav-justified","justify-content-center","justify-content-end","ms-auto","mx-auto");}}}
class SetStyleAction extends BaseNavtabsStyleOption{static id="setStyle";isApplied({editingElement,value}){const navEl=this.getNavEl(editingElement);if(navEl.classList.contains("nav-buttons")){return value==="nav-buttons";}
return navEl.classList.contains(value);}
apply({editingElement,value}){const isTabs=value==="nav-tabs";const isBtns=value==="nav-buttons";const tabsEl=getTabsEl(editingElement);const navEl=this.getNavEl(editingElement);if(isTabs||isBtns){this.applyDirection(editingElement,"horizontal");}
if(isTabs){tabsEl.classList.add(...this.tabsTabsClasses);navEl.classList.add(...this.navTabsClasses);}else if(isBtns){tabsEl.classList.add(...this.tabsBtnClasses);navEl.classList.add(...this.navBtnClasses);}
navEl.classList.add(value);editingElement.classList.toggle("card",isTabs);tabsEl.classList.toggle("mb-3",!isTabs);navEl.classList.toggle("overflow-x-auto",!isTabs);navEl.classList.toggle("overflow-y-hidden",!isTabs);editingElement.querySelector(".s_tabs_content").classList.toggle("p-3",isTabs);}
clean({editingElement,value}){const isTabs=value==="nav-tabs";const isBtns=value==="nav-buttons";const tabsEl=getTabsEl(editingElement);const navEl=this.getNavEl(editingElement);if(isTabs){tabsEl.classList.remove(...this.tabsTabsClasses);navEl.classList.remove(...this.navTabsClasses);}else if(isBtns){tabsEl.classList.remove(...this.tabsBtnClasses);navEl.classList.remove(...this.navBtnClasses);}
navEl.classList.remove(value);}}
class SetDirectionAction extends BaseNavtabsStyleOption{static id="setDirection";isApplied({editingElement,value}){const classList=this.getNavEl(editingElement).classList;const containsFlexColumn=classList.contains("flex-sm-column")||classList.contains("flex-md-column");return value==="vertical"?containsFlexColumn:!containsFlexColumn;}
apply({editingElement,value}){this.applyDirection(editingElement,value);}}
registry.category("website-plugins").add(NavTabsStyleOptionPlugin.id,NavTabsStyleOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/parallax_option.js */
odoo.define('@website/builder/plugins/options/parallax_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const ParallaxOption=__exports.ParallaxOption=class ParallaxOption extends BaseOptionComponent{static template="website.ParallaxOption";static props={};setup(){super.setup();this.state=useDomState((el)=>({InDialog:el.closest('.modal[role="dialog"]'),}));}}
return __exports;});;

/* /website/static/src/builder/plugins/options/parallax_option_plugin.js */
odoo.define('@website/builder/plugins/options/parallax_option_plugin',['@website/builder/plugins/utils','@html_builder/utils/utils','@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/background_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{applyFunDependOnSelectorAndExclude}=require("@website/builder/plugins/utils");const{getSelectorParams}=require("@html_builder/utils/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");const{BuilderAction}=require("@html_builder/core/builder_action");class WebsiteParallaxPlugin extends Plugin{static id="websiteParallaxPlugin";static dependencies=["builderActions","backgroundImageOption"];static shared=["applyParallaxType"];resources={builder_actions:{SetParallaxTypeAction,},on_bg_image_hide_handlers:this.onBgImageHide.bind(this),};setup(){this.backgroundOptionSelectorParams=getSelectorParams(this.getResource("builder_options"),WebsiteBackgroundOption);}
applyParallaxType({editingElement,value}){const isParallax=value!=="none";editingElement.classList.toggle("parallax",isParallax);editingElement.classList.toggle("s_parallax_is_fixed",value==="fixed");editingElement.classList.toggle("s_parallax_no_overflow_hidden",value==="none"||value==="fixed");const typeValues={none:0,fixed:1,top:1.5,bottom:-1.5,zoom_in:1.2,zoom_out:0.2,};editingElement.dataset.scrollBackgroundRatio=typeValues[value];if(value==="zoom_in"||value==="zoom_out"){editingElement.dataset.parallaxType=value;}else{delete editingElement.dataset.parallaxType;}
let parallaxEl=editingElement.querySelector(".s_parallax_bg");if(isParallax){if(!parallaxEl){parallaxEl=document.createElement("span");parallaxEl.classList.add("s_parallax_bg");editingElement.prepend(parallaxEl);this.dependencies.backgroundImageOption.changeEditingEl(editingElement,parallaxEl);}}else if(parallaxEl){this.dependencies.backgroundImageOption.changeEditingEl(parallaxEl,editingElement);parallaxEl.remove();}}
onBgImageHide(rootEl){for(const backgroundOptionSelector of this.backgroundOptionSelectorParams){applyFunDependOnSelectorAndExclude(this.removeParallax.bind(this),rootEl,backgroundOptionSelector);}}
removeParallax(editingEl){const parallaxEl=editingEl.querySelector(".s_parallax_bg");const bgImage=parallaxEl?.style.backgroundImage;if(!parallaxEl||!bgImage||bgImage==="none"||editingEl.classList.contains("o_background_video")){this.applyParallaxType({editingElement:editingEl,value:"none",});}}}
const SetParallaxTypeAction=__exports.SetParallaxTypeAction=class SetParallaxTypeAction extends BuilderAction{static id="setParallaxType";static dependencies=["websiteParallaxPlugin"];apply(context){this.dependencies.websiteParallaxPlugin.applyParallaxType(context);}
isApplied({editingElement,value}){const attributeValue=parseFloat(editingElement.dataset.scrollBackgroundRatio?.trim()||0);if(attributeValue===0){return value==="none";}
if(attributeValue===1){return value==="fixed";}
const parallaxType=editingElement.dataset.parallaxType;if(parallaxType){return value===parallaxType;}
return attributeValue>0?value==="top":value==="bottom";}}
registry.category("website-plugins").add(WebsiteParallaxPlugin.id,WebsiteParallaxPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/popup_option_plugin.js */
odoo.define('@website/builder/plugins/options/popup_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@web/core/registry','@html_builder/utils/utils','@html_editor/utils/resource','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{SNIPPET_SPECIFIC,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{getElementsWithOption}=require("@html_builder/utils/utils");const{withSequence}=require("@html_editor/utils/resource");const{BuilderAction}=require("@html_builder/core/builder_action");const POPUP=__exports.POPUP=SNIPPET_SPECIFIC;const COOKIES_BAR=__exports.COOKIES_BAR=SNIPPET_SPECIFIC_END;class PopupOptionPlugin extends Plugin{static id="PopupOption";static dependencies=["anchor","visibility","history","popupVisibilityPlugin"];resources={builder_options:[withSequence(POPUP,{template:"website.PopupOption",selector:".s_popup",exclude:"#website_cookies_bar",applyTo:".modal",}),withSequence(COOKIES_BAR,{template:"website.PopupCookiesOption",selector:".s_popup#website_cookies_bar",applyTo:".modal",}),],dropzone_selector:{selector:".s_popup",exclude:"#website_cookies_bar",dropIn:":not(p).oe_structure:not(.oe_structure_solo):not([data-snippet] *), :not(.o_mega_menu):not(p)[data-oe-type=html]:not([data-snippet] *)",},builder_actions:{MoveBlockAction,SetBackdropAction,CopyAnchorAction,SetPopupDelayAction,},on_cloned_handlers:this.onCloned.bind(this),on_remove_handlers:this.onRemove.bind(this),on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),no_parent_containers:".s_popup",};onCloned({cloneEl}){if(cloneEl.matches(".s_popup")){this.assignUniqueID(cloneEl);}}
onRemove(el){this.dependencies.popupVisibilityPlugin.onTargetHide(el);this.dependencies.history.addCustomMutation({apply:()=>{},revert:()=>{this.dependencies.popupVisibilityPlugin.onTargetShow(el);},});}
onSnippetDropped({snippetEl}){if(snippetEl.matches(".s_popup")){this.assignUniqueID(snippetEl);this.dependencies.history.addCustomMutation({apply:()=>{this.dependencies.popupVisibilityPlugin.onTargetShow(snippetEl);},revert:()=>{this.dependencies.popupVisibilityPlugin.onTargetHide(snippetEl);},});}
const droppedEls=getElementsWithOption(snippetEl,".s_popup");droppedEls.forEach((droppedEl)=>this.dependencies.visibility.toggleTargetVisibility(droppedEl,true,true));}
assignUniqueID(editingElement){editingElement.closest(".s_popup").id=`sPopup${Date.now()}`;}}
const MoveBlockAction=__exports.MoveBlockAction=class MoveBlockAction extends BuilderAction{static id="moveBlock";isApplied({editingElement,value}){return editingElement.closest("#o_shared_blocks")?value==="allPages":value==="currentPage";}
apply({editingElement,value}){const selector=value==="allPages"?"#o_shared_blocks":"main .oe_structure.o_editable";const whereEl=this.editable.querySelector(selector);const popupEl=editingElement.closest(".s_popup");whereEl.insertAdjacentElement("afterbegin",popupEl);}}
const SetBackdropAction=__exports.SetBackdropAction=class SetBackdropAction extends BuilderAction{static id="setBackdrop";isApplied({editingElement}){const hasBackdropColor=!!editingElement.style.getPropertyValue("background-color").trim();const hasNoBackdropClass=editingElement.classList.contains("s_popup_no_backdrop");return hasBackdropColor&&!hasNoBackdropClass;}
apply({editingElement}){editingElement.classList.remove("s_popup_no_backdrop");editingElement.style.setProperty("background-color","var(--black-50)","important");}
clean({editingElement}){editingElement.classList.add("s_popup_no_backdrop");editingElement.style.removeProperty("background-color");}}
const CopyAnchorAction=__exports.CopyAnchorAction=class CopyAnchorAction extends BuilderAction{static id="copyAnchor";static dependencies=["anchor"];apply({editingElement}){this.dependencies.anchor.createOrEditAnchorLink(editingElement);}}
const SetPopupDelayAction=__exports.SetPopupDelayAction=class SetPopupDelayAction extends BuilderAction{static id="setPopupDelay";apply({editingElement,value}){editingElement.dataset.showAfter=value*1000;}
getValue({editingElement}){return editingElement.dataset.showAfter/1000;}}
registry.category("website-plugins").add(PopupOptionPlugin.id,PopupOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/pricelist_option/add_product_option.js */
odoo.define('@website/builder/plugins/options/pricelist_option/add_product_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const AddProductOption=__exports.AddProductOption=class AddProductOption extends BaseOptionComponent{static template="website.AddProductOption";static props={applyTo:String,productSelector:String,};}
return __exports;});;

/* /website/static/src/builder/plugins/options/pricelist_option/pricelist_boxed_option_plugin.js */
odoo.define('@website/builder/plugins/options/pricelist_option/pricelist_boxed_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/pricelist_option/add_product_option'],function(require){'use strict';let __exports={};const{BEGIN,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{AddProductOption}=require("@website/builder/plugins/options/pricelist_option/add_product_option");class PriceListBoxedOptionPlugin extends Plugin{static id="priceListBoxedOption";resources={builder_options:[withSequence(BEGIN,{selector:".s_pricelist_boxed",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_pricelist_boxed_item):not(:has(.row > div .s_pricelist_boxed_item))",productSelector:".s_pricelist_boxed_item",},}),withSequence(BEGIN,{selector:".s_pricelist_boxed_section",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_pricelist_boxed_item)",productSelector:".s_pricelist_boxed_item",},}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.PriceListBoxedDescriptionOption",selector:".s_pricelist_boxed",}),],dropzone_selector:{selector:".s_pricelist_boxed_item",dropNear:".s_pricelist_boxed_item",},is_movable_selector:{selector:".s_pricelist_boxed_item",direction:"vertical"},};}
registry.category("website-plugins").add(PriceListBoxedOptionPlugin.id,PriceListBoxedOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/pricelist_option/pricelist_cafe_plugin.js */
odoo.define('@website/builder/plugins/options/pricelist_option/pricelist_cafe_plugin',['@html_builder/plugins/vertical_alignment_option','@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/pricelist_option/add_product_option'],function(require){'use strict';let __exports={};const{VerticalAlignmentOption}=require("@html_builder/plugins/vertical_alignment_option");const{BEGIN,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{AddProductOption}=require("@website/builder/plugins/options/pricelist_option/add_product_option");class PriceListCafePlugin extends Plugin{static id="priceList";resources={builder_options:[withSequence(BEGIN,{selector:".s_pricelist_cafe",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_pricelist_cafe_item):not(:has(.row > div .s_pricelist_cafe_item))",productSelector:".s_pricelist_cafe_item",},}),withSequence(BEGIN,{selector:".s_pricelist_cafe",OptionComponent:VerticalAlignmentOption,applyTo:".row:has(.s_pricelist_cafe_col)",}),withSequence(BEGIN,{selector:".s_pricelist_cafe .row > div",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_pricelist_cafe_item)",productSelector:".s_pricelist_cafe_item",},}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.PriceListCafeDescriptionOption",selector:".s_pricelist_cafe",}),],dropzone_selector:{selector:".s_pricelist_cafe_item",dropNear:".s_pricelist_cafe_item",},is_movable_selector:{selector:".s_pricelist_cafe_item",direction:"vertical"},};}
registry.category("website-plugins").add(PriceListCafePlugin.id,PriceListCafePlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/pricelist_option/pricelist_plugin.js */
odoo.define('@website/builder/plugins/options/pricelist_option/pricelist_plugin',['@html_builder/core/builder_action','@html_editor/plugin','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");class PriceListPlugin extends Plugin{static id="priceListPlugin";resources={builder_actions:{TogglePriceListDescriptionAction,},};}
const TogglePriceListDescriptionAction=__exports.TogglePriceListDescriptionAction=class TogglePriceListDescriptionAction extends BuilderAction{static id="togglePriceListDescription";isApplied({editingElement,params}){const description=editingElement.querySelector(`.${params.descriptionClass}`);return description&&!description.classList.contains("d-none");}
apply({editingElement,params}){const items=editingElement.querySelectorAll(`.${params.itemClass}`);for(const item of items){const description=item.querySelector("."+params.descriptionClass);if(description){description.classList.remove("d-none");}else{const descriptionEl=this.document.createElement("p");descriptionEl.classList.add(params.descriptionClass,"d-block","pe-5","text-muted");descriptionEl.textContent=_t("Add a description here");item.appendChild(descriptionEl);}}}
clean({editingElement,params}){const items=editingElement.querySelectorAll(`.${params.itemClass}`);for(const item of items){const description=item.querySelector("."+params.descriptionClass);if(description){description.classList.add("d-none");}}}}
registry.category("website-plugins").add(PriceListPlugin.id,PriceListPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/pricelist_option/product_catalog_plugin.js */
odoo.define('@website/builder/plugins/options/pricelist_option/product_catalog_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry','@website/builder/plugins/options/pricelist_option/add_product_option'],function(require){'use strict';let __exports={};const{BEGIN,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{AddProductOption}=require("@website/builder/plugins/options/pricelist_option/add_product_option");class ProductCatalogOptionPlugin extends Plugin{static id="productCatalogOptionPlugin";resources={builder_options:[withSequence(BEGIN,{selector:".s_product_catalog",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_product_catalog_dish):not(:has(.row > div .s_product_catalog_dish))",productSelector:".s_product_catalog_dish",},}),withSequence(BEGIN,{selector:".s_product_catalog .row > div",OptionComponent:AddProductOption,props:{applyTo:":scope > :has(.s_product_catalog_dish)",productSelector:".s_product_catalog_dish",},}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.ProductCatalogDescriptionOption",selector:".s_product_catalog",}),],dropzone_selector:{selector:".s_product_catalog_dish",dropNear:".s_product_catalog_dish",},is_movable_selector:{selector:".s_product_catalog_dish",direction:"vertical"},};}
registry.category("website-plugins").add(ProductCatalogOptionPlugin.id,ProductCatalogOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/process_steps_option.js */
odoo.define('@website/builder/plugins/options/process_steps_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const connectorOptionParams=__exports.connectorOptionParams=[{key:"",param:"None"},{key:"s_process_steps_connector_line",param:"Line"},{key:"s_process_steps_connector_arrow",param:"Straight arrow"},{key:"s_process_steps_connector_curved_arrow",param:"Curved arrow"},];const ProcessStepsOption=__exports.ProcessStepsOption=class ProcessStepsOption extends BaseOptionComponent{static template="website.ProcessStepsOption";static props={};setup(){super.setup();this.connectorOptionParams=connectorOptionParams;}
getConnectorId(connectorOptionParamKey){return!connectorOptionParamKey?"no_connector_opt":"";}}
return __exports;});;

/* /website/static/src/builder/plugins/options/process_steps_option_plugin.js */
odoo.define('@website/builder/plugins/options/process_steps_option_plugin',['@html_builder/core/builder_action','@html_builder/core/core_builder_action_plugin','@website/builder/plugins/utils','@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/process_steps_option','@website/builder/plugins/options/background_option'],function(require){'use strict';let __exports={};const{BuilderAction}=require("@html_builder/core/builder_action");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");const{applyFunDependOnSelectorAndExclude}=require("@website/builder/plugins/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{connectorOptionParams,ProcessStepsOption}=require("@website/builder/plugins/options/process_steps_option");const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");class ProcessStepsOptionPlugin extends Plugin{static id="processStepsOption";selector=".s_process_steps";resources={builder_options:[{OptionComponent:ProcessStepsOption,selector:this.selector,},{OptionComponent:WebsiteBackgroundOption,selector:".s_process_step .s_process_step_number",props:{withColors:true,withImages:false,withColorCombinations:false,},},],builder_actions:{ChangeConnectorAction,ChangeArrowColorAction,},content_updated_handlers:(rootEl)=>applyFunDependOnSelectorAndExclude(reloadConnectors,rootEl,{selector:this.selector,}),dropzone_selector:{selector:".s_process_step",dropLockWithin:".s_process_steps",},};}
const ChangeConnectorAction=__exports.ChangeConnectorAction=class ChangeConnectorAction extends ClassAction{static id="changeConnector";apply({editingElement,params:{mainParam:className}}){super.apply(...arguments);reloadConnectors(editingElement);let markerEnd="";if(["s_process_steps_connector_arrow","s_process_steps_connector_curved_arrow"].includes(className)){const arrowHeadEl=editingElement.querySelector(".s_process_steps_arrow_head");if(!arrowHeadEl.id){arrowHeadEl.id="s_process_steps_arrow_head"+Date.now();}
markerEnd=`url(#${arrowHeadEl.id})`;}
editingElement.querySelectorAll(".s_process_step_connector path").forEach((path)=>path.setAttribute("marker-end",markerEnd));}}
const ChangeArrowColorAction=__exports.ChangeArrowColorAction=class ChangeArrowColorAction extends BuilderAction{static id="changeArrowColor";apply({editingElement,value:colorValue}){const arrowHeadEl=editingElement.closest(".s_process_steps").querySelector(".s_process_steps_arrow_head");arrowHeadEl.querySelector("path").style.fill=colorValue;}}
registry.category("website-plugins").add(ProcessStepsOptionPlugin.id,ProcessStepsOptionPlugin);function reloadConnectors(editingElement){const connectorOptionClasses=connectorOptionParams.map((connectorOptionParam)=>connectorOptionParam.key);const type=connectorOptionClasses.find((connectorOptionClass)=>connectorOptionClass&&editingElement.classList.contains(connectorOptionClass))||"";const stepsEls=editingElement.querySelectorAll(".s_process_step:not(.o_snippet_desktop_invisible)");const nbBootstrapCols=12;let colsInRow=0;for(let i=0;i<stepsEls.length-1;i++){const connectorEl=stepsEls[i].querySelector(".s_process_step_connector");const stepMainElementRect=getStepMainElementRect(stepsEls[i]);const nextStepMainElementRect=getStepMainElementRect(stepsEls[i+1]);const stepSize=getClassSuffixedInteger(stepsEls[i],"col-lg-");const nextStepSize=getClassSuffixedInteger(stepsEls[i+1],"col-lg-");const stepOffset=getClassSuffixedInteger(stepsEls[i],"offset-lg-");const nextStepOffset=getClassSuffixedInteger(stepsEls[i+1],"offset-lg-");const stepPaddingTop=getClassSuffixedInteger(stepsEls[i],"pt");const nextStepPaddingTop=getClassSuffixedInteger(stepsEls[i+1],"pt");const stepHeightDifference=stepPaddingTop-nextStepPaddingTop;const hCurrentStepIconHeight=stepMainElementRect.height/2;const hNextStepIconHeight=nextStepMainElementRect.height/2;connectorEl.style.left=`calc(50% + ${stepMainElementRect.width / 2}px + 16px)`;connectorEl.style.height=`${
            stepMainElementRect.height + Math.abs(stepHeightDifference)
        }px`;connectorEl.style.width=`calc(${
            (100 * (stepSize / 2 + nextStepOffset + nextStepSize / 2)) / stepSize
        }% - ${stepMainElementRect.width / 2}px - ${nextStepMainElementRect.width / 2}px - 32px)`;const marginType=stepHeightDifference<0?"marginBottom":"marginTop";connectorEl.style[marginType]=`${0 - Math.abs(stepHeightDifference)}px`;const isTheLastColOfRow=nbBootstrapCols<colsInRow+stepSize+stepOffset+nextStepSize+nextStepOffset;connectorEl.classList.toggle("d-none",isTheLastColOfRow);colsInRow=isTheLastColOfRow?0:colsInRow+stepSize+stepOffset;connectorEl.style.display="block";const{height,width}=connectorEl.getBoundingClientRect();connectorEl.style.removeProperty("display");if(type==="s_process_steps_connector_curved_arrow"&&i%2===0){connectorEl.style.transform=stepHeightDifference?"unset":"scale(1, -1)";}else{connectorEl.style.transform="unset";}
connectorEl.setAttribute("viewBox",`0 0 ${width} ${height}`);connectorEl.querySelector("path").setAttribute("d",getPath(type,width,height,stepHeightDifference,hCurrentStepIconHeight,hNextStepIconHeight));}}
function getClassSuffixedInteger(el,classNamePrefix){const className=[...el.classList].find((cl)=>cl.startsWith(classNamePrefix));return className?parseInt(className.replace(classNamePrefix,"")):0;}
function getStepMainElementRect(stepEl){const iconEl=stepEl.querySelector(".s_process_step_number");if(iconEl){return iconEl.getBoundingClientRect();}
const contentEls=stepEl.querySelectorAll(".s_process_step_content > *");if(contentEls.length){const contentRects=[...contentEls].map((contentEl)=>{const range=document.createRange();range.selectNodeContents(contentEl);return range.getBoundingClientRect();});return contentRects.reduce((previous,current)=>current.width>previous.width?current:previous);}
return{};}
function getPath(type,width,height,stepHeightDifference,hCurrentStepIconHeight,hNextStepIconHeight){const hHeight=height/2;switch(type){case"s_process_steps_connector_line":{const verticalPaddingFactor=Math.abs(stepHeightDifference)/8;if(stepHeightDifference>=0){return`M 0 ${
                    stepHeightDifference + hCurrentStepIconHeight - verticalPaddingFactor
                } L ${width} ${hNextStepIconHeight + verticalPaddingFactor}`;}
return`M 0 ${hCurrentStepIconHeight + verticalPaddingFactor} L ${width} ${
                hNextStepIconHeight - stepHeightDifference - verticalPaddingFactor
            }`;}
case"s_process_steps_connector_arrow":{const verticalPaddingFactor=(Math.abs(stepHeightDifference)/8)*1.5;if(stepHeightDifference>=0){return`M ${0.05 * width} ${
                    stepHeightDifference + hCurrentStepIconHeight - verticalPaddingFactor
                } L ${0.95 * width - 6} ${hNextStepIconHeight + verticalPaddingFactor}`;}
return`M ${0.05 * width} ${hCurrentStepIconHeight + verticalPaddingFactor} L ${
                0.95 * width - 6
            } ${Math.abs(stepHeightDifference) + hNextStepIconHeight - verticalPaddingFactor}`;}
case"s_process_steps_connector_curved_arrow":{if(stepHeightDifference==0){return`M ${0.05 * width} ${hHeight * 1.2} Q ${width / 2} ${hHeight * 1.8} ${
                    0.95 * width - 6
                } ${hHeight * 1.2}`;}else if(stepHeightDifference>0){return`M ${0.05 * width} ${stepHeightDifference + hCurrentStepIconHeight} Q ${
                    width * 0.75
                } ${height * 0.75} ${0.5 * width - 6} ${hHeight} T ${
                    0.95 * width - 6
                } ${hNextStepIconHeight}`;}
return`M ${0.05 * width} ${hCurrentStepIconHeight} Q ${width * 0.75} ${
                height * 0.005
            } ${0.5 * width - 6} ${hHeight} T ${0.95 * width - 6} ${
                Math.abs(stepHeightDifference) + hNextStepIconHeight
            }`;}}
return"";}
return __exports;});;

/* /website/static/src/builder/plugins/options/progress_bar_option_plugin.js */
odoo.define('@website/builder/plugins/options/progress_bar_option_plugin',['@web/core/registry','@html_editor/plugin','@web/core/utils/numbers','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{clamp}=require("@web/core/utils/numbers");const{BuilderAction}=require("@html_builder/core/builder_action");class ProgressBarOptionPlugin extends Plugin{static id="progressBarOption";selector=".s_progress_bar";resources={builder_options:{template:"website.ProgressBarOption",selector:this.selector,cleanForSave:this.cleanForSave.bind(this),},builder_actions:{DisplayAction,ProgressBarValueAction,},so_content_addition_selector:[".s_progress_bar"],};cleanForSave(editingEl){const progressBar=editingEl.querySelector(".progress-bar");const progressLabel=editingEl.querySelector(".s_progress_bar_text");if(!progressBar.classList.contains("progress-bar-striped")){progressBar.classList.remove("progress-bar-animated");}
if(progressLabel&&progressLabel.classList.contains("d-none")){progressLabel.remove();}}}
const DisplayAction=__exports.DisplayAction=class DisplayAction extends BuilderAction{static id="display";apply({editingElement,params:{mainParam:position}}){if(editingElement.classList.contains("progress")){editingElement.classList.remove("progress");const progressBarEl=editingElement.querySelector(".progress-bar");if(progressBarEl){const wrapperEl=document.createElement("div");wrapperEl.classList.add("progress");progressBarEl.parentNode.insertBefore(wrapperEl,progressBarEl);wrapperEl.appendChild(progressBarEl);editingElement.querySelector(".progress-bar span").classList.add("s_progress_bar_text");}}
const progress=editingElement.querySelector(".progress");const progressValue=progress.getAttribute("aria-valuenow");let progressLabel=editingElement.querySelector(".s_progress_bar_text");if(!progressLabel&&position!=="none"){progressLabel=document.createElement("span");progressLabel.classList.add("s_progress_bar_text","small");progressLabel.textContent=progressValue+"%";}
if(position==="inline"){editingElement.querySelector(".progress-bar").appendChild(progressLabel);}else if(["below","after"].includes(position)){progress.insertAdjacentElement("afterend",progressLabel);}
if(progressLabel){progressLabel.classList.toggle("d-none",position==="none");}}}
const ProgressBarValueAction=__exports.ProgressBarValueAction=class ProgressBarValueAction extends BuilderAction{static id="progressBarValue";apply({editingElement,value}){value=parseInt(value);value=clamp(value,0,100);const progressBarEl=editingElement.querySelector(".progress-bar");const progressBarTextEl=editingElement.querySelector(".s_progress_bar_text");const progressMainEl=editingElement.querySelector(".progress");if(progressBarTextEl){progressBarTextEl.innerText=progressBarTextEl.innerText.replace(/[0-9]+%/,value+"%");}
progressMainEl.setAttribute("aria-valuenow",value);progressBarEl.style.width=value+"%";}
getValue({editingElement}){return editingElement.querySelector(".progress").getAttribute("aria-valuenow");}}
registry.category("website-plugins").add(ProgressBarOptionPlugin.id,ProgressBarOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/scroll_button_option.js */
odoo.define('@website/builder/plugins/options/scroll_button_option',['@html_builder/core/utils','@web/core/l10n/translation'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const{_t}=require("@web/core/l10n/translation");const ScrollButtonOption=__exports.ScrollButtonOption=class ScrollButtonOption extends BaseOptionComponent{static template="website.ScrollButtonOption";static props={};setup(){super.setup();this.state=useDomState((editingElement)=>({heightLabel:editingElement.dataset.snippet==="s_image_gallery"?_t("Min-Height"):_t("Height"),heightFieldEnabled:editingElement.dataset.snippet==="s_image_gallery",}));}
showHeightField(){return this.state.heightFieldEnabled&&this.isActiveItem("minheight_auto_opt");}}
return __exports;});;

/* /website/static/src/builder/plugins/options/scroll_button_option_plugin.js */
odoo.define('@website/builder/plugins/options/scroll_button_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@website/builder/plugins/options/scroll_button_option','@html_builder/core/builder_action','@html_builder/core/core_builder_action_plugin','@html_editor/utils/resource','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{ScrollButtonOption}=require("@website/builder/plugins/options/scroll_button_option");const{BuilderAction}=require("@html_builder/core/builder_action");const{ClassAction}=require("@html_builder/core/core_builder_action_plugin");const{withSequence}=require("@html_editor/utils/resource");const{SCROLL_BUTTON}=require("@website/builder/option_sequence");class ScrollButtonOptionPlugin extends Plugin{static id="scrollButtonOption";resources={builder_options:[withSequence(SCROLL_BUTTON,{OptionComponent:ScrollButtonOption,selector:"section",exclude:"[data-snippet] :not(.oe_structure) > [data-snippet],.s_instagram_page,.o_mega_menu > section,.s_appointments .s_dynamic_snippet_content,.s_floating_blocks,.s_floating_blocks .s_floating_blocks_block",}),],builder_actions:{AddScrollButtonAction,ScrollButtonSectionHeightClassAction,},};}
class ScrollButtonManager{constructor(){this.buttonCache=new Map();}
createButton(){const anchor=document.createElement("a");anchor.classList.add("o_scroll_button","mb-3","rounded-circle","align-items-center","justify-content-center","mx-auto","bg-primary","o_not_editable");anchor.href="#";anchor.contentEditable="false";anchor.title=_t("Scroll down to next section");const arrow=document.createElement("i");arrow.classList.add("fa","fa-angle-down","fa-3x");anchor.appendChild(arrow);return anchor;}
ensureButton(editingElement){let button=this.buttonCache.get(editingElement);if(!button){button=this.createButton();this.buttonCache.set(editingElement,button);}
return button;}
attachButton(editingElement){const button=this.ensureButton(editingElement);editingElement.appendChild(button);}
removeButton(editingElement){const button=editingElement.querySelector(":scope > .o_scroll_button");if(button){button.remove();this.buttonCache.set(editingElement,button);}}
isButtonPresent(editingElement){return!!editingElement.querySelector(":scope > .o_scroll_button");}}
const scrollButtonManager=new ScrollButtonManager();const AddScrollButtonAction=__exports.AddScrollButtonAction=class AddScrollButtonAction extends BuilderAction{static id="addScrollButton";setup(){this.manager=scrollButtonManager;}
isApplied({editingElement}){return this.manager.isButtonPresent(editingElement);}
apply({editingElement}){this.manager.attachButton(editingElement);}
clean({editingElement}){this.manager.removeButton(editingElement);}}
const ScrollButtonSectionHeightClassAction=__exports.ScrollButtonSectionHeightClassAction=class ScrollButtonSectionHeightClassAction extends ClassAction{static id="scrollButtonSectionHeightClass";setup(){this.manager=scrollButtonManager;}
apply({editingElement,params:{mainParam}}){super.apply(...arguments);if(mainParam){editingElement.classList.replace("d-lg-block","d-lg-flex");}else if(editingElement.classList.contains("d-lg-flex")){editingElement.classList.remove("d-lg-flex");const style=window.getComputedStyle(editingElement);const display=style.getPropertyValue("display");editingElement.classList.add(display==="flex"?"d-lg-flex":"d-lg-block");}}
clean(args){super.clean(args);if(args.params.mainParam==="o_full_screen_height"){this.manager.removeButton(args.editingElement);}}}
registry.category("website-plugins").add(ScrollButtonOptionPlugin.id,ScrollButtonOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/searchbar_option.js */
odoo.define('@website/builder/plugins/options/searchbar_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent,useGetItemValue}=require("@html_builder/core/utils");const SearchbarOption=__exports.SearchbarOption=class SearchbarOption extends BaseOptionComponent{static template="website.SearchbarOption";static props={getOrderByItems:Function,getDisplayItems:Function,};setup(){super.setup();this.getItemValue=useGetItemValue();this.orderByItems=this.props.getOrderByItems();this.displayItems=this.props.getDisplayItems();}}
return __exports;});;

/* /website/static/src/builder/plugins/options/searchbar_option_plugin.js */
odoo.define('@website/builder/plugins/options/searchbar_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@website/builder/plugins/options/searchbar_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{SearchbarOption}=require("@website/builder/plugins/options/searchbar_option");const{BuilderAction}=require("@html_builder/core/builder_action");class SearchbarOptionPlugin extends Plugin{static id="searchbarOption";resources={builder_options:[{OptionComponent:SearchbarOption,selector:".s_searchbar_input",applyTo:".search-query",props:{getOrderByItems:()=>this.getResource("searchbar_option_order_by_items"),getDisplayItems:()=>this.getResource("searchbar_option_display_items"),},},],builder_actions:{SetSearchTypeAction,SetOrderByAction,SetSearchbarStyleAction,SetNonEmptyDataAttributeAction,},so_content_addition_selector:[".s_searchbar_input"],searchbar_option_order_by_items:{label:_t("Name (A-Z)"),orderBy:"name asc",id:"order_name_asc_opt",},searchbar_option_display_items:[{label:_t("Description"),dataAttribute:"displayDescription",dependency:"search_all_opt",},{label:_t("Content"),dataAttribute:"displayDescription",dependency:"search_pages_opt",},{label:_t("Extra Link"),dataAttribute:"displayExtraLink",dependency:"search_all_opt",},{label:_t("Detail"),dataAttribute:"displayDetail",dependency:"search_all_opt",},{label:_t("Image"),dataAttribute:"displayImage",dependency:"search_all_opt",},],};}
const BaseSearchBarAction=__exports.BaseSearchBarAction=class BaseSearchBarAction extends BuilderAction{id="baseSearchBar";defaultSearchType="name asc";getFormEl(editingElement){return editingElement.closest("form");}
getSearchButtonEl(editingElement){return editingElement.closest(".s_searchbar_input").querySelector(".oe_search_button");}
getSearchOrderByInputEl(editingElement){return this.getFormEl(editingElement).querySelector(".o_search_order_by");}}
const SetSearchTypeAction=__exports.SetSearchTypeAction=class SetSearchTypeAction extends BaseSearchBarAction{static id="setSearchType";apply({editingElement,value:formAction,dependencyManager}){this.getFormEl(editingElement).action=formAction;const isDependencyActive=(dep)=>!dep||dependencyManager.get(dep).isActive();const searchOrderByInputEl=this.getSearchOrderByInputEl(editingElement);if(!this.getResource("searchbar_option_order_by_items").some((item)=>isDependencyActive(item.dependency)&&item.orderBy===searchOrderByInputEl.value)){editingElement.dataset.orderBy=this.defaultSearchType;searchOrderByInputEl.value=this.defaultSearchType;}
const displayDataAttributes=new Set();for(const item of this.getResource("searchbar_option_display_items")){if(isDependencyActive(item.dependency)){displayDataAttributes.add(item.dataAttribute);}else{delete editingElement.dataset[item.dataAttribute];}}
for(const dataAttribute of displayDataAttributes){editingElement.dataset[dataAttribute]="true";}}}
const SetOrderByAction=__exports.SetOrderByAction=class SetOrderByAction extends BaseSearchBarAction{static id="setOrderBy";apply({editingElement,value:orderBy}){this.getSearchOrderByInputEl(editingElement).value=orderBy;}}
const SetSearchbarStyleAction=__exports.SetSearchbarStyleAction=class SetSearchbarStyleAction extends BaseSearchBarAction{static id="setSearchbarStyle";isApplied({editingElement,params:{mainParam:style}}){const searchInputIsLight=editingElement.matches(".border-0.bg-light");const searchButtonIsLight=this.getSearchButtonEl(editingElement)?.matches(".btn-light");if(style==="light"){return searchInputIsLight&&searchButtonIsLight;}
if(style==="default"){return!searchInputIsLight&&!searchButtonIsLight;}}
apply({editingElement,params:{mainParam:style}}){const isLight=style==="light";const searchButtonEl=this.getSearchButtonEl(editingElement);editingElement.classList.toggle("border-0",isLight);editingElement.classList.toggle("bg-light",isLight);searchButtonEl?.classList.toggle("btn-light",isLight);searchButtonEl?.classList.toggle("btn-primary",!isLight);}}
const SetNonEmptyDataAttributeAction=__exports.SetNonEmptyDataAttributeAction=class SetNonEmptyDataAttributeAction extends BuilderAction{static id="setNonEmptyDataAttribute";getValue({editingElement,params:{mainParam:attributeName}={}}){return editingElement.dataset[attributeName];}
isApplied({editingElement,params:{mainParam:attributeName}={},value=""}){return editingElement.dataset[attributeName]===value;}
apply({editingElement,params:{mainParam:attributeName}={},value}){if(value){editingElement.dataset[attributeName]=value;}else{delete editingElement.dataset[attributeName];}}
clean({editingElement,params:{mainParam:attributeName}={}}){editingElement.dataset[attributeName]="";}}
registry.category("website-plugins").add(SearchbarOptionPlugin.id,SearchbarOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/social_media_links.js */
odoo.define('@website/builder/plugins/options/social_media_links',['@html_builder/core/utils','@odoo/owl','@web/core/utils/sortable_owl'],function(require){'use strict';let __exports={};const{useDomState,BaseOptionComponent}=require("@html_builder/core/utils");const{onWillStart,useRef,useState}=require("@odoo/owl");const{useSortable}=require("@web/core/utils/sortable_owl");const SocialMediaLinks=__exports.SocialMediaLinks=class SocialMediaLinks extends BaseOptionComponent{static template="website.SocialMediaLinks";static props={getRecordedSocialMediaNames:{type:Function},reorderSocialMediaLink:{type:Function},};setup(){super.setup();onWillStart(async()=>{this.recordedSocialMediaNames=await this.props.getRecordedSocialMediaNames();});this.rootRef=useRef("root");this.domState=useDomState((editingElement)=>({presentLinks:[...editingElement.querySelectorAll(":scope > a[href]")].map((element)=>({element,media:element.attributes.href.value.split("/website/social/")[1],})),}));this.nextId=1001;this.ids=[];this.elIdsMap=new Map();this.idsElMap=new Map();this.idsMediaMap=new Map();this.mediaIdsMap=new Map();this.reorderTriggered=useState({trigger:0});useSortable({ref:this.rootRef,elements:"tr",handle:".o_drag_handle",cursor:"grabbing",placeholderClasses:["d-table-row"],onDrop:({next,element})=>{const elId=parseInt(element.dataset.id);const nextId=next?.dataset.id;const oldIdx=this.ids.findIndex((id)=>id===elId);this.ids.splice(oldIdx,1);const oldNext=this.ids.slice(oldIdx).find((i)=>this.idsElMap.get(i)?.isConnected);let idx=this.ids.findIndex((id)=>id==nextId);if(0<=idx){this.ids.splice(idx,0,elId);}else{idx=this.ids.length;this.ids.push(elId);}
const newNext=this.ids.slice(idx+1).find((i)=>this.idsElMap.get(i)?.isConnected);if(this.idsElMap.get(elId)?.isConnected&&oldNext!==newNext){this.props.reorderSocialMediaLink({editingElement:this.env.getEditingElement(),element:this.idsElMap.get(elId),elementAfter:this.idsElMap.get(newNext),});this.env.editor.shared.history.addStep();}
this.reorderTriggered.trigger++;},});}
computeItems(){const missingRecordedSocialMediaNames=new Set(this.recordedSocialMediaNames);const idsLookUp=new Map(this.ids.map((id,i)=>[id,i]));const idsInDom=new Set();const itemsFromDom=this.domState.presentLinks.map(({element,media},domPosition)=>{let id=this.elIdsMap.get(element);if(!id){const idBasedOnMedia=this.mediaIdsMap.get(media);if(!idsInDom.has(idBasedOnMedia)){id=idBasedOnMedia;}}
if(!id){id=this.nextId++;}
idsInDom.add(id);if(media){missingRecordedSocialMediaNames.delete(media);}
return{element,media,id,domPosition:domPosition+1};});const items=[];const addRecordedSocialMediaAtStartOfSlice=(slice)=>{for(const id of slice){if(idsInDom.has(id)){break;}
const media=this.idsMediaMap.get(id);if(media){items.push({id,media});missingRecordedSocialMediaNames.delete(media);}}};addRecordedSocialMediaAtStartOfSlice(this.ids);for(const item of itemsFromDom){items.push(item);const start=idsLookUp.get(item.id);if(start!==undefined){addRecordedSocialMediaAtStartOfSlice(this.ids.slice(start+1));}}
for(const media of missingRecordedSocialMediaNames){items.push({id:this.nextId++,media});}
this.ids=[];this.elIdsMap=new Map();this.idsMediaMap=new Map();for(const item of items){this.ids.push(item.id);if(item.element){this.elIdsMap.set(item.element,item.id);this.idsElMap.set(item.id,item.element);}
if(item.media){this.idsMediaMap.set(item.id,item.media);this.mediaIdsMap.set(item.media,item.id);}}
let elementAfter=null;for(let i=items.length-1;i>=0;i--){items[i].nextLink=elementAfter;items[i].fabricatedKey=`${items[i].id}+${items[i].domPosition}`;if(items[i].element){elementAfter=items[i].element;delete items[i].element;}}
return items;}}
return __exports;});;

/* /website/static/src/builder/plugins/options/social_media_option_plugin.js */
odoo.define('@website/builder/plugins/options/social_media_option_plugin',['@html_editor/plugin','@html_editor/utils/resource','@html_editor/utils/dom_info','@html_editor/utils/fonts','@web/core/l10n/translation','@web/core/registry','@web/core/utils/render','@website/builder/plugins/options/social_media_links','@html_editor/utils/dom_traversal','@html_builder/utils/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{ICON_SELECTOR}=require("@html_editor/utils/dom_info");const{fonts}=require("@html_editor/utils/fonts");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{renderToFragment}=require("@web/core/utils/render");const{SocialMediaLinks}=require("@website/builder/plugins/options/social_media_links");const{selectElements}=require("@html_editor/utils/dom_traversal");const{SNIPPET_SPECIFIC,TITLE_LAYOUT_SIZE}=require("@html_builder/utils/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");const socialMediaInfo=new Map(Object.entries({facebook:{recorded:true,label:_t("Facebook"),iconClass:"fa-facebook",extraHostnameRegex:/(^|\.)fb\.(com|me)$/,},twitter:{recorded:true,label:_t("X"),iconClass:"fa-twitter",extraHostnameRegex:/(^|\.)x\.com$/,},linkedin:{recorded:true,label:_t("LinkedIn"),iconClass:"fa-linkedin",},youtube:{recorded:true,label:_t("YouTube"),iconClass:"fa-youtube-play",extraHostnameRegex:/(^|\.)youtu\.be$/,},instagram:{recorded:true,label:_t("Instagram"),iconClass:"fa-instagram",extraHostnameRegex:/(^|\.)instagr\.(am|com)$/,},github:{recorded:true,label:_t("GitHub"),iconClass:"fa-github",},tiktok:{recorded:true,label:_t("TikTok"),iconClass:"fa-tiktok",},discord:{recorded:true,label:_t("Discord"),iconClass:"fa-discord",},"google-play":{label:_t("Google Play"),iconClass:"fa-google-play",extraHostnameRegex:/(^|\.)play\.google\.com$/,},google:{label:_t("Google"),iconClass:"fa-google",},whatsapp:{label:_t("Whatsapp"),iconClass:"fa-whatsapp",extraHostnameRegex:/(^|\.)wa\.me$/,},pinterest:{label:_t("Pinterest"),iconClass:"fa-pinterest-p",},kickstarter:{label:_t("Kickstarter"),iconClass:"fa-kickstarter",},strava:{label:_t("Strava"),iconClass:"fa-strava",},bluesky:{label:_t("Bluesky"),iconClass:"fa-bluesky",extraHostnameRegex:/(^|\.)bsky\.(app|social)$/,},threads:{label:_t("Threads"),iconClass:"fa-threads",},}));const defaultAriaLabel=_t("Other social network");class SocialMediaOptionPlugin extends Plugin{static id="socialMediaOptionPlugin";static dependencies=["history"];static shared=["newLinkElement","getRecordedSocialMedia","setRecordedSocialMedia","setRecordedSocialMediaAreEdited","getAssociatedSocialMedia","removeSocialMediaClasses","removeIconClasses",];resources={builder_options:[withSequence(TITLE_LAYOUT_SIZE,{template:"website.SocialMediaOption",selector:".s_share, .s_social_media",}),withSequence(SNIPPET_SPECIFIC,{OptionComponent:SocialMediaLinks,props:{getRecordedSocialMediaNames:this.getRecordedSocialMediaNames.bind(this),reorderSocialMediaLink:this.reorderSocialMediaLink.bind(this),},selector:".s_social_media",}),],so_content_addition_selector:[".s_share",".s_social_media"],builder_actions:{DeleteSocialMediaLinkAction,ToggleRecordedSocialMediaLinkAction,EditRecordedSocialMediaLinkAction,EditSocialMediaLinkAction,AddSocialMediaLinkAction,},normalize_handlers:this.normalize.bind(this),save_handlers:this.saveRecordedSocialMedia.bind(this),};async getRecordedSocialMediaNames(){await this.fetchRecordedSocialMedia();return this.recordedSocialMedia.keys();}
setup(){this.recordedSocialMedia=new Map();}
getRecordedSocialMedia(key){return this.recordedSocialMedia.get(key);}
setRecordedSocialMedia(key,value){this.recordedSocialMedia.set(key,value);}
setRecordedSocialMediaAreEdited(value){this.recordedSocialMediaAreEdited=value;}
async fetchRecordedSocialMedia(){if(this.hasStartedLoadingRecordedSocialMedia){return;}
this.hasStartedLoadingRecordedSocialMedia=true;const res=await this.services.orm.read("website",[this.services.website.currentWebsite.id],[...socialMediaInfo.entries().filter(([name,info])=>info.recorded).map(([name,info])=>`social_${name}`),]);for(const name of socialMediaInfo.keys()){const key=`social_${name}`;if(key in res[0]){this.recordedSocialMedia.set(name,res[0][key]||"");}}
this.config.onChange({isPreviewing:false});}
async saveRecordedSocialMedia(){if(!this.recordedSocialMediaAreEdited){return;}
await this.services.orm.write("website",[this.services.website.currentWebsite.id],Object.fromEntries(this.recordedSocialMedia.entries().map(([name,value])=>[`social_${name}`,value])));this.recordedSocialMediaAreEdited=false;}
normalize(root){if(this.recordedSocialMediaAreEdited){for(const[name,value]of this.recordedSocialMedia.entries()){const newValue=this.addHttpsIfNeeded(value);if(value!==newValue){this.recordedSocialMedia.set(name,newValue);}}}
for(const element of selectElements(root,".s_social_media > a[href]")){const value=element.attributes.href.value;const newHref=this.addHttpsIfNeeded(value);if(value!==newHref){element.href=newHref;}}
for(const element of selectElements(root,".s_social_media > *")){if(element.nextSibling?.nodeType===Node.TEXT_NODE){while(element.nextSibling.nextSibling?.nodeType===Node.TEXT_NODE){element.parentNode.removeChild(element.nextSibling);}
if(element.nextSibling.textContent!=="\n"){element.nextSibling.textContent="\n";}}else{element.after("\n");}
if(element.previousSibling?.nodeType!==Node.TEXT_NODE){element.before("\n");}}}
reorderSocialMediaLink({editingElement,element,elementAfter}){element.remove();if(elementAfter){elementAfter.before(element);}else{editingElement.append(element);}}
newLinkElement(other,socialMediaName){const el=other?.cloneNode(true)||renderToFragment("website.example_social_media_link").children[0];this.removeSocialMediaClasses(el);this.removeIconClasses(el);el.querySelector(ICON_SELECTOR)?.classList.add(socialMediaInfo.get(socialMediaName)?.iconClass||"fa-pencil");if(socialMediaName){el.href=`/website/social/${encodeURIComponent(socialMediaName)}`;el.classList.add(`s_social_media_${socialMediaName}`);el.setAttribute("aria-label",socialMediaInfo.get(socialMediaName)?.label||defaultAriaLabel);}else{el.href="https://www.example.com";el.setAttribute("aria-label","example");}
return el;}
removeSocialMediaClasses(el){for(const c of el.classList){if(c.startsWith("s_social_media_")){el.classList.remove(c);}}}
removeIconClasses(el){const iconEl=el.querySelector(ICON_SELECTOR);if(iconEl){for(const c of iconEl.classList){if(/^fa-[^0-9]/.test(c)){iconEl.classList.remove(c);}}}}
getAssociatedSocialMedia(link){try{const url=new URL(this.addHttpsIfNeeded(link));if(url.protocol&&!url.protocol.startsWith("http")){return{};}
const hostname=url.hostname;for(const[name,media]of socialMediaInfo.entries()){if(media.extraHostnameRegex?.test(hostname)){return{name,media};}}
const name=hostname.replace(/\.co\.uk$/,".co").split(".").slice(-2)[0];return{name,media:socialMediaInfo.get(name)};}catch{return{};}}
addHttpsIfNeeded(link){if(link&&!/^(([a-zA-Z]+):|\/)/.test(link)){return`https://${link}`;}else{return link;}}}
const DeleteSocialMediaLinkAction=__exports.DeleteSocialMediaLinkAction=class DeleteSocialMediaLinkAction extends BuilderAction{static id="deleteSocialMediaLink";apply({editingElement}){editingElement.remove();}}
const ToggleRecordedSocialMediaLinkAction=__exports.ToggleRecordedSocialMediaLinkAction=class ToggleRecordedSocialMediaLinkAction extends BuilderAction{static id="toggleRecordedSocialMediaLink";static dependencies=["socialMediaOptionPlugin"];isApplied({editingElement,params:{domPosition}}){return!!domPosition;}
apply({editingElement,params:{media,elementAfter}}){const el=this.dependencies.socialMediaOptionPlugin.newLinkElement(editingElement.querySelector(":scope > a"),media);if(elementAfter){elementAfter.before(el);}else{editingElement.append(el);}}
clean({editingElement,params:{domPosition}}){editingElement.querySelector(`a:nth-of-type(${domPosition})`).remove();}}
const EditRecordedSocialMediaLinkAction=__exports.EditRecordedSocialMediaLinkAction=class EditRecordedSocialMediaLinkAction extends BuilderAction{static id="editRecordedSocialMediaLink";static dependencies=["socialMediaOptionPlugin","history"];getValue({params:{mainParam}}){return this.dependencies.socialMediaOptionPlugin.getRecordedSocialMedia(mainParam);}
apply({params:{mainParam},value}){this.dependencies.socialMediaOptionPlugin.setRecordedSocialMediaAreEdited(true);const oldValue=this.dependencies.socialMediaOptionPlugin.getRecordedSocialMedia(mainParam);this.dependencies.history.applyCustomMutation({apply:()=>this.dependencies.socialMediaOptionPlugin.setRecordedSocialMedia(mainParam,value),revert:()=>this.dependencies.socialMediaOptionPlugin.setRecordedSocialMedia(mainParam,oldValue),});}}
const EditSocialMediaLinkAction=__exports.EditSocialMediaLinkAction=class EditSocialMediaLinkAction extends BuilderAction{static id="editSocialMediaLink";static dependencies=["socialMediaOptionPlugin"];apply({editingElement,params:{mainParam},value}){if(!value){editingElement.remove();}
const info=this.dependencies.socialMediaOptionPlugin.getAssociatedSocialMedia(value);const ariaLabel=info.media?.label||info.name||defaultAriaLabel;editingElement.setAttribute("aria-label",ariaLabel);this.dependencies.socialMediaOptionPlugin.removeSocialMediaClasses(editingElement);let iconClass;if(info.media){editingElement.classList.add(`s_social_media_${info.name}`);iconClass=info.media.iconClass;}else if(info.name){fonts.computeFonts();iconClass=fonts.fontIcons[0].alias.filter((el)=>el.replace(/^fa-/,"").includes(info.name)).reduce((a,b)=>(a.length&&a.length<=b.length?a:b),"");}
if(iconClass){this.dependencies.socialMediaOptionPlugin.removeIconClasses(editingElement);editingElement.querySelector(ICON_SELECTOR)?.classList.add(iconClass);}}}
const AddSocialMediaLinkAction=__exports.AddSocialMediaLinkAction=class AddSocialMediaLinkAction extends BuilderAction{static id="addSocialMediaLink";static dependencies=["socialMediaOptionPlugin"];apply({editingElement}){editingElement.append(this.dependencies.socialMediaOptionPlugin.newLinkElement(editingElement.querySelector(":scope > a")));}}
registry.category("website-plugins").add(SocialMediaOptionPlugin.id,SocialMediaOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/table_of_content_option_plugin.js */
odoo.define('@website/builder/plugins/options/table_of_content_option_plugin',['@website/builder/plugins/utils','@html_editor/plugin','@web/core/registry','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{applyFunDependOnSelectorAndExclude}=require("@website/builder/plugins/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{BuilderAction}=require("@html_builder/core/builder_action");function getTocAndHeadingId(headingEl){const match=/^table_of_content_heading_(\d+)_(\d+)$/.exec(headingEl.getAttribute("id"));if(match){return{tocId:parseInt(match[1]),headingId:parseInt(match[2])};}
return{tocId:0,headingId:0};}
class TableOfContentOptionPlugin extends Plugin{static id="tableOfContentOption";static dependencies=["clone"];resources={builder_options:[{template:"website.TableOfContentOption",selector:".s_table_of_content",cleanForSave:(editingElement)=>{const navbarEl=editingElement.querySelector(".s_table_of_content_navbar");navbarEl.removeAttribute("contenteditable");},},{template:"website.TableOfContentNavbarOption",selector:".s_table_of_content_navbar_wrap",},],builder_actions:{NavbarPositionAction,},normalize_handlers:this.normalize.bind(this),dropzone_selector:{selector:".s_table_of_content",excludeAncestor:".s_table_of_content",},is_draggable_handlers:(el)=>{if(el.matches(".s_table_of_content .s_table_of_content_navbar_wrap, .s_table_of_content .s_table_of_content_main")){return false;}
return true;},};normalize(root){for(const navbar of root.querySelectorAll(".s_table_of_content_navbar")){navbar.setAttribute("contenteditable","false");}
applyFunDependOnSelectorAndExclude(this.updateTableOfContentNavbar.bind(this),root,{selector:".s_table_of_content_main",});}
updateTableOfContentNavbar(tableOfContentMain){const tableOfContent=tableOfContentMain.closest(".s_table_of_content");const tableOfContentNavbar=tableOfContent.querySelector(".s_table_of_content_navbar");const currentNavbarItems=[...tableOfContentNavbar.children].map((el)=>({title:el.textContent,href:el.getAttribute("href"),}));if(tableOfContentMain.children.length===0){tableOfContent.remove();return;}
const targetedElements="h1, h2";const currentHeadingItems=[...tableOfContentMain.querySelectorAll(targetedElements)].filter((el)=>!el.closest(".o_snippet_desktop_invisible")).map((el)=>({title:el.textContent,id:`#${el.id}`,el}));const headingHasChanged=currentNavbarItems.length!==currentHeadingItems.length||currentNavbarItems.some((item,i)=>item.title!==currentHeadingItems[i].title||item.href!==currentHeadingItems[i].id);const areVisibilityIdsEqual=currentHeadingItems.every(({el})=>{const visibilityId=el.closest("section").getAttribute("data-visibility-id");const matchingLinkEl=tableOfContentNavbar.querySelector(`a[href="#${el.getAttribute("id")}"]`);const matchingLinkVisibilityId=matchingLinkEl?matchingLinkEl.getAttribute("data-visibility-id"):null;return visibilityId===matchingLinkVisibilityId;});const firstHeadingEl=currentHeadingItems[0]?.el;let tocId=firstHeadingEl?getTocAndHeadingId(firstHeadingEl).tocId:0;const tocEls=this.editable.querySelectorAll("[data-snippet='s_table_of_content']");const otherTocEls=[...tocEls].filter((tocEl)=>tocEl!==tableOfContent);const otherTocIds=otherTocEls.map((tocEl)=>{const firstHeadingEl=tocEl.querySelector(targetedElements);return getTocAndHeadingId(firstHeadingEl).tocId;});let duplicateTocId=false;if(!tocId||otherTocIds.includes(tocId)){tocId=1+Math.max(0,...otherTocIds);duplicateTocId=true;}
if(!headingHasChanged&&areVisibilityIdsEqual&&!duplicateTocId){return;}
const headingIds=currentHeadingItems.map(({el})=>getTocAndHeadingId(el).headingId);let maxHeadingIds=Math.max(0,...headingIds);tableOfContentNavbar.innerHTML="";const uniqueHeadingIds=new Set();for(const{title,el}of currentHeadingItems){let{headingId}=getTocAndHeadingId(el);if(headingId){if(uniqueHeadingIds.has(headingId)){headingId=0;}else{uniqueHeadingIds.add(headingId);}}
if(!headingId){maxHeadingIds+=1;headingId=maxHeadingIds;}
const tocHeadingId=`table_of_content_heading_${tocId}_${headingId}`;const itemEl=this.document.createElement("a");itemEl.textContent=title;itemEl.setAttribute("href",`#${tocHeadingId}`);itemEl.className="table_of_content_link list-group-item list-group-item-action py-2 border-0 rounded-0";tableOfContentNavbar.appendChild(itemEl);el.setAttribute("id",tocHeadingId);}}}
const NavbarPositionAction=__exports.NavbarPositionAction=class NavbarPositionAction extends BuilderAction{static id="navbarPosition";isApplied({editingElement:navbarWrapEl,params:{mainParam:position}}){if(navbarWrapEl.classList.contains("s_table_of_content_horizontal_navbar")){return position==="top";}else{const mainContent=navbarWrapEl.parentNode.querySelector(".s_table_of_content_main");const previousSibling=navbarWrapEl.previousElementSibling;return(previousSibling===mainContent?"right":"left")===position;}}
apply({editingElement:navbarWrapEl,params:{mainParam:position}}){const mainContentEl=navbarWrapEl.parentElement.querySelector(".s_table_of_content_main");const navbarEl=navbarWrapEl.querySelector(".s_table_of_content_navbar");if(position==="top"||position==="left"){const previousSibling=navbarWrapEl.previousElementSibling;if(previousSibling){previousSibling.parentNode.insertBefore(navbarWrapEl,previousSibling);}}
if(position==="left"||position==="right"){navbarWrapEl.classList.add("s_table_of_content_vertical_navbar","col-lg-3");mainContentEl.classList.add("col-lg-9");}
if(position==="right"){const nextSibling=navbarWrapEl.nextElementSibling;if(nextSibling){nextSibling.parentNode.insertBefore(navbarWrapEl,nextSibling.nextSibling);}}
if(position==="top"){navbarWrapEl.classList.add("s_table_of_content_horizontal_navbar","col-lg-12");navbarEl.classList.add("list-group-horizontal-md");mainContentEl.classList.add("col-lg-12");}}
clean({editingElement:navbarWrapEl,params:{mainParam:position}}){const mainContentEl=navbarWrapEl.parentElement.querySelector(".s_table_of_content_main");const navbarEl=navbarWrapEl.querySelector(".s_table_of_content_navbar");if(position==="top"){navbarWrapEl.classList.remove("s_table_of_content_horizontal_navbar","col-lg-12");mainContentEl.classList.remove("col-lg-12");navbarEl.classList.remove("list-group-horizontal-md");}
if(position==="left"||position==="right"){navbarWrapEl.classList.remove("s_table_of_content_vertical_navbar","col-lg-3");mainContentEl.classList.remove("col-lg-9");}}}
registry.category("website-plugins").add(TableOfContentOptionPlugin.id,TableOfContentOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/timeline_list_option_plugin.js */
odoo.define('@website/builder/plugins/options/timeline_list_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry'],function(require){'use strict';let __exports={};const{BEGIN,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");class TimelineListOptionPlugin extends Plugin{static id="timelineListOption";resources={builder_options:[withSequence(BEGIN,{template:"website.TimelineListOption",selector:".s_timeline_list",}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.DotLinesColorOption",selector:".s_timeline_list",}),withSequence(BEGIN,{template:"website.DotColorOption",selector:".s_timeline_list .s_timeline_list_row",}),],dropzone_selector:{selector:".s_timeline_list_row",dropNear:".s_timeline_list_row",},is_movable_selector:{selector:".s_timeline_list_row",direction:"vertical"},};}
registry.category("website-plugins").add(TimelineListOptionPlugin.id,TimelineListOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/timeline_option_plugin.js */
odoo.define('@website/builder/plugins/options/timeline_option_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/l10n/translation','@web/core/registry','@html_builder/utils/option_sequence','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{after,before,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{WEBSITE_BACKGROUND_OPTIONS}=require("@website/builder/option_sequence");const TIMELINE=__exports.TIMELINE=before(WEBSITE_BACKGROUND_OPTIONS);const DOT_LINES_COLOR=__exports.DOT_LINES_COLOR=SNIPPET_SPECIFIC_END;const DOT_COLOR=__exports.DOT_COLOR=after(DOT_LINES_COLOR);function isTimelineCard(el){return el.matches(".s_timeline_card");}
class TimelineOptionPlugin extends Plugin{static id="timelineOption";static dependencies=["history"];resources={builder_options:[withSequence(TIMELINE,{template:"website.TimelineOption",selector:".s_timeline",}),withSequence(DOT_LINES_COLOR,{template:"website.DotLinesColorOption",selector:".s_timeline",}),withSequence(DOT_COLOR,{template:"website.DotColorOption",selector:".s_timeline .s_timeline_row",}),],dropzone_selector:{selector:".s_timeline_row",dropNear:".s_timeline_row",},has_overlay_options:{hasOption:(el)=>isTimelineCard(el)},get_overlay_buttons:withSequence(0,{getButtons:this.getActiveOverlayButtons.bind(this),}),is_movable_selector:{selector:".s_timeline_row",direction:"vertical"},};getActiveOverlayButtons(target){if(!isTimelineCard(target)){this.overlayTarget=null;return[];}
this.overlayTarget=target;const timelineRowEl=this.overlayTarget.closest(".s_timeline_row");const firstContentEl=timelineRowEl.querySelector(".s_timeline_content");const hasPreviousCard=!firstContentEl.contains(this.overlayTarget);const direction=hasPreviousCard?"left":"right";return[{class:`fa fa-fw fa-angle-${direction}`,title:_t("Move %s",direction),handler:this.moveTimelineCard.bind(this),},];}
moveTimelineCard(){const timelineRowEl=this.overlayTarget.closest(".s_timeline_row");const timelineCardEls=timelineRowEl.querySelectorAll(".s_timeline_card");const firstContentEl=timelineRowEl.querySelector(".s_timeline_content");timelineRowEl.append(firstContentEl);timelineCardEls.forEach((card)=>card.classList.toggle("text-md-end"));}}
registry.category("website-plugins").add(TimelineOptionPlugin.id,TimelineOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/utils.js */
odoo.define('@website/builder/plugins/options/utils',[],function(require){'use strict';let __exports={};const CARD_PARENT_HANDLERS=__exports.CARD_PARENT_HANDLERS=".s_three_columns .row > div, .s_comparisons .row > div, .s_cards_grid .row > div, .s_cards_soft .row > div, .s_product_list .row > div, .s_newsletter_centered .row > div, .s_company_team_spotlight .row > div, .s_comparisons_horizontal .row > div, .s_company_team_grid .row > div, .s_company_team_card .row > div, .s_carousel_cards_item";const ONLY_BG_COLOR_SELECTOR=__exports.ONLY_BG_COLOR_SELECTOR="section .row > div, .s_text_highlight, .s_mega_menu_thumbnails_footer, .s_hr, .s_cta_badge";const ONLY_BG_COLOR_EXCLUDE=__exports.ONLY_BG_COLOR_EXCLUDE=`.s_col_no_bgcolor, .s_col_no_bgcolor.row > div, .s_masonry_block .row > div, .s_color_blocks_2 .row > div, .s_image_gallery .row > div, .s_text_cover .row > .o_not_editable, [data-snippet] :not(.oe_structure) > .s_hr, ${CARD_PARENT_HANDLERS}, .s_website_form_cover .row > .o_not_editable, .s_bento_grid .row > div`;const BASE_ONLY_BG_IMAGE_SELECTOR=__exports.BASE_ONLY_BG_IMAGE_SELECTOR=".s_tabs .oe_structure > *, footer .oe_structure > *";const ONLY_BG_IMAGE_SELECTOR=__exports.ONLY_BG_IMAGE_SELECTOR=BASE_ONLY_BG_IMAGE_SELECTOR;const ONLY_BG_IMAGE_EXLUDE=__exports.ONLY_BG_IMAGE_EXLUDE="";const BOTH_BG_COLOR_IMAGE_SELECTOR=__exports.BOTH_BG_COLOR_IMAGE_SELECTOR="section, .carousel-item, .s_masonry_block .row > div, .s_color_blocks_2 .row > div, .parallax, .s_text_cover .row > .o_not_editable, .s_website_form_cover .row > .o_not_editable, .s_split_intro .row > .o_not_editable, .s_bento_grid .row > div";const BOTH_BG_COLOR_IMAGE_EXCLUDE=__exports.BOTH_BG_COLOR_IMAGE_EXCLUDE=`${BASE_ONLY_BG_IMAGE_SELECTOR}, .s_carousel_wrapper, .s_image_gallery .carousel-item, .s_google_map, .s_map, [data-snippet] :not(.oe_structure) > [data-snippet], .s_masonry_block .s_col_no_resize, .s_quotes_carousel_wrapper, .s_carousel_intro_wrapper, .s_carousel_cards_item`;return __exports;});;

/* /website/static/src/builder/plugins/options/visibility_option.js */
odoo.define('@website/builder/plugins/options/visibility_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const VisibilityOption=__exports.VisibilityOption=class VisibilityOption extends BaseOptionComponent{static template="website.VisibilityOption";static props={websiteSession:true,};}
return __exports;});;

/* /website/static/src/builder/plugins/options/visibility_option_plugin.js */
odoo.define('@website/builder/plugins/options/visibility_option_plugin',['@web/core/registry','@html_editor/plugin','@html_editor/utils/dom_traversal','@web/core/l10n/utils','@html_builder/utils/utils','@website/builder/plugins/options/visibility_option','@html_editor/utils/resource','@website/builder/option_sequence','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Plugin}=require("@html_editor/plugin");const{selectElements}=require("@html_editor/utils/dom_traversal");const{pyToJsLocale}=require("@web/core/l10n/utils");const{getElementsWithOption}=require("@html_builder/utils/utils");const{VisibilityOption}=require("@website/builder/plugins/options/visibility_option");const{withSequence}=require("@html_editor/utils/resource");const{CONDITIONAL_VISIBILITY,DEVICE_VISIBILITY}=require("@website/builder/option_sequence");const{BuilderAction}=require("@html_builder/core/builder_action");const VISIBILITY_OPTION_SELECTOR=__exports.VISIBILITY_OPTION_SELECTOR="section, .s_hr";const DEVICE_VISIBILITY_OPTION_SELECTOR=__exports.DEVICE_VISIBILITY_OPTION_SELECTOR="section .row > div";class VisibilityOptionPlugin extends Plugin{static id="visibilityOption";static dependencies=["visibility","websiteSession"];static shared=["clean","isApplied"];resources={builder_options:[withSequence(CONDITIONAL_VISIBILITY,{OptionComponent:VisibilityOption,props:{websiteSession:this.dependencies.websiteSession.getSession(),},selector:VISIBILITY_OPTION_SELECTOR,cleanForSave:this.dependencies.visibility.cleanForSaveVisibility,}),withSequence(DEVICE_VISIBILITY,{template:"website.DeviceVisibilityOption",selector:DEVICE_VISIBILITY_OPTION_SELECTOR,exclude:".s_col_no_resize.row > div, .s_masonry_block .s_col_no_resize",cleanForSave:this.dependencies.visibility.cleanForSaveVisibility,}),],builder_actions:{ForceVisibleAction,ToggleDeviceVisibilityAction,},on_snippet_dropped_handlers:this.onSnippetDropped.bind(this),normalize_handlers:this.normalizeCSSSelectors.bind(this),visibility_selector_parameters:[{saveAttribute:"visibilityValueCountry",attributeName:"data-country",callWith:"code",},{saveAttribute:"visibilityValueLang",attributeName:"lang",callWith:"code",},{saveAttribute:"visibilityValueUtmCampaign",attributeName:"data-utm-campaign",callWith:"name",},{saveAttribute:"visibilityValueUtmMedium",attributeName:"data-utm-medium",callWith:"name",},{saveAttribute:"visibilityValueUtmSource",attributeName:"data-utm-source",callWith:"name",},{saveAttribute:"visibilityValueLogged",attributeName:"data-logged",callWith:"value",},],};setup(){this.optionsAttributes=this.getResource("visibility_selector_parameters");}
clean(editingElement){editingElement.classList.remove("d-none","d-md-none","d-lg-none","o_snippet_mobile_invisible","o_snippet_desktop_invisible","o_snippet_override_invisible");const style=getComputedStyle(editingElement);const display=style["display"];editingElement.classList.remove(`d-md-${display}`,`d-lg-${display}`);}
isApplied(editingElement,visibilityParam){const classList=[...editingElement.classList];if(visibilityParam==="no_mobile"&&classList.includes("d-none")&&classList.some((className)=>className.match(/^d-(md|lg)-/))){return true;}
if(visibilityParam==="no_desktop"&&classList.some((className)=>className.match(/d-(md|lg)-none/))){return true;}
return false;}
onSnippetDropped({snippetEl}){const selector=[VISIBILITY_OPTION_SELECTOR,DEVICE_VISIBILITY_OPTION_SELECTOR].join(", ");const droppedEls=getElementsWithOption(snippetEl,selector);droppedEls.forEach((droppedEl)=>this.dependencies.visibility.toggleTargetVisibility(droppedEl,true,true));}
normalizeCSSSelectors(rootEl){for(const el of selectElements(rootEl,VISIBILITY_OPTION_SELECTOR)){this.updateCSSSelectors(el);}}
updateCSSSelectors(target){if(target.dataset.visibility!=="conditional"){delete target.dataset.visibility;for(const attribute of this.optionsAttributes){delete target.dataset[attribute.saveAttribute];delete target.dataset[`${attribute.saveAttribute}Rule`];}
delete target.dataset.visibilitySelectors;delete target.dataset.visibilityId;return;}
const visibilityIDParts=[];const onlyAttributes=[];const hideAttributes=[];for(const attribute of this.optionsAttributes){if(target.dataset[attribute.saveAttribute]){let records=JSON.parse(target.dataset[attribute.saveAttribute]).map((record)=>({id:record.id,value:record[attribute.callWith],}));if(attribute.saveAttribute==="visibilityValueLang"){records=records.map((lang)=>{lang.value=pyToJsLocale(lang.value);return lang;});}
const hideFor=target.dataset[`${attribute.saveAttribute}Rule`]==="hide";if(hideFor){hideAttributes.push({name:attribute.attributeName,records:records});}else{onlyAttributes.push({name:attribute.attributeName,records:records});}
const type=attribute.attributeName.replace("data-","");const valueIDs=records.map((record)=>record.id).sort();visibilityIDParts.push(`${type}_${hideFor ? "h" : "o"}_${valueIDs.join("_")}`);}}
const visibilityId=visibilityIDParts.join("_");let selectors="";for(const attribute of onlyAttributes){const selector=attribute.records.reduce((acc,record)=>(acc+=`:not([${attribute.name}="${record.value}"])`),"html")+` body:not(.editor_enable) [data-visibility-id="${visibilityId}"]`;selectors+=selector+", ";}
for(const attribute of hideAttributes){const selector=attribute.records.reduce((acc,record,i,a)=>{acc+=`html[${attribute.name}="${record.value}"] body:not(.editor_enable) [data-visibility-id="${visibilityId}"]`;return acc+(i!==a.length-1?",":"");},"");selectors+=selector+", ";}
selectors=selectors.slice(0,-2);if(selectors){target.dataset.visibilitySelectors=selectors;}else{delete target.dataset.visibilitySelectors;}
if(visibilityId){target.dataset.visibilityId=visibilityId;}else{delete target.dataset.visibilityId;}}}
const ForceVisibleAction=__exports.ForceVisibleAction=class ForceVisibleAction extends BuilderAction{static id="forceVisible";static dependencies=["visibility"];apply({editingElement}){this.dependencies.visibility.onOptionVisibilityUpdate(editingElement,true);}
isApplied(){return true;}}
const ToggleDeviceVisibilityAction=__exports.ToggleDeviceVisibilityAction=class ToggleDeviceVisibilityAction extends BuilderAction{static id="toggleDeviceVisibility";static dependencies=["visibility","visibilityOption"];apply({editingElement,params:{mainParam:visibility}}){this.dependencies.visibilityOption.clean(editingElement);const style=getComputedStyle(editingElement);if(visibility==="no_desktop"){editingElement.classList.add("d-lg-none","o_snippet_desktop_invisible");}else if(visibility==="no_mobile"){editingElement.classList.add(`d-lg-${style["display"]}`,"d-none","o_snippet_mobile_invisible");}
const isMobile=this.services.website.context.isMobile;const show=visibility!==(isMobile?"no_mobile":"no_desktop");this.dependencies.visibility.onOptionVisibilityUpdate(editingElement,show);}
clean({editingElement}){this.dependencies.visibilityOption.clean(editingElement);}
isApplied({editingElement,params:{mainParam:visibility}}){return this.dependencies.visibilityOption.isApplied(editingElement,visibility);}}
registry.category("website-plugins").add(VisibilityOptionPlugin.id,VisibilityOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/website_background_option_plugin.js */
odoo.define('@website/builder/plugins/options/website_background_option_plugin',['@website/builder/plugins/options/background_option','@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/utils','@html_editor/utils/resource','@html_builder/utils/option_sequence','@website/builder/option_sequence'],function(require){'use strict';let __exports={};const{WebsiteBackgroundOption}=require("@website/builder/plugins/options/background_option");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{BOTH_BG_COLOR_IMAGE_EXCLUDE,BOTH_BG_COLOR_IMAGE_SELECTOR,ONLY_BG_COLOR_EXCLUDE,ONLY_BG_COLOR_SELECTOR,ONLY_BG_IMAGE_EXLUDE,ONLY_BG_IMAGE_SELECTOR,}=require("@website/builder/plugins/options/utils");const{withSequence}=require("@html_editor/utils/resource");const{SNIPPET_SPECIFIC_BEFORE}=require("@html_builder/utils/option_sequence");const{WEBSITE_BACKGROUND_OPTIONS}=require("@website/builder/option_sequence");class WebsiteBackgroundOptionPlugin extends Plugin{static id="websiteOption";sectionSelector="section";carouselApplyTo=":scope > .carousel:not(.s_carousel_cards)";resources={builder_options:[withSequence(SNIPPET_SPECIFIC_BEFORE,{OptionComponent:WebsiteBackgroundOption,selector:this.sectionSelector,applyTo:this.carouselApplyTo,props:{withColors:true,withImages:true,withVideos:true,withShapes:true,withColorCombinations:true,},}),withSequence(WEBSITE_BACKGROUND_OPTIONS,{OptionComponent:WebsiteBackgroundOption,selector:BOTH_BG_COLOR_IMAGE_SELECTOR,exclude:BOTH_BG_COLOR_IMAGE_EXCLUDE,props:{withColors:true,withImages:true,withVideos:true,withShapes:true,withColorCombinations:true,},}),withSequence(WEBSITE_BACKGROUND_OPTIONS,{OptionComponent:WebsiteBackgroundOption,selector:ONLY_BG_COLOR_SELECTOR,exclude:ONLY_BG_COLOR_EXCLUDE,props:{withColors:true,withImages:false,withColorCombinations:true,},}),withSequence(WEBSITE_BACKGROUND_OPTIONS,{OptionComponent:WebsiteBackgroundOption,selector:ONLY_BG_IMAGE_SELECTOR,exclude:ONLY_BG_IMAGE_EXLUDE,props:{withColors:false,withImages:true,withVideos:true,withShapes:true,withColorCombinations:false,},}),],mark_color_level_selector_params:[{selector:this.sectionSelector,applyTo:this.carouselApplyTo},{selector:BOTH_BG_COLOR_IMAGE_SELECTOR,exclude:BOTH_BG_COLOR_IMAGE_EXCLUDE},{selector:ONLY_BG_COLOR_SELECTOR,exclude:ONLY_BG_COLOR_EXCLUDE},],};}
registry.category("website-plugins").add(WebsiteBackgroundOptionPlugin.id,WebsiteBackgroundOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/options/website_info_option_plugin.js */
odoo.define('@website/builder/plugins/options/website_info_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");class WebsiteInfoPageOption extends Plugin{static id="websiteInfoPageOption";resources={builder_options:[{template:"website.InfoPageOption",selector:"main:has(.o_website_info)",title:_t("Info Page"),editableOnly:false,groups:["website.group_website_designer"],},],};}
registry.category("website-plugins").add(WebsiteInfoPageOption.id,WebsiteInfoPageOption);return __exports;});;

/* /website/static/src/builder/plugins/options/website_page_config_option.js */
odoo.define('@website/builder/plugins/options/website_page_config_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const TopMenuVisibilityOption=__exports.TopMenuVisibilityOption=class TopMenuVisibilityOption extends BaseOptionComponent{static template="website.TopMenuVisibilityOption";static props={doesPageOptionExist:Function,};}
return __exports;});;

/* /website/static/src/builder/plugins/options/website_page_config_option_plugin.js */
odoo.define('@website/builder/plugins/options/website_page_config_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@web/core/registry','@web/core/utils/colors','@html_editor/utils/resource','@website/builder/plugins/options/footer_option_plugin','@website/builder/plugins/options/header_option_plugin','@website/builder/plugins/options/website_page_config_option','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{after}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{rgbToHex}=require("@web/core/utils/colors");const{withSequence}=require("@html_editor/utils/resource");const{FOOTER_COPYRIGHT}=require("@website/builder/plugins/options/footer_option_plugin");const{HEADER_SCROLL_EFFECT}=require("@website/builder/plugins/options/header_option_plugin");const{TopMenuVisibilityOption}=require("@website/builder/plugins/options/website_page_config_option");const{BuilderAction}=require("@html_builder/core/builder_action");const TOP_MENU_VISIBILITY=__exports.TOP_MENU_VISIBILITY=after(HEADER_SCROLL_EFFECT);const HIDE_FOOTER=__exports.HIDE_FOOTER=after(FOOTER_COPYRIGHT);class WebsitePageConfigOptionPlugin extends Plugin{static id="websitePageConfigOptionPlugin";static dependencies=["history","visibility"];static shared=["setDirty","getVisibilityItem","getFooterVisibility"];resources={builder_actions:{SetWebsiteHeaderVisibilityAction,SetWebsiteFooterVisibleAction,SetPageWebsiteDirtyAction,},builder_options:[withSequence(TOP_MENU_VISIBILITY,{OptionComponent:TopMenuVisibilityOption,selector:"[data-main-object]:has(input.o_page_option_data[name='header_visible']) #wrapwrap > header",editableOnly:false,groups:["website.group_website_designer"],props:{doesPageOptionExist:this.doesPageOptionExist.bind(this),},}),withSequence(HIDE_FOOTER,{template:"website.HideFooterOption",selector:"[data-main-object]:has(input.o_page_option_data[name='footer_visible']) #wrapwrap > footer",editableOnly:false,groups:["website.group_website_designer"],}),],target_show:this.onTargetVisibilityToggle.bind(this,true),target_hide:this.onTargetVisibilityToggle.bind(this,false),save_handlers:this.onSave.bind(this),};getVisibilityItem(){const isHidden=this.document.querySelector("#wrapwrap > header").classList.contains("o_snippet_invisible");const isOverlay=this.document.getElementById("wrapwrap").classList.contains("o_header_overlay");return isOverlay?"overTheContent":isHidden?"hidden":"regular";}
getFooterVisibility(){return this.document.querySelector("#wrapwrap > footer").classList.contains("o_snippet_invisible");}
getColorValue(attribute,classPrefix){const headerEl=this.document.querySelector("#wrapwrap > header");const matchingClass=[...headerEl.classList].find((cls)=>cls.startsWith(classPrefix));return matchingClass||rgbToHex(headerEl.style.getPropertyValue(attribute));}
setDirty(){this.isDirty=true;}
onSave(){if(!this.isDirty){return;}
const item=this.getVisibilityItem();const pageOptions={header_overlay:()=>item==="overTheContent",header_color:()=>this.getColorValue("background-color","bg-"),header_text_color:()=>this.getColorValue("color","text-"),header_visible:()=>item!=="hidden",footer_visible:()=>!this.getFooterVisibility(),};const args={};for(const[pageOptionName,valueGetter]of Object.entries(pageOptions)){if(this.doesPageOptionExist(pageOptionName)){args[pageOptionName]=valueGetter();}}
const mainObject=this.services.website.currentWebsite.metadata.mainObject;return Promise.all([this.services.orm.write(mainObject.model,[mainObject.id],args)]);}
doesPageOptionExist(pageOptionName){return this.document.querySelector(`[data-main-object]:has(input.o_page_option_data[name='${pageOptionName}'])`);}
setFooterVisible(show){const footerEl=this.document.querySelector("#wrapwrap > footer");footerEl.classList.toggle("d-none",!show);footerEl.classList.toggle("o_snippet_invisible",!show);this.dependencies.visibility.onOptionVisibilityUpdate(footerEl,show);}
onTargetVisibilityToggle(show,target){if(target.matches("#wrapwrap > header, #wrapwrap > footer")){this.dependencies.history.ignoreDOMMutations(()=>{target.classList.toggle("d-none",!show);});}}}
const BaseWebsitePageConfigAction=__exports.BaseWebsitePageConfigAction=class BaseWebsitePageConfigAction extends BuilderAction{static id="baseWebsitePageConfig";static dependencies=["websitePageConfigOptionPlugin","history","visibility"];setup(){this.websitePageConfig=this.dependencies.websitePageConfigOptionPlugin;this.visibility=this.dependencies.visibility;this.history=this.dependencies.history;this.visibilityHandlers={overTheContent:()=>{this.setHeaderOverlay(true);this.setHeaderVisible(false);},regular:()=>{this.setHeaderOverlay(false);this.setHeaderVisible(false);this.resetHeaderColor();this.resetTextColor();},hidden:()=>{this.setHeaderOverlay(false);this.setHeaderVisible(true);this.resetHeaderColor();this.resetTextColor();},};}
setHeaderOverlay(shouldApply){this.document.getElementById("wrapwrap").classList.toggle("o_header_overlay",shouldApply);}
setHeaderVisible(shouldApply){const headerEl=this.document.querySelector("#wrapwrap > header");headerEl.classList.toggle("d-none",shouldApply);headerEl.classList.toggle("o_snippet_invisible",shouldApply);this.visibility.onOptionVisibilityUpdate(headerEl,!shouldApply);}
resetHeaderColor(){const headerEl=this.document.querySelector("#wrapwrap > header");headerEl.style.removeProperty("background-color");headerEl.classList.forEach((cls)=>{if(cls.startsWith("bg-o-color-")){headerEl.classList.remove(cls);}});}
resetTextColor(){const headerEl=this.document.querySelector("#wrapwrap > header");headerEl.style.removeProperty("color");headerEl.classList.forEach((cls)=>{if(cls.startsWith("text-o-color-")){headerEl.classList.remove(cls);}});}}
const SetWebsiteHeaderVisibilityAction=__exports.SetWebsiteHeaderVisibilityAction=class SetWebsiteHeaderVisibilityAction extends BaseWebsitePageConfigAction{static id="setWebsiteHeaderVisibility";apply({editingElement,value:headerPositionValue}){const lastValue=this.websitePageConfig.getVisibilityItem();this.history.applyCustomMutation({apply:()=>this.visibilityHandlers[headerPositionValue](),revert:()=>this.visibilityHandlers[lastValue](),});this.websitePageConfig.setDirty();}
isApplied({editingElement,value}){return this.websitePageConfig.getVisibilityItem()===value;}}
const SetWebsiteFooterVisibleAction=__exports.SetWebsiteFooterVisibleAction=class SetWebsiteFooterVisibleAction extends BaseWebsitePageConfigAction{static id="setWebsiteFooterVisible";isApplied({editingElement}){return!this.websitePageConfig.getFooterVisibility();}
apply({editingElement}){this.websitePageConfig.setFooterVisible(true);this.websitePageConfig.setDirty();}
clean({editingElement}){this.websitePageConfig.setFooterVisible(false);this.websitePageConfig.setDirty();}}
const SetPageWebsiteDirtyAction=__exports.SetPageWebsiteDirtyAction=class SetPageWebsiteDirtyAction extends BaseWebsitePageConfigAction{static id="setPageWebsiteDirty";apply({editingElement}){this.websitePageConfig.setDirty();}}
registry.category("website-plugins").add(WebsitePageConfigOptionPlugin.id,WebsitePageConfigOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/popup_visibility_plugin.js */
odoo.define('@website/builder/plugins/popup_visibility_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const PopupVisibilityPlugin=__exports.PopupVisibilityPlugin=class PopupVisibilityPlugin extends Plugin{static id="popupVisibilityPlugin";static dependencies=["visibility"];static shared=["onTargetShow","onTargetHide"];resources={target_show:this.onTargetShow.bind(this),target_hide:this.onTargetHide.bind(this),clean_for_save_handlers:this.cleanForSave.bind(this),};setup(){this.addDomListener(this.editable,"click",(ev)=>{if(ev.target.matches(".s_popup .js_close_popup:not(a, .btn)")){ev.stopPropagation();const popupEl=ev.target.closest(".s_popup");this.onTargetHide(popupEl);this.dependencies.visibility.onOptionVisibilityUpdate(popupEl,false);}});}
onTargetShow(target){if(target.matches(".s_popup")&&this.editable.contains(target)){this.window.Modal.getOrCreateInstance(target.querySelector(".modal")).show();}}
onTargetHide(target){if(target.matches(".s_popup")){this.window.Modal.getOrCreateInstance(target.querySelector(".modal")).hide();}}
cleanForSave({root}){for(const modalEl of root.querySelectorAll(".s_popup .modal.show")){modalEl.parentElement.dataset.invisible="1";modalEl.classList.remove("show");this.window.Modal.getOrCreateInstance(modalEl)._hideModal();this.window.Modal.getInstance(modalEl).dispose();}}}
registry.category("website-plugins").add(PopupVisibilityPlugin.id,PopupVisibilityPlugin);return __exports;});;

/* /website/static/src/builder/plugins/save_translation_plugin.js */
odoo.define('@website/builder/plugins/save_translation_plugin',['@html_editor/plugin','@html_editor/utils/resource','@web/core/network/rpc'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{rpc}=require("@web/core/network/rpc");const SaveTranslationPlugin=__exports.SaveTranslationPlugin=class SaveTranslationPlugin extends Plugin{static id="saveTranslation";static dependencies=["savePlugin"];resources={save_elements_overrides:withSequence(20,this.saveTranslationElements.bind(this)),group_element_save_handlers:withSequence(20,()=>""),};async saveTranslationElements(els){if(els[0].dataset["oeTranslationSourceSha"]){const translations={};translations[this.services.website.currentWebsite.metadata.lang]=Object.assign({},...els.map((el)=>({[el.dataset["oeTranslationSourceSha"]]:this.getEscapedElement(el).innerHTML,})));return rpc("/web_editor/field/translation/update",{model:els[0].dataset["oeModel"],record_id:[Number(els[0].dataset["oeId"])],field_name:els[0].dataset["oeField"],translations,});}
await this.dependencies.savePlugin.saveView(els[0],false);return true;}
getEscapedElement(el){const escapedEl=el.cloneNode(true);const allElements=[escapedEl,...escapedEl.querySelectorAll("*")];const exclusion=[];for(const element of allElements){if(element.matches("object,iframe,script,style,[data-oe-model]:not([data-oe-model='ir.ui.view'])")){exclusion.push(element);exclusion.push(...element.querySelectorAll("*"));}}
const exclusionSet=new Set(exclusion);const toEscapeEls=allElements.filter((el)=>!exclusionSet.has(el));for(const toEscapeEl of toEscapeEls){for(const child of Array.from(toEscapeEl.childNodes)){if(child.nodeType===3){const divEl=document.createElement("div");divEl.textContent=child.nodeValue;child.nodeValue=divEl.innerHTML;}}}
return escapedEl;}}
return __exports;});;

/* /website/static/src/builder/plugins/size_option_plugin.js */
odoo.define('@website/builder/plugins/size_option_plugin',['@html_builder/utils/option_sequence','@html_editor/utils/resource','@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{after,BLOCK_ALIGN}=require("@html_builder/utils/option_sequence");const{withSequence}=require("@html_editor/utils/resource");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");class SizeOptionPlugin extends Plugin{static id="sizeOption";resources={builder_options:[withSequence(after(BLOCK_ALIGN),{template:"website.SizeOption",selector:".s_alert",}),],};}
registry.category("website-plugins").add(SizeOptionPlugin.id,SizeOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/snippets_powerbox_plugin.js */
odoo.define('@website/builder/plugins/snippets_powerbox_plugin',['@html_editor/plugin','@web/core/l10n/translation','@html_editor/utils/resource','@web/core/registry','@html_editor/core/selection_plugin'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");const{isHtmlContentSupported}=require("@html_editor/core/selection_plugin");class SnippetsPowerboxPlugin extends Plugin{static id="alert";static dependencies=["dom","history"];resources={user_commands:[{id:"s_alert",title:_t("Alert"),description:_t("Insert an alert snippet"),icon:"fa-info",run:this.insertSnippet.bind(this,"s_alert"),isAvailable:isHtmlContentSupported,},{id:"s_rating",title:_t("Rating"),description:_t("Insert a rating snippet"),icon:"fa-star-half-o",run:this.insertSnippet.bind(this,"s_rating"),isAvailable:isHtmlContentSupported,},{id:"s_card",title:_t("Card"),description:_t("Insert a card snippet"),icon:"fa-sticky-note",run:this.insertSnippet.bind(this,"s_card"),isAvailable:isHtmlContentSupported,},{id:"s_share",title:_t("Share"),description:_t("Insert a share snippet"),icon:"fa-share-square-o",run:this.insertSnippet.bind(this,"s_share"),isAvailable:isHtmlContentSupported,},{id:"s_text_highlight",title:_t("Text Highlight"),description:_t("Insert a text highlight snippet"),icon:"fa-sticky-note",run:this.insertSnippet.bind(this,"s_text_highlight"),isAvailable:isHtmlContentSupported,},{id:"s_chart",title:_t("Chart"),description:_t("Insert a chart snippet"),icon:"fa-bar-chart",run:this.insertSnippet.bind(this,"s_chart"),isAvailable:isHtmlContentSupported,},{id:"s_progress_bar",title:_t("Progress Bar"),description:_t("Insert a progress bar snippet"),icon:"fa-spinner",run:this.insertSnippet.bind(this,"s_progress_bar"),isAvailable:isHtmlContentSupported,},{id:"s_badge",title:_t("Badge"),description:_t("Insert a badge snippet"),icon:"fa-tags",run:this.insertSnippet.bind(this,"s_badge"),isAvailable:isHtmlContentSupported,},{id:"s_blockquote",title:_t("Blockquote"),description:_t("Insert a blockquote snippet"),icon:"fa-quote-left",run:this.insertSnippet.bind(this,"s_blockquote"),isAvailable:isHtmlContentSupported,},{id:"s_hr",title:_t("Separator"),description:_t("Insert a horizontal separator snippet"),icon:"fa-minus",run:this.insertSnippet.bind(this,"s_hr"),isAvailable:isHtmlContentSupported,},],powerbox_categories:withSequence(110,{id:"website",name:_t("Website"),}),powerbox_items:[{categoryId:"website",commandId:"s_alert",},{categoryId:"website",commandId:"s_rating",},{categoryId:"website",commandId:"s_card",},{categoryId:"website",commandId:"s_share",},{categoryId:"website",commandId:"s_text_highlight",},{categoryId:"website",commandId:"s_chart",},{categoryId:"website",commandId:"s_progress_bar",},{categoryId:"website",commandId:"s_badge",},{categoryId:"website",commandId:"s_blockquote",},{categoryId:"website",commandId:"s_hr",},],};insertSnippet(name){const snippet=this.services["html_builder.snippets"].getSnippetByName("snippet_content",name);const content=snippet.content.cloneNode(true);this.dependencies.dom.insert(content);this.dependencies.history.addStep();}}
registry.category("website-plugins").add(SnippetsPowerboxPlugin.id,SnippetsPowerboxPlugin);return __exports;});;

/* /website/static/src/builder/plugins/switchable_views.js */
odoo.define('@website/builder/plugins/switchable_views',['@html_builder/core/utils','@odoo/owl'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const{onWillStart}=require("@odoo/owl");const SwitchableViews=__exports.SwitchableViews=class SwitchableViews extends BaseOptionComponent{static template="website.SwitchableViews";static props={getSwitchableRelatedViews:Function,};setup(){super.setup();onWillStart(async()=>{this.switchableRelatedViews=await this.props.getSwitchableRelatedViews();});}}
return __exports;});;

/* /website/static/src/builder/plugins/switchable_views_plugin.js */
odoo.define('@website/builder/plugins/switchable_views_plugin',['@html_editor/plugin','@web/core/network/rpc','@web/core/registry','@website/builder/plugins/switchable_views'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{rpc}=require("@web/core/network/rpc");const{registry}=require("@web/core/registry");const{SwitchableViews}=require("@website/builder/plugins/switchable_views");const SwitchableViewsPlugin=__exports.SwitchableViewsPlugin=class SwitchableViewsPlugin extends Plugin{static id="switchableViews";static dependencies=["customizeWebsite"];resources={builder_options:{OptionComponent:SwitchableViews,selector:".o_portal_wrap",props:{getSwitchableRelatedViews:this.getSwitchableRelatedViews.bind(this),},groups:["website.group_website_designer"],editableOnly:false,},};setup(){this.prom=null;}
getSwitchableRelatedViews(){if(!this.prom){const viewKey=this.document.querySelector("html").dataset.viewXmlid;if(this.services.website.isDesigner&&viewKey){this.prom=rpc("/website/get_switchable_related_views",{key:viewKey,});this.prom.then((views)=>{for(const view of views){const promise=Promise.resolve(view.active);this.dependencies.customizeWebsite.populateCache(view.key,promise);}});}else{this.prom=Promise.resolve([]);}}
return this.prom;}}
registry.category("website-plugins").add(SwitchableViewsPlugin.id,SwitchableViewsPlugin);return __exports;});;

/* /website/static/src/builder/plugins/theme/theme_advanced_option.js */
odoo.define('@website/builder/plugins/theme/theme_advanced_option',['@html_builder/core/utils'],function(require){'use strict';let __exports={};const{BaseOptionComponent}=require("@html_builder/core/utils");const ThemeAdvancedOption=__exports.ThemeAdvancedOption=class ThemeAdvancedOption extends BaseOptionComponent{static template="website.ThemeAdvancedOption";static props={grays:Object,};}
return __exports;});;

/* /website/static/src/builder/plugins/theme/theme_colors_option.js */
odoo.define('@website/builder/plugins/theme/theme_colors_option',['@odoo/owl','@html_builder/utils/utils_css','@html_builder/core/utils'],function(require){'use strict';let __exports={};const{onMounted}=require("@odoo/owl");const{getCSSVariableValue}=require("@html_builder/utils/utils_css");const{BaseOptionComponent,useDomState}=require("@html_builder/core/utils");const ThemeColorsOption=__exports.ThemeColorsOption=class ThemeColorsOption extends BaseOptionComponent{static template="website.ThemeColorsOption";static props={};setup(){super.setup();this.palettes=this.getPalettes();this.state=useDomState(()=>({presets:this.getPresets(),}));onMounted(()=>{this.iframeDocument=document.querySelector("iframe").contentWindow.document;this.state.presets=this.getPresets();});}
getPalettes(){const palettes=[];const style=window.getComputedStyle(document.documentElement);const allPaletteNames=getCSSVariableValue("palette-names",style).split(", ").map((name)=>name.replace(/'/g,""));for(const paletteName of allPaletteNames){const palette={name:paletteName,colors:[],};[1,3,2].forEach((c)=>{const color=getCSSVariableValue(`o-palette-${paletteName}-o-color-${c}`,style);palette.colors.push(color);});palettes.push(palette);}
return palettes;}
getPresets(){const presets=[];const unquote=(string)=>string.substring(1,string.length-1);for(let i=1;i<=5;i++){const preset={id:i,background:this.getColor(`o-cc${i}-bg`),backgroundGradient:unquote(this.getColor(`o-cc${i}-bg-gradient`)),text:this.getColor(`o-cc${i}-text`),headings:this.getColor(`o-cc${i}-headings`),primaryBtn:this.getColor(`o-cc${i}-btn-primary`),primaryBtnText:this.getColor(`o-cc${i}-btn-primary-text`),primaryBtnBorder:this.getColor(`o-cc${i}-btn-primary-border`),secondaryBtn:this.getColor(`o-cc${i}-btn-secondary`),secondaryBtnText:this.getColor(`o-cc${i}-btn-secondary-text`),secondaryBtnBorder:this.getColor(`o-cc${i}-btn-secondary-border`),};if(preset.backgroundGradient){preset.backgroundGradient+=", url('/web/static/img/transparent.png')";}
presets.push(preset);}
return presets;}
getColor(color){if(!this.iframeDocument){return"";}
if(!this.iframeStyle){this.iframeStyle=this.iframeDocument.defaultView.getComputedStyle(this.iframeDocument.documentElement);}
return getCSSVariableValue(color,this.iframeStyle);}}
return __exports;});;

/* /website/static/src/builder/plugins/theme/theme_tab.js */
odoo.define('@website/builder/plugins/theme/theme_tab',['@odoo/owl','@html_builder/sidebar/option_container','@html_builder/utils/utils'],function(require){'use strict';let __exports={};const{Component,useState}=require("@odoo/owl");const{OptionsContainer}=require("@html_builder/sidebar/option_container");const{useOptionsSubEnv}=require("@html_builder/utils/utils");const ThemeTab=__exports.ThemeTab=class ThemeTab extends Component{static template="website.ThemeTab";static components={OptionsContainer};static props={};static defaultProps={};setup(){useOptionsSubEnv(()=>[this.env.editor.document.body]);this.state=useState({fontsData:{},});this.optionsContainers=this.env.editor.resources["theme_options"];}}
return __exports;});;

/* /website/static/src/builder/plugins/theme/theme_tab_plugin.js */
odoo.define('@website/builder/plugins/theme/theme_tab_plugin',['@html_editor/plugin','@html_editor/utils/resource','@website/builder/plugins/theme/theme_colors_option','@website/builder/plugins/theme/theme_advanced_option','@html_builder/utils/utils_css','@web/core/confirmation_dialog/confirmation_dialog','@web/core/l10n/translation','@web/core/registry','@web/core/utils/colors','@odoo/owl','@html_builder/core/builder_action','@website/builder/plugins/customize_website_plugin','@website/components/edit_head_body_dialog/edit_head_body_dialog'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{ThemeColorsOption}=require("@website/builder/plugins/theme/theme_colors_option");const{ThemeAdvancedOption}=require("@website/builder/plugins/theme/theme_advanced_option");const{getCSSVariableValue,setBuilderCSSVariables}=require("@html_builder/utils/utils_css");const{ConfirmationDialog}=require("@web/core/confirmation_dialog/confirmation_dialog");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{convertCSSColorToRgba,convertRgbaToCSSColor,convertHslToRgb,convertRgbToHsl,}=require("@web/core/utils/colors");const{reactive}=require("@odoo/owl");const{BuilderAction}=require("@html_builder/core/builder_action");const{CustomizeWebsiteVariableAction}=require("@website/builder/plugins/customize_website_plugin");const{EditHeadBodyDialog}=require("@website/components/edit_head_body_dialog/edit_head_body_dialog");const GRAY_PARAMS=__exports.GRAY_PARAMS={EXTRA_SATURATION:"gray-extra-saturation",HUE:"gray-hue",};const OPTION_POSITIONS=__exports.OPTION_POSITIONS={COLORS:10,SETTINGS:20,PARAGRAPH:30,HEADINGS:40,BUTTON:50,LINK:60,INPUT:70,ADVANCED:80,};const ThemeTabPlugin=__exports.ThemeTabPlugin=class ThemeTabPlugin extends Plugin{static id="themeTab";static shared=["getGrayParams","getGrays","setGrays","setGrayParams","buildGray"];grayParams={};grays=reactive({});resources={builder_actions:{CustomizeGrayAction,ChangeColorPaletteAction,EditCustomCodeAction,ConfigureApiKeyAction,},theme_options:[withSequence(OPTION_POSITIONS.COLORS,this.getThemeOptionBlock("theme-colors",_t("Colors"),{OptionComponent:ThemeColorsOption,})),withSequence(OPTION_POSITIONS.SETTINGS,this.getThemeOptionBlock("website-settings",_t("Website"),{template:"website.ThemeWebsiteSettingsOption",})),withSequence(OPTION_POSITIONS.PARAGRAPH,this.getThemeOptionBlock("theme-paragraph",_t("Paragraph"),{template:"website.ThemeParagraphOption",})),withSequence(OPTION_POSITIONS.HEADINGS,this.getThemeOptionBlock("theme-headings",_t("Headings"),{template:"website.ThemeHeadingsOption",})),withSequence(OPTION_POSITIONS.BUTTON,this.getThemeOptionBlock("theme-button",_t("Button"),{template:"website.ThemeButtonOption",})),withSequence(OPTION_POSITIONS.LINK,this.getThemeOptionBlock("theme-link",_t("Link"),{template:"website.ThemeLinkOption",})),withSequence(OPTION_POSITIONS.INPUT,this.getThemeOptionBlock("theme-input",_t("Input Fields"),{template:"website.ThemeInputOption",})),withSequence(OPTION_POSITIONS.ADVANCED,this.getThemeOptionBlock("theme-advanced",_t("Advanced"),{OptionComponent:ThemeAdvancedOption,props:{grays:this.grays,},})),],};setup(){const hues=[];const saturationDiffs=[];let oneHasNoSaturation=false;const style=this.window.getComputedStyle(this.document.body);const baseStyle=getComputedStyle(document.body);for(let id=100;id<=900;id+=100){const gray=getCSSVariableValue(`${id}`,style);this.grays[id]=gray;const grayRGB=convertCSSColorToRgba(gray);const grayHSL=convertRgbToHsl(grayRGB.red,grayRGB.green,grayRGB.blue);const baseGray=getCSSVariableValue(`base-${id}`,baseStyle);const baseGrayRGB=convertCSSColorToRgba(baseGray);const baseGrayHSL=convertRgbToHsl(baseGrayRGB.red,baseGrayRGB.green,baseGrayRGB.blue);if(grayHSL.saturation>0.01){if(grayHSL.lightness>0.01&&grayHSL.lightness<99.99){hues.push(grayHSL.hue);}
if(grayHSL.saturation<99.99){saturationDiffs.push(grayHSL.saturation-baseGrayHSL.saturation);}}else{oneHasNoSaturation=true;}}
this.grayHueIsDefined=!!hues.length;this.grayParams[GRAY_PARAMS.HUE]=!hues.length?0:Math.round((Math.atan2(hues.map((hue)=>Math.sin((hue*Math.PI)/180)).reduce((memo,value)=>memo+value,0)/hues.length,hues.map((hue)=>Math.cos((hue*Math.PI)/180)).reduce((memo,value)=>memo+value,0)/hues.length)*180)/Math.PI+
360)%360;this.grayParams[GRAY_PARAMS.EXTRA_SATURATION]=saturationDiffs.length?saturationDiffs.reduce((memo,value)=>memo+value,0)/saturationDiffs.length:oneHasNoSaturation?-100:100;}
getGrayParams(){return this.grayParams;}
getGrays(){return this.grays;}
setGrayParams(key,value){this.grayParams[key]=value;}
setGrays(key,value){this.grays[key]=value;}
buildGray(id){const gray=getCSSVariableValue(`base-${id}`,getComputedStyle(document.documentElement));const grayRGB=convertCSSColorToRgba(gray);const hsl=convertRgbToHsl(grayRGB.red,grayRGB.green,grayRGB.blue);const adjustedGrayRGB=convertHslToRgb(this.grayParams[GRAY_PARAMS.HUE],Math.min(Math.max(hsl.saturation+this.grayParams[GRAY_PARAMS.EXTRA_SATURATION],0),100),hsl.lightness);return convertRgbaToCSSColor(adjustedGrayRGB.red,adjustedGrayRGB.green,adjustedGrayRGB.blue);}
getThemeOptionBlock(id,name,options){const el=this.document.createElement("div");el.dataset.name=name;this.document.body.appendChild(el);options.selector="*";return{id:id,element:el,hasOverlayOptions:false,headerMiddleButton:false,isClonable:false,isRemovable:false,options:[options],optionsContainerTopButtons:[],snippetModel:{},};}}
const CustomizeGrayAction=__exports.CustomizeGrayAction=class CustomizeGrayAction extends BuilderAction{static id="customizeGray";static dependencies=["customizeWebsite","themeTab"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
getValue({params:{mainParam:grayParamName}}){return this.dependencies.themeTab.getGrayParams()[grayParamName];}
async apply({params:{mainParam:grayParamName},value}){this.dependencies.themeTab.setGrayParams(grayParamName,parseInt(value));for(let i=1;i<10;i++){const key=(100*i).toString();this.dependencies.themeTab.setGrays(key,this.dependencies.themeTab.buildGray(key));}
await this.dependencies.customizeWebsite.customizeWebsiteColors(this.dependencies.themeTab.getGrays(),{colorType:"gray",});}}
const ChangeColorPaletteAction=__exports.ChangeColorPaletteAction=class ChangeColorPaletteAction extends CustomizeWebsiteVariableAction{static id="changeColorPalette";static dependencies=["customizeWebsite"];setup(){this.preview=false;this.dependencies.customizeWebsite.withCustomHistory(this);}
async load(){return new Promise((resolve)=>{this.services.dialog.add(ConfirmationDialog,{body:_t("Changing the color palette will reset all your color customizations, are you sure you want to proceed?"),confirm:()=>resolve(true),cancel:()=>resolve(false),});});}
async apply(context){if(!context.loadResult){return;}
await super.apply(context);setBuilderCSSVariables();}}
const EditCustomCodeAction=__exports.EditCustomCodeAction=class EditCustomCodeAction extends BuilderAction{static id="editCustomCode";apply(){this.services.dialog.add(EditHeadBodyDialog);}}
const ConfigureApiKeyAction=__exports.ConfigureApiKeyAction=class ConfigureApiKeyAction extends BuilderAction{static id="configureApiKey";static dependencies=["googleMapsOption"];apply(){this.dependencies.googleMapsOption.configureGMapsAPI("",true);}}
registry.category("website-plugins").add(ThemeTabPlugin.id,ThemeTabPlugin);return __exports;});;

/* /website/static/src/builder/plugins/timeline_images_option_plugin.js */
odoo.define('@website/builder/plugins/timeline_images_option_plugin',['@html_builder/utils/option_sequence','@html_editor/plugin','@html_editor/utils/resource','@web/core/registry'],function(require){'use strict';let __exports={};const{BEGIN,SNIPPET_SPECIFIC,SNIPPET_SPECIFIC_END}=require("@html_builder/utils/option_sequence");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{registry}=require("@web/core/registry");class TimelineImagesOptionPlugin extends Plugin{static id="timelineImagesOption";static dependencies=["history"];resources={builder_options:[withSequence(BEGIN,{template:"website.TimelineImagesOption",selector:".s_timeline_images",}),withSequence(SNIPPET_SPECIFIC_END,{template:"website.DotLinesColorOption",selector:".s_timeline_images",}),withSequence(SNIPPET_SPECIFIC,{template:"website.DotColorOption",selector:".s_timeline_images .s_timeline_images_row",}),],dropzone_selector:{selector:".s_timeline_images_row",dropNear:".s_timeline_images_row",},is_movable_selector:{selector:".s_timeline_images_row",direction:"vertical"},};}
registry.category("website-plugins").add(TimelineImagesOptionPlugin.id,TimelineImagesOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/translation_plugin.js */
odoo.define('@website/builder/plugins/translation_plugin',['@html_editor/plugin','@web/core/browser/browser','@web/core/l10n/translation','@website/builder/translation_components/attributeTranslateDialog','@website/builder/translation_components/selectTranslateDialog','@website/builder/translation_components/translatorInfoDialog'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{browser}=require("@web/core/browser/browser");const{_t}=require("@web/core/l10n/translation");const{AttributeTranslateDialog}=require("@website/builder/translation_components/attributeTranslateDialog");const{SelectTranslateDialog}=require("@website/builder/translation_components/selectTranslateDialog");const{localStorageNoDialogKey,TranslatorInfoDialog,}=require("@website/builder/translation_components/translatorInfoDialog");const translationSavableSelector=__exports.translationSavableSelector="[data-oe-translation-source-sha], "+"[data-oe-model][data-oe-id][data-oe-field], "+'[placeholder*="data-oe-translation-source-sha="], '+'[title*="data-oe-translation-source-sha="], '+'[value*="data-oe-translation-source-sha="], '+'[alt*="data-oe-translation-source-sha="]';__exports.getTranslationEditableEls=getTranslationEditableEls;function getTranslationEditableEls(rootEl){const translationSavableEls=rootEl.querySelectorAll(translationSavableSelector);const textAreaEls=Array.from(rootEl.querySelectorAll("textarea")).find((el)=>el.textContent.includes("data-oe-translation-source-sha"));return Array.from(translationSavableEls).concat(textAreaEls||[]);}
function findOEditable(containerEl){const isOEditable=(node)=>{while(node){if(node.className&&typeof node.className==="string"){if(node.className.includes("o_not_editable")){return false;}
if(node.className.includes("o_editable")){return true;}}
node=node.parentNode;}
return false;};const allDescendantEls=containerEl.querySelectorAll("*");return Array.from(allDescendantEls).filter(isOEditable);}
const TranslationPlugin=__exports.TranslationPlugin=class TranslationPlugin extends Plugin{static id="translation";static dependencies=["history"];resources={clean_for_save_handlers:this.cleanForSave.bind(this),get_dirty_els:this.getDirtyTranslations.bind(this),after_setup_editor_handlers:()=>{const translationSavableEls=getTranslationEditableEls(this.services.website.pageDocument);for(const translationSavableEl of translationSavableEls){if(!translationSavableEl.hasAttribute("data-oe-readonly")){translationSavableEl.classList.add("o_editable");}}
this.setupServicesIfNotSet();this.prepareTranslation();return true;},};setup(){this.setupServicesIfNotSet();}
setupServicesIfNotSet(){if(!this.websiteService){this.websiteService=this.services.website;this.notificationService=this.services.notification;this.dialogService=this.services.dialog;}}
prepareTranslation(){const editableEls=findOEditable(this.editable);this.buildTranslationInfoMap(editableEls);this.handleSelectTranslation(editableEls);this.markTranslatableNodes();for(const[translatedEl]of this.elToTranslationInfoMap){if(translatedEl.matches("input[type=hidden].o_translatable_input_hidden")){translatedEl.setAttribute("type","text");}}
const menuEls=this.websiteService.pageDocument.querySelectorAll(".dropdown-menu");for(const menuEl of menuEls){this.addDomListener(menuEl,"click",(ev)=>{const editableEl=ev.target.closest(".o_editable");if(editableEl&&menuEl.contains(editableEl)){ev.stopPropagation();ev.preventDefault();}});}
if(!browser.localStorage.getItem(localStorageNoDialogKey)){this.dialogService.add(TranslatorInfoDialog);}
const translationSavableEls=getTranslationEditableEls(this.websiteService.pageDocument);for(const translationSavableEl of translationSavableEls){if(getTranslationEditableEls(translationSavableEl).length){translationSavableEl.setAttribute("data-oe-readonly","true");translationSavableEl.removeAttribute("contenteditable");}}
const showNotification=(ev)=>{let message=_t("This translation is not editable.");if(ev.target.closest(".s_table_of_content_navbar_wrap")){message=_t("Translate header in the text. Menu is generated automatically.");}
this.notificationService.add(message,{type:"info",sticky:false,});};for(const translateEl of editableEls){if(translateEl.closest(".o_not_editable")){this.addDomListener(translateEl,"click",showNotification);}
this.handleToC(translateEl);}
this.originalElToTranslationInfoMap=new Map();for(const[translateEl,translationInfo]of this.elToTranslationInfoMap){this.originalElToTranslationInfoMap.set(translateEl,JSON.parse(JSON.stringify(translationInfo)));}}
buildTranslationInfoMap(editableEls){this.elToTranslationInfoMap=new Map();const translatedAttrs=["placeholder","title","alt","value"];const translationRegex=/<span [^>]*data-oe-translation-source-sha="([^"]+)"[^>]*>(.*)<\/span>/;const isEmpty=(el)=>!el.hasChildNodes()||el.innerHTML.trim()==="";const matchTag=(el)=>el.matches("input, select, textarea, img");for(const translatedAttr of translatedAttrs){const filteredEditableEls=editableEls.filter((editableEl)=>editableEl.hasAttribute(translatedAttr)&&editableEl.getAttribute(translatedAttr).includes("data-oe-translation-source-sha=")&&(isEmpty(editableEl)||matchTag(editableEl)));for(const filteredEditableEl of filteredEditableEls){const translation=filteredEditableEl.getAttribute(translatedAttr);this.updateTranslationMap(filteredEditableEl,translation,translatedAttr);const match=translation.match(translationRegex);filteredEditableEl.setAttribute(translatedAttr,match[2]);if(translatedAttr==="value"){filteredEditableEl.value=match[2];}
filteredEditableEl.classList.add("o_translatable_attribute");}}
const textEditEls=editableEls.filter((editableEl)=>editableEl.matches("textarea")&&editableEl.textContent.includes("data-oe-translation-source-sha"));for(const textEditEl of textEditEls){const translation=textEditEl.textContent;this.updateTranslationMap(textEditEl,translation,"textContent");const match=translation.match(translationRegex);textEditEl.value=match[2];textEditEl.innerText=match[2];textEditEl.classList.add("o_translatable_text");textEditEl.classList.remove("o_text_content_invisible");}}
handleSelectTranslation(editableEls){const selectEls=editableEls.filter((editableEl)=>editableEl.matches("[data-oe-translation-source-sha] > select"));this.translateSelectEls=[];for(const selectEl of selectEls){const selectTranslationEl=document.createElement("div");selectTranslationEl.className="o_translation_select";const optionNames=[...selectEl.options].map((option)=>option.text);for(const optionName of optionNames){const optionEl=document.createElement("div");optionEl.textContent=optionName;optionEl.dataset.initialTranslationValue=optionName;optionEl.className="o_translation_select_option";selectTranslationEl.appendChild(optionEl);this.translateSelectEls.push(optionEl);}
selectEl.before(selectTranslationEl);}}
handleToC(translateEl){if(translateEl.closest(".s_table_of_content_navbar_wrap")){const href=translateEl.closest("a").getAttribute("href");const headerEl=translateEl.closest(".s_table_of_content").querySelector(`${href} [data-oe-translation-source-sha]`);if(headerEl){if(translateEl.dataset.oeTranslationSourceSha!==headerEl.dataset.oeTranslationSourceSha){translateEl.dataset.oeTranslationSaveSha=translateEl.dataset.oeTranslationSourceSha;translateEl.dataset.oeTranslationSourceSha=headerEl.dataset.oeTranslationSourceSha;}
translateEl.classList.add("o_translation_without_style");}}}
markTranslatableNodes(){for(const[translateEl,translationInfo]of this.elToTranslationInfoMap){for(const translationData of Object.values(translationInfo)){if(translateEl.dataset.oeTranslationState!=="translated"){translateEl.setAttribute("data-oe-translation-state",translationData.oeTranslationState||"to_translate");}}
this.addDomListener(translateEl,"click",(ev)=>{const translateEl=ev.target;const elToTranslationInfoMap=this.elToTranslationInfoMap;this.dialogService.add(AttributeTranslateDialog,{node:translateEl,elToTranslationInfoMap:elToTranslationInfoMap,addStep:this.dependencies.history.addStep,applyCustomMutation:this.dependencies.history.applyCustomMutation,});});}
for(const translateSelectEl of this.translateSelectEls){this.addDomListener(translateSelectEl,"click",(ev)=>{const translateSelectEl=ev.target;this.dialogService.add(SelectTranslateDialog,{node:translateSelectEl,addStep:this.dependencies.history.addStep,});});}}
updateTranslationMap(translateEl,translation,attrName){const parser=new DOMParser();const dummyDoc=parser.parseFromString(translation,"text/html");const translationEl=dummyDoc.querySelector("[data-oe-translation-source-sha]");if(!this.elToTranslationInfoMap.get(translateEl)){this.elToTranslationInfoMap.set(translateEl,{});}
this.elToTranslationInfoMap.get(translateEl)[attrName]=translationEl.dataset;this.elToTranslationInfoMap.get(translateEl)[attrName].translation=translationEl.innerHTML;}
getDirtyTranslations(){const dirtyEls=[];for(const[translateEl,translationInfo]of this.elToTranslationInfoMap){for(const[attr,data]of Object.entries(translationInfo)){if(this.originalElToTranslationInfoMap.get(translateEl)[attr].translation!==data.translation){const spanEl=document.createElement("span");for(const[name,value]of Object.entries(data)){spanEl.dataset[name]=value;}
const translation=spanEl.dataset.translation;delete spanEl.dataset.translation;spanEl.innerHTML=translation;dirtyEls.push(spanEl);}}}
return dirtyEls;}
cleanForSave({root}){const optionsEl=root.querySelector(".o_translation_select");if(optionsEl){const selectEl=optionsEl.nextElementSibling;const translatedOptions=optionsEl.children;const selectOptions=selectEl.tagName==="SELECT"?[...selectEl.options]:[];if(selectOptions.length===translatedOptions.length){selectOptions.map((option,i)=>{option.text=translatedOptions[i].textContent;});}
optionsEl.remove();}
if(root.dataset.oeTranslationSaveSha){root.dataset.oeTranslationSourceSha=root.dataset.oeTranslationSaveSha;delete root.dataset.oeTranslationSaveSha;}}}
return __exports;});;

/* /website/static/src/builder/plugins/utils.js */
odoo.define('@website/builder/plugins/utils',[],function(require){'use strict';let __exports={};__exports.applyFunDependOnSelectorAndExclude=applyFunDependOnSelectorAndExclude;function applyFunDependOnSelectorAndExclude(fn,rootEl,selectorParams){const editingEls=getEditingEls(rootEl,selectorParams);if(!editingEls.length){return false;}
return Promise.all(editingEls.map((el)=>fn(el)));}
__exports.getEditingEls=getEditingEls;function getEditingEls(rootEl,{selector,exclude,applyTo}){const closestSelector=rootEl.closest(selector);let editingEls=closestSelector?[closestSelector]:[...rootEl.querySelectorAll(selector)];if(exclude){editingEls=editingEls.filter((selectorEl)=>!selectorEl.matches(exclude));}
if(!applyTo){return editingEls;}
const targetEls=[];for(const editingEl of editingEls){const applyToEls=applyTo?editingEl.querySelectorAll(applyTo):[editingEl];targetEls.push(...applyToEls);}
return targetEls;}
return __exports;});;

/* /website/static/src/builder/plugins/vertical_alignment_option_plugin.js */
odoo.define('@website/builder/plugins/vertical_alignment_option_plugin',['@html_builder/plugins/vertical_alignment_option','@html_editor/plugin','@html_editor/utils/resource','@website/builder/option_sequence','@web/core/registry'],function(require){'use strict';let __exports={};const{VerticalAlignmentOption}=require("@html_builder/plugins/vertical_alignment_option");const{Plugin}=require("@html_editor/plugin");const{withSequence}=require("@html_editor/utils/resource");const{BOX_BORDER_SHADOW}=require("@website/builder/option_sequence");const{registry}=require("@web/core/registry");class VerticalAlignmentOptionPlugin extends Plugin{static id="websiteVerticalAlignmentOption";resources={builder_options:[withSequence(BOX_BORDER_SHADOW,{OptionComponent:VerticalAlignmentOption,selector:".s_attributes_horizontal_col",applyTo:":scope > .row",props:{level:0,justify:false,},}),],};}
registry.category("website-plugins").add(VerticalAlignmentOptionPlugin.id,VerticalAlignmentOptionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/website_session_plugin.js */
odoo.define('@website/builder/plugins/website_session_plugin',['@html_editor/plugin','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const WebsiteSessionPlugin=__exports.WebsiteSessionPlugin=class WebsiteSessionPlugin extends Plugin{static id="websiteSession";static shared=["getSession"];getSession(){return this.window.odoo.loader.modules.get("@web/session").session;}}
registry.category("website-plugins").add(WebsiteSessionPlugin.id,WebsiteSessionPlugin);return __exports;});;

/* /website/static/src/builder/plugins/website_visibility_plugin.js */
odoo.define('@website/builder/plugins/website_visibility_plugin',['@html_builder/utils/utils','@html_editor/plugin','@web/core/registry','@website/builder/plugins/options/visibility_option_plugin'],function(require){'use strict';let __exports={};const{isMobileView}=require("@html_builder/utils/utils");const{Plugin}=require("@html_editor/plugin");const{registry}=require("@web/core/registry");const{DEVICE_VISIBILITY_OPTION_SELECTOR,VISIBILITY_OPTION_SELECTOR,}=require("@website/builder/plugins/options/visibility_option_plugin");const WebsiteVisibilityPlugin=__exports.WebsiteVisibilityPlugin=class WebsiteVisibilityPlugin extends Plugin{static id="websiteVisibilityPlugin";resources={target_show:this.onTargetShow.bind(this),target_hide:this.onTargetHide.bind(this),};onTargetHide(editingEl){if(editingEl.matches(DEVICE_VISIBILITY_OPTION_SELECTOR)||editingEl.matches(VISIBILITY_OPTION_SELECTOR)){editingEl.classList.remove("o_snippet_override_invisible");const isConditionalHidden=editingEl.matches("[data-visibility='conditional']");if(isConditionalHidden){editingEl.classList.add("o_conditional_hidden");}}}
onTargetShow(editingEl){if(editingEl.matches(DEVICE_VISIBILITY_OPTION_SELECTOR)||editingEl.matches(VISIBILITY_OPTION_SELECTOR)){const isMobilePreview=isMobileView(editingEl);const isMobileHidden=editingEl.classList.contains("o_snippet_mobile_invisible");const isDesktopHidden=editingEl.classList.contains("o_snippet_desktop_invisible");if((isMobileHidden&&isMobilePreview)||(isDesktopHidden&&!isMobilePreview)){editingEl.classList.add("o_snippet_override_invisible");}
editingEl.classList.remove("o_conditional_hidden");}}}
registry.category("website-plugins").add(WebsiteVisibilityPlugin.id,WebsiteVisibilityPlugin);return __exports;});;

/* /website/static/src/builder/snippet_model.js */
odoo.define('@website/builder/snippet_model',['@html_builder/snippets/snippet_service','@website/js/highlight_utils','@web/core/registry','@web/core/utils/patch'],function(require){'use strict';let __exports={};const{SnippetModel}=require("@html_builder/snippets/snippet_service");const{applyTextHighlight}=require("@website/js/highlight_utils");const{registry}=require("@web/core/registry");const{patch}=require("@web/core/utils/patch");patch(SnippetModel.prototype,{updateSnippetContent(snippetEl){super.updateSnippetContent(...arguments);for(const textEl of snippetEl?.querySelectorAll(".o_text_highlight")||[]){applyTextHighlight(textEl);}},});registry.category("html_builder.snippetsPreprocessor").add("website_snippets",(namespace,snippets)=>{if(namespace==="website.snippets"){const progressBarEls=snippets.querySelectorAll(".progress-bar");progressBarEls.forEach((el)=>{if(el.style.width==="45%"){el.style.width="25%";}
if(!el.querySelector(".s_progress_bar_text")){const textEl=document.createElement("span");textEl.classList.add("s_progress_bar_text","small");textEl.textContent=el.style.width;if(el.closest(".s_progress_bar_label_hidden")){textEl.classList.add("d-none");}
el.appendChild(textEl);}});}});return __exports;});;

/* /website/static/src/builder/translation_components/attributeTranslateDialog.js */
odoo.define('@website/builder/translation_components/attributeTranslateDialog',['@odoo/owl','@website/components/dialog/dialog'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{WebsiteDialog}=require("@website/components/dialog/dialog");const AttributeTranslateDialog=__exports.AttributeTranslateDialog=class AttributeTranslateDialog extends Component{static components={WebsiteDialog};static template="website_builder.AttributeTranslateDialog";static props={node:{validate:(p)=>p.nodeType===Node.ELEMENT_NODE},elToTranslationInfoMap:Object,addStep:Function,applyCustomMutation:Function,close:Function,};setup(){this.modifiedAttrs={};}
onInputChange(ev){const inputEl=ev.target;const attr=inputEl.previousSibling.textContent;const translateEl=this.props.node;const newValue=inputEl.value;this.modifiedAttrs[attr]=newValue;if(attr!=="textContent"){translateEl.setAttribute(attr,newValue);if(attr==="value"){translateEl.value=newValue;}}else{translateEl.value=newValue;}
translateEl.classList.add("oe_translated");}
get translationInfos(){return this.props.elToTranslationInfoMap.get(this.props.node);}
addStepAndClose(){const oldValue=JSON.parse(JSON.stringify(this.translationInfos));this.props.applyCustomMutation({apply:()=>{for(const[attr,newValue]of Object.entries(this.modifiedAttrs)){this.translationInfos[attr].translation=newValue;}},revert:()=>{for(const attr of Object.keys(this.modifiedAttrs)){this.translationInfos[attr].translation=oldValue[attr].translation;}},});this.props.addStep();this.props.close();}}
return __exports;});;

/* /website/static/src/builder/translation_components/selectTranslateDialog.js */
odoo.define('@website/builder/translation_components/selectTranslateDialog',['@odoo/owl','@website/components/dialog/dialog'],function(require){'use strict';let __exports={};const{Component,useRef}=require("@odoo/owl");const{WebsiteDialog}=require("@website/components/dialog/dialog");const SelectTranslateDialog=__exports.SelectTranslateDialog=class SelectTranslateDialog extends Component{static components={WebsiteDialog};static template="website_builder.SelectTranslateDialog";static props={node:{validate:(p)=>p.nodeType===Node.ELEMENT_NODE},addStep:Function,close:Function,};setup(){this.inputEl=useRef("input");}
onInputChange(){const value=this.inputEl.el.value;this.optionEl.textContent=value;this.optionEl.classList.toggle("oe_translated",value!==this.optionEl.dataset.initialTranslationValue);}
get optionEl(){return this.props.node;}
addStepAndClose(){this.props.addStep();this.props.close();}}
return __exports;});;

/* /website/static/src/builder/translation_components/translatorInfoDialog.js */
odoo.define('@website/builder/translation_components/translatorInfoDialog',['@odoo/owl','@web/core/browser/browser','@web/core/l10n/translation','@website/components/dialog/dialog'],function(require){'use strict';let __exports={};const{Component}=require("@odoo/owl");const{browser}=require("@web/core/browser/browser");const{_t}=require("@web/core/l10n/translation");const{WebsiteDialog}=require("@website/components/dialog/dialog");const localStorageNoDialogKey=__exports.localStorageNoDialogKey="website_translator_nodialog";const TranslatorInfoDialog=__exports.TranslatorInfoDialog=class TranslatorInfoDialog extends Component{static components={WebsiteDialog};static template="website_builder.TranslatorInfoDialog";static props={close:Function,};setup(){this.strongOkButton=_t("Ok, never show me this again");this.okButton=_t("Ok");}
onStrongOkClick(){browser.localStorage.setItem(localStorageNoDialogKey,true);}}
return __exports;});;

/* /website/static/src/builder/website_builder.js */
odoo.define('@website/builder/website_builder',['@html_builder/builder','@html_builder/core/builder_options_plugin_translate','@html_builder/core/core_plugins','@html_builder/core/disable_snippets_plugin_translation','@html_builder/core/operation_plugin','@html_builder/core/save_plugin','@html_builder/core/setup_editor_plugin','@html_builder/core/visibility_plugin','@html_builder/utils/utils','@html_editor/plugin_sets','@html_editor/utils/dom_traversal','@odoo/owl','@web/core/registry','@website/builder/plugins/highlight/highlight_plugin','@website/builder/plugins/popup_visibility_plugin','@website/builder/plugins/save_translation_plugin','@website/builder/plugins/translation_plugin','@website/builder/plugins/website_visibility_plugin'],function(require){'use strict';let __exports={};const{Builder}=require("@html_builder/builder");const{BuilderOptionsPlugin}=require("@html_builder/core/builder_options_plugin_translate");const{CORE_PLUGINS:CORE_BUILDER_PLUGINS}=require("@html_builder/core/core_plugins");const{DisableSnippetsPlugin}=require("@html_builder/core/disable_snippets_plugin_translation");const{OperationPlugin}=require("@html_builder/core/operation_plugin");const{SavePlugin}=require("@html_builder/core/save_plugin");const{SetupEditorPlugin}=require("@html_builder/core/setup_editor_plugin");const{VisibilityPlugin}=require("@html_builder/core/visibility_plugin");const{removePlugins}=require("@html_builder/utils/utils");const{MAIN_PLUGINS:MAIN_EDITOR_PLUGINS}=require("@html_editor/plugin_sets");const{closestElement}=require("@html_editor/utils/dom_traversal");const{Component}=require("@odoo/owl");const{registry}=require("@web/core/registry");const{HighlightPlugin}=require("@website/builder/plugins/highlight/highlight_plugin");const{PopupVisibilityPlugin}=require("@website/builder/plugins/popup_visibility_plugin");const{SaveTranslationPlugin}=require("@website/builder/plugins/save_translation_plugin");const{TranslationPlugin}=require("@website/builder/plugins/translation_plugin");const{WebsiteVisibilityPlugin}=require("@website/builder/plugins/website_visibility_plugin");const TRANSLATION_PLUGINS=[BuilderOptionsPlugin,DisableSnippetsPlugin,SavePlugin,SetupEditorPlugin,VisibilityPlugin,PopupVisibilityPlugin,SaveTranslationPlugin,TranslationPlugin,WebsiteVisibilityPlugin,HighlightPlugin,OperationPlugin,];const WebsiteBuilder=__exports.WebsiteBuilder=class WebsiteBuilder extends Component{static template="website.WebsiteBuilder";static components={Builder};static props={translation:{type:Boolean},builderProps:{type:Object},};get builderProps(){const builderProps=Object.assign({},this.props.builderProps);const websitePlugins=this.props.translation?TRANSLATION_PLUGINS:registry.category("website-plugins").getAll();const mainEditorPluginsToRemove=["PowerButtonsPlugin","DoubleClickImagePreviewPlugin","SeparatorPlugin","StarPlugin","BannerPlugin","MoveNodePlugin",];const pluginsBlockedInTranslationMode=["PowerboxPlugin","SearchPowerboxPlugin","YoutubePlugin","ImagePlugin",];const pluginsToRemove=this.props.translation?[...mainEditorPluginsToRemove,...pluginsBlockedInTranslationMode]:mainEditorPluginsToRemove;const mainEditorPlugins=removePlugins([...MAIN_EDITOR_PLUGINS],pluginsToRemove);const coreBuilderPlugins=this.props.translation?[]:CORE_BUILDER_PLUGINS;const Plugins=[...mainEditorPlugins,...coreBuilderPlugins,...(websitePlugins||[])];builderProps.Plugins=Plugins;builderProps.onEditorLoad=(editor)=>{this.editor=editor;};builderProps.config.getRecordInfo=(editableEl)=>{if(this.editor&&!editableEl){editableEl=closestElement(this.editor.shared.selection.getEditableSelection().anchorNode,"[data-oe-model]");}
if(!editableEl){return{};}
return{resModel:editableEl.dataset["oeModel"],resId:editableEl.dataset["oeId"],field:editableEl.dataset["oeField"],type:editableEl.dataset["oeType"],};};return builderProps;}}
registry.category("lazy_components").add("website.WebsiteBuilder",WebsiteBuilder);return __exports;});;

/* /website_hr_recruitment/static/src/js/website_hr_recruitment_editor.js */
odoo.define('@website_hr_recruitment/js/website_hr_recruitment_editor',['@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{_t}=require("@web/core/l10n/translation");const{registry}=require('@web/core/registry');registry.category("website.form_editor_actions").add('apply_job',{formFields:[{type:'char',modelRequired:true,name:'partner_name',fillWith:'name',string:_t('Your Name'),},{type:'email',required:true,fillWith:'email',name:'email_from',string:_t('Your Email'),},{type:'char',required:true,fillWith:'phone',name:'partner_phone',string:_t('Phone Number'),},{type:'char',name:'linkedin_profile',string:_t('LinkedIn Profile'),},{type:'text',name:'applicant_notes',string:_t('Short Introduction'),},{type:'binary',custom:true,name:'Resume',}],fields:[{name:'job_id',type:'many2one',relation:'hr.job',string:_t('Applied Job'),},{name:'department_id',type:'many2one',relation:'hr.department',string:_t('Department'),}],successPage:'/job-thank-you',});return __exports;});;

/* /website_hr_recruitment/static/src/website_builder/website_hr_recruitment_option_plugin.js */
odoo.define('@website_hr_recruitment/website_builder/website_hr_recruitment_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");class WebsiteHrRecruitmentPageOption extends Plugin{static id="websiteHrRecruitmentPageOption";resources={builder_options:[{template:"website_hr_recruitment.JobsPageOption",selector:"main:has(.o_website_hr_recruitment_jobs_list)",title:_t("Jobs Page"),editableOnly:false,groups:["website.group_website_designer"],},],};}
registry.category("website-plugins").add(WebsiteHrRecruitmentPageOption.id,WebsiteHrRecruitmentPageOption);return __exports;});;

/* /website_hr_recruitment/static/src/website_builder/website_hr_recruitment_searchbar_option_plugin.js */
odoo.define('@website_hr_recruitment/website_builder/website_hr_recruitment_searchbar_option_plugin',['@html_editor/plugin','@web/core/l10n/translation','@web/core/registry'],function(require){'use strict';let __exports={};const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");class HrRecruitmentSearchbarOptionPlugin extends Plugin{static id="hrRecruitmentSearchbarOption";resources={searchbar_option_display_items:{label:_t("Description"),dataAttribute:"displayDescription",dependency:"search_jobs_opt",},};}
registry.category("website-plugins").add(HrRecruitmentSearchbarOptionPlugin.id,HrRecruitmentSearchbarOptionPlugin);return __exports;});;

/* /website_studio/static/src/plugins/form_option_plugin.js */
odoo.define('@website_studio/plugins/form_option_plugin',['@html_builder/utils/sync_cache','@html_editor/plugin','@web/core/l10n/translation','@web/core/registry','@web/core/utils/patch','@web/views/view_dialogs/select_create_dialog','@website/builder/plugins/form/form_option_plugin','@website/builder/plugins/form/utils','@html_builder/core/builder_action'],function(require){'use strict';let __exports={};const{SyncCache}=require("@html_builder/utils/sync_cache");const{Plugin}=require("@html_editor/plugin");const{_t}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{patch}=require("@web/core/utils/patch");const{SelectCreateDialog}=require("@web/views/view_dialogs/select_create_dialog");const{FormOptionPlugin}=require("@website/builder/plugins/form/form_option_plugin");const{getModelName}=require("@website/builder/plugins/form/utils");const{BuilderAction}=require("@html_builder/core/builder_action");const IR_MODEL_SPEC={model:{},name:{},website_form_label:{},website_form_key:{},website_form_access:{},};let appliedModel;patch(FormOptionPlugin,{shared:[...(FormOptionPlugin.shared||[]),"getModelsCache","studioIsFormAccessEditable","studioPreloadModel",],});patch(FormOptionPlugin.prototype,{setup(){super.setup();this.studioModelsCache=new SyncCache(this._studioFetchModels.bind(this));},getModelsCache(formEl){const models=super.getModelsCache();if(!models){return models;}
const currentModel=appliedModel||getModelName(formEl);if(currentModel&&!models.find((m)=>m.model===currentModel)){return[...models,this.studioModelsCache.get(currentModel)];}
return models;},async fetchModels(formEl){const formModels=await super.fetchModels(formEl);const currentModel=appliedModel||getModelName(formEl);if(formModels.some((m)=>m.model===currentModel)){return formModels;}
const studioModel=await this.studioPreloadModel(currentModel);const allModels=[...formModels,studioModel];return allModels;},async _fetchModels(){const models=await super._fetchModels();for(const model of models){model.isFormAccessEditable=this.studioIsFormAccessEditable(model);model.website_form_access=true;}
return models;},async studioPreloadModel(modelName){return this.studioModelsCache.preload(modelName);},async _studioFetchModels(modelName){const res=await this.services.orm.webSearchRead("ir.model",[["model","=",modelName]],{specification:IR_MODEL_SPEC,});const model=res.records[0];if(!model.website_form_label){model._isVirtual=true;model.website_form_label=this.studioGetNewFormLabel(model);}
model.isFormAccessEditable=this.studioIsFormAccessEditable(model);return model;},studioGetNewFormLabel(model){return _t("Create %s",model.name);},studioIsFormAccessEditable(model){return(model&&(model.website_form_key===false||model.website_form_key.startsWith("website_studio.")));},});const StudioFormOptionPlugin=__exports.StudioFormOptionPlugin=class StudioFormOptionPlugin extends Plugin{static id="studioFormOption";static dependencies=["builderActions","builderOptions","websiteFormOption"];static shared=["setFormAccess","saveFormAccess","selectModel"];resources={builder_actions:{StudioMoreModelsAction,StudioToggleFormAccessAction,},save_handlers:[async()=>{for(const formEl of this.editable.querySelectorAll(".s_website_form form")){const models=this.dependencies.websiteFormOption.getModelsCache(formEl);if(models){const targetModelName=getModelName(formEl);const activeForm=models.find((m)=>m.model===targetModelName);this.setFormAccess(activeForm,true);await this.saveFormAccess(activeForm);}}}],};selectModel(){return new Promise((resolve)=>{this.services.dialog.add(SelectCreateDialog,{title:_t("Select model"),noCreate:true,multiSelect:false,resModel:"ir.model",context:{"list_view_ref":"website_studio.select_simple_ir_model",},domain:["&",["abstract","=",false],["transient","=",false]],onSelected:async(resIds)=>{const resId=resIds[0];const res=await this.services.orm.searchRead("ir.model",[['id','=',resId]],['model']);const modelName=res[0].model;await this.dependencies.websiteFormOption.studioPreloadModel(modelName);return resolve(modelName);},},{onClose:()=>resolve(false),});});}
isFormAccessEditable(model){return this.dependencies.websiteFormOption.studioIsFormAccessEditable(model);}
async setFormAccess(model,newValue){if(!model){return;}
if(this.isFormAccessEditable(model)){const toWrite={website_form_access:newValue};if(!("_old_website_form_access"in model)){model._old_website_form_access=model.website_form_access;}
if(newValue&&model._isVirtual){toWrite.website_form_label=model.website_form_label;toWrite.website_form_key=`website_studio.${model.model}`;}
Object.assign(model,toWrite);}}
async saveFormAccess(model){if(model&&"_old_website_form_access"in model&&model._old_website_form_access!==model.website_form_access){const{website_form_access,website_form_key,website_form_label}=model;const toWrite={website_form_access,};if(model._isVirtual){Object.assign(toWrite,{website_form_key,website_form_label,});}
const res=await this.services.orm.webSave("ir.model",[model.id],toWrite,{specification:IR_MODEL_SPEC,});Object.assign(model,res[0]);delete model._old_website_form_access;}}}
const StudioMoreModelsAction=__exports.StudioMoreModelsAction=class StudioMoreModelsAction extends BuilderAction{static id="studioMoreModels";static dependencies=["studioFormOption","websiteFormOption","builderActions"];setup(){this.preview=false;}
isApplied(){return false;}
async load(spec){const modelName=await this.dependencies.studioFormOption.selectModel();if(!modelName){return;}
const model=await this.dependencies.websiteFormOption.studioPreloadModel(modelName);appliedModel=model.model;const getAction=this.dependencies.builderActions.getAction;const selectLoadResult=await getAction("selectAction").load({...spec,value:model.id});appliedModel=undefined;return{model,selectLoadResult};}
async apply(spec){if(!spec.loadResult?.model){return;}
const getAction=this.dependencies.builderActions.getAction;appliedModel=spec.loadResult.model.model;await getAction("selectAction").apply({...spec,value:spec.loadResult.model.id,loadResult:spec.loadResult.selectLoadResult,});appliedModel=undefined;this.dependencies.studioFormOption.setFormAccess(spec.loadResult.model,true);}}
const StudioToggleFormAccessAction=__exports.StudioToggleFormAccessAction=class StudioToggleFormAccessAction extends BuilderAction{static id="studioToggleFormAccess";static dependencies=["history","websiteFormOption","studioFormOption"];setup(){this.preview=false;}
isApplied({editingElement:formEl}){const models=this.dependencies.websiteFormOption.getModelsCache(formEl);const targetModelName=getModelName(formEl);const activeForm=models.find((m)=>m.model===targetModelName);return activeForm?.website_form_access;}
async setValue(formEl,value){this.services.ui.block({delay:2500});try{const models=this.dependencies.websiteFormOption.getModelsCache(formEl);const targetModelName=getModelName(formEl);const activeForm=models.find((m)=>m.model===targetModelName);this.dependencies.studioFormOption.setFormAccess(activeForm,value);await this.dependencies.studioFormOption.saveFormAccess(activeForm);}finally{this.services.ui.unblock();}}
async apply({editingElement:formEl}){await this.setValue(formEl,true);this.dependencies.history.addCustomMutation({apply:()=>this.setValue(formEl,true),revert:()=>this.setValue(formEl,false),});}
async clean({editingElement:formEl}){await this.setValue(formEl,false);this.dependencies.history.addCustomMutation({apply:()=>this.setValue(formEl,false),revert:()=>this.setValue(formEl,true),});}}
registry.category("website-plugins").add(StudioFormOptionPlugin.id,StudioFormOptionPlugin);return __exports;});

                    /*******************************************
                    *  Templates                               *
                    *******************************************/

                    odoo.define("website.website_builder_assets.bundle.xml", ["@web/core/templates"], function(require) {
                        "use strict";
                        const { checkPrimaryTemplateParents, registerTemplate, registerTemplateExtension } = require("@web/core/templates");
                        /* website.website_builder_assets */
                        registerTemplate("html_builder.Builder", `/html_builder/static/src/builder.xml`, `<t t-name="html_builder.Builder" xml:space="preserve">
    <div class="h-100 o-snippets-menu d-flex flex-column" t-ref="builder_sidebar">
        <div class="o-snippets-top-actions d-flex justify-content-between flex-shrink-0 p-2">
            <div class="d-flex gap-1">
                <button type="button" t-on-click="() =&gt; this.undo()" class="o-hb-btn btn fa fa-undo" t-att-disabled="!state.canUndo"/>
                <button type="button" t-on-click="() =&gt; this.redo()" class="o-hb-btn btn fa fa-repeat" t-att-disabled="!state.canRedo"/>
            </div>
            <div class="d-flex gap-1">
                <button t-on-click="onMobilePreviewClick" type="button" class="o-hb-btn btn d-flex align-items-center" t-att-class="{active: props.isMobile}" data-action="mobile" title="Mobile Preview" accesskey="v" style="--btn-font-size: 20px"><span class="fa fa-mobile" role="img"/></button>
                <button type="button" t-on-click="discard" class="o-hb-btn btn" data-action="cancel" title="Tip: Esc to preview" accesskey="j">Discard</button>
                <button type="button" t-on-click="save" class="o-hb-btn btn btn-success px-3" data-action="save" accesskey="s">Save</button>
            </div>
        </div>
        <div class="o-snippets-tabs position-relative grid px-2 my-2" style="--columns: 3; --gap: 0.25rem">
            <div class="o-snippets-tabs-highlighter position-absolute start-50 h-100 rounded pe-none" t-att-class="{                     'o-highlight-blocks': state.activeTab === 'blocks',                     'o-highlight-theme': state.activeTab === 'theme',                 }"/>
            <button data-name="blocks" data-hotkey="1" class="o-hb-btn position-relative btn" t-att-class="{'active cursor-default': state.activeTab === 'blocks'}" t-on-click="() =&gt; this.onTabClick('blocks')" t-att-disabled="displayOnlyCustomizeTab">
                <i class="oi oi-plus me-1" role="img"/>Add
            </button>
            <button data-name="customize" class="o-hb-btn position-relative btn" t-att-class="{'active cursor-default': state.activeTab === 'customize'}" t-on-click="() =&gt; this.onTabClick('customize')">
                <i class="oi oi-settings-adjust me-1" role="img"/>Edit
            </button>
            <button data-name="theme" data-hotkey="2" t-if="ThemeTab" class="o-hb-btn position-relative btn" t-att-class="{'active cursor-default': state.activeTab === 'theme'}" t-on-click="() =&gt; this.onTabClick('theme')" t-att-disabled="displayOnlyCustomizeTab">
                <i class="fa fa-cog me-1" role="img"/>Theme
            </button>
        </div>
        <div class="o-tab-content overflow-y-auto overflow-x-hidden flex-grow-1">
            <t t-if="state.activeTab === 'blocks'">
                <BlockTab/>
            </t>
            <t t-if="state.activeTab === 'customize'">
                <t t-if="!!props.config.customizeTab" t-call="{{props.config.customizeTab}}"/>
                <CustomizeTab t-else="" currentOptionsContainers="state.currentOptionsContainers" snippetModel="snippetModel"/>
            </t>
            <t t-if="state.activeTab === 'theme'">
                <t t-component="ThemeTab"/>
            </t>
        </div>
        <InvisibleElementsPanel t-if="state.invisibleEls.length" invisibleEls="state.invisibleEls" invisibleSelector="this.getInvisibleSelector()"/>
    </div>
</t>

`);
registerTemplate("html_builder.AnchorDialog", `/html_builder/static/src/core/anchor/anchor_dialog.xml`, `<t t-name="html_builder.AnchorDialog" xml:space="preserve">
    <Dialog title="this.title" size="'lg'">
        <div class="mb-3 row">
            <label class="col-form-label col-md-3" for="anchorName">Choose an anchor name</label>
            <div class="col-md-9">
                <input t-ref="anchor-input" type="text" class="form-control" id="anchorName" t-att-class="{'is-invalid': !state.isValid}" t-attf-value="#{props.currentAnchorName}" placeholder="Anchor name"/>
                <div class="invalid-feedback">
                    <p t-att-class="{'d-none': state.isValid}">The chosen name already exists</p>
                </div>
            </div>
        </div>
        <t t-set-slot="footer">
            <button class="btn btn-primary" t-on-click="onConfirmClick">Save &amp; Copy</button>
            <button class="btn btn-secondary" t-on-click="props.close">Discard</button>
            <button class="btn btn-link ms-auto" t-on-click="onRemoveClick">
                <i class="fa fa-icon fa-trash"/>
                Remove
            </button>
        </t>
    </Dialog>
</t>

`);
registerTemplate("html_builder.BuilderOverlay", `/html_builder/static/src/core/builder_overlay/builder_overlay.xml`, `<t t-name="html_builder.BuilderOverlay" xml:space="preserve">
    <div class="oe_overlay o_handlers_idle">
        <div class="o_handles">

            <div class="o_handle o_column_handle o_side o_side_y n readonly">
                <span class="o_handle_indicator"/>
            </div>
            <div class="o_handle o_column_handle o_side o_side_y s readonly">
                <span class="o_handle_indicator"/>
            </div>
            <div class="o_handle o_column_handle o_side o_side_x e readonly">
                <span class="o_handle_indicator"/>
            </div>
            <div class="o_handle o_column_handle o_side o_side_x w readonly">
                <span class="o_handle_indicator"/>
            </div>


             <div class="o_handle o_grid_handle o_side o_side_y n d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_side o_side_x e d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_side o_side_x w d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_side o_side_y s d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_corner_handle ne d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_corner_handle nw d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_corner_handle se d-none">
                <span class="o_handle_indicator"/>
            </div>
             <div class="o_handle o_grid_handle o_corner_handle sw d-none">
                <span class="o_handle_indicator"/>
            </div>
        </div>
    </div>
</t>

`);
registerTemplate("html_builder.BasicMany2Many", `/html_builder/static/src/core/building_blocks/basic_many2many.xml`, `<t t-name="html_builder.BasicMany2Many" xml:space="preserve">
    <div class="d-flex flex-column gap-1">
        <table>
            <tr t-foreach="props.selection" t-as="entry" t-key="entry.id">
                <td>
                    <input type="text" class="o-hb-input-base" disabled="" t-att-data-name="entry.display_name" t-att-value="entry.display_name"/>
                </td>
                <td>
                    <button class="mt-0 border-0 p-0 bg-transparent text-danger fa fa-fw fa-minus" t-on-click="() =&gt; this.unselect(entry.id)"/>
                </td>
            </tr>
        </table>
        <SelectMany2X model="props.model" fields="props.fields" limit="props.limit" domain="props.domain" selected="props.selection" select="select.bind(this)" create="props.create"/>
    </div>
</t>

`);
registerTemplate("html_builder.BuilderButton", `/html_builder/static/src/core/building_blocks/builder_button.xml`, `<t t-name="html_builder.BuilderButton" xml:space="preserve">
    <BuilderComponent>
        <button type="button" class="o-hb-btn btn" t-att-style="this.props.style" t-att-data-action-id="info.actionId" t-att-data-action-param="info.actionParam" t-att-data-action-value="info.actionValue" t-att-data-class-action="info.classAction" t-att-data-style-action="info.styleAction" t-att-data-style-action-value="info.styleActionValue" t-att-data-attribute-action="info.attributeAction" t-att-data-attribute-action-value="info.attributeActionValue" t-att-class="className" t-att-title="props.title" t-att-aria-label="props.title" t-on-click="() =&gt; this.onClick()" t-on-mouseenter="() =&gt; this.onMouseenter(props.id)" t-on-mouseleave="() =&gt; this.onMouseleave(props.id)">
            <Img t-if="props.iconImg" src="props.iconImg" attrs="{alt:props.iconImgAlt}"/>
            <i t-if="props.icon" t-att-class="iconClassName" role="img"/>
            <t t-if="props.label" t-out="props.label"/>
            <t t-slot="default"/>
        </button>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderButtonGroup", `/html_builder/static/src/core/building_blocks/builder_button_group.xml`, `<t t-name="html_builder.BuilderButtonGroup" xml:space="preserve">
    <BuilderComponent>
        <div class="o-hb-button-group btn-group" t-ref="root">
            <t t-slot="default"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderCheckbox", `/html_builder/static/src/core/building_blocks/builder_checkbox.xml`, `<t t-name="html_builder.BuilderCheckbox" xml:space="preserve">
    <BuilderComponent>
        <div t-att-data-action-id="info.actionId" t-att-data-action-param="info.actionParam" t-att-data-action-value="info.actionValue" t-att-data-class-action="info.classAction" t-att-data-style-action="info.styleAction" t-att-data-style-action-value="info.styleActionValue" t-att-data-attribute-action="info.attributeAction" t-att-data-attribute-action-value="info.attributeActionValue">
            <CheckBox className="getClassName()" onChange="onChange" value="state.isActive"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderColorPicker", `/html_builder/static/src/core/building_blocks/builder_colorpicker.xml`, `<t t-name="html_builder.BuilderColorPicker" xml:space="preserve">
    <BuilderComponent>
        <button t-att-title="props.title" class="o_we_color_preview" t-ref="colorButton" t-att-style="this.getSelectedColorStyle()"/>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderDateTimePicker", `/html_builder/static/src/core/building_blocks/builder_datetimepicker.xml`, `<t t-name="html_builder.BuilderDateTimePicker" xml:space="preserve">
    <BuilderComponent>
        <div t-ref="root">
            <BuilderTextInputBase t-props="textInputBaseProps" inputRef="inputRef" commit="commit" preview="preview" onFocus.bind="onFocus" value="displayValue"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderFontFamilyPicker", `/html_builder/static/src/core/building_blocks/builder_fontfamilypicker.xml`, `<t t-name="html_builder.BuilderFontFamilyPicker" xml:space="preserve">
    <BuilderSelect>
        <t t-foreach="fonts" t-as="font" t-key="font_index">
            <BuilderSelectItem t-props="forwardProps(font)">
                <div class="d-flex justify-content-between">
                    <span t-attf-style="font-family: {{font.styleFontFamily}};">
                        <i t-if="font.type === 'cloud'" role="button" class="me-2 fa fa-cloud" title="This font is hosted and served to your visitors by Google servers"/>
                        <t t-out="font.string"/>
                    </span>
                    <div class="text-end o_select_item_only">
                        <t t-if="font.indexForType &gt;= 0">
                            <t t-set="delete_font_title">Delete this font</t>
                            <i role="button" t-on-click.prevent.stop="() =&gt; this.onDeleteFontClick(font)" class="link-danger fa fa-trash-o o_we_delete_font_btn" t-att-aria-label="delete_font_title" t-att-title="delete_font_title"/>
                        </t>
                    </div>
                </div>
            </BuilderSelectItem>
        </t>
        <div class="d-flex flex-column cursor-pointer o-dropdown-item dropdown-item o-navigable o_we_add_font_btn" role="menuitem" tabindex="0" t-on-click.stop="() =&gt; this.onAddFontClick()">
            Add a Custom Font
        </div>
    </BuilderSelect>
</t>

`);
registerTemplate("html_builder.BuilderList", `/html_builder/static/src/core/building_blocks/builder_list.xml`, `<t t-name="html_builder.BuilderList" xml:space="preserve">
    <BuilderComponent>
        <div class="w-100">
            <t t-if="state.value?.length &gt; 2">
                <div class="o_we_table_wrapper">
                    <table t-ref="table">
                        <t t-foreach="formatRawValue(state.value)" t-as="item" t-key="item._id">
                            <tr class="o_row_draggable" t-att-data-id="item._id">
                                <td t-if="props.sortable" class="o_handle_cell">
                                    <button type="button" class="btn">
                                        <i class="fa fa-fw fa-arrows" aria-hidden="true"/>
                                        <span class="visually-hidden">Drag and sort field</span>
                                    </button>
                                </td>
                                <t t-foreach="Object.entries(props.itemShape).filter(([key,_]) =&gt; !props.hiddenProperties.includes(key))" t-as="entry" t-key="entry[0]">
                                    <td>
                                        <t t-if="entry[1].endsWith('boolean')">
                                            <div class="o-hb-checkbox o-checkbox form-check o_field_boolean o_boolean_toggle form-switch">
                                                <input type="checkbox" class="form-check-input" t-att-name="entry[0]" t-att-checked="item[entry[0]]" t-att-data-id="item._id" t-on-click="onChange"/>
                                            </div>
                                        </t>
                                        <t t-else="">
                                            <input class="o-hb-input-base" t-att-type="entry[1]" t-att-name="entry[0]" t-att-value="item[entry[0]]" t-att-data-id="item._id" t-on-input="onInput" t-on-change="onChange"/>
                                        </t>
                                    </td>
                                </t>
                                <td>
                                    <button type="button" class="btn text-danger builder_list_remove_item" t-on-click="() =&gt; this.deleteItem(item._id)">
                                        <i class="fa fa-fw fa-minus" aria-hidden="true"/>
                                        <span class="visually-hidden">Delete item</span>
                                    </button>
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </t>
            <button type="button" class="builder_list_add_item o-hb-btn btn btn-success d-block mt-2 ms-auto" t-on-click="addItem">
                <t t-out="props.addItemTitle"/>
            </button>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderMany2Many", `/html_builder/static/src/core/building_blocks/builder_many2many.xml`, `<t t-name="html_builder.BuilderMany2Many" xml:space="preserve">
    <BuilderComponent>
	    <BasicMany2Many model="state.searchModel" limit="props.limit" domain="props.domain" fields="props.fields" selection="domState.selection" setSelection="setSelection.bind(this)"/>
	</BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderMany2One", `/html_builder/static/src/core/building_blocks/builder_many2one.xml`, `<t t-name="html_builder.BuilderMany2One" xml:space="preserve">
    <BuilderComponent>
        <SelectMany2X model="props.model" fields="props.fields" limit="props.limit" domain="props.domain" selected="domState.selected ? [domState.selected] : []" select="select.bind(this)" create="props.createAction ? create.bind(this) : undefined" message="domState.selected?.display_name || props.defaultMessage"/>
        <button t-if="domState.selected and props.allowUnselect" type="button" class="btn btn-primary fa fa-fw fa-times" style="min-width: min-content;" t-on-click="() =&gt; this.select()"/>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderNumberInput", `/html_builder/static/src/core/building_blocks/builder_number_input.xml`, `<t t-name="html_builder.BuilderNumberInput" xml:space="preserve">
    <BuilderComponent>
        <BuilderTextInputBase t-props="textInputBaseProps" inputRef="inputRef" value="displayValue" classes="'o-hb-input-field-number justify-content-end'" inputClasses="props.inputClasses ? \`o-hb-input-number text-end \${props.inputClasses}\` : 'o-hb-input-number text-end'" commit="commit" preview="preview" onKeydown.bind="onKeydown">
            <span class="o-hb-input-field-unit" t-out="props.unit"/>
        </BuilderTextInputBase>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderRange", `/html_builder/static/src/core/building_blocks/builder_range.xml`, `<t t-name="html_builder.BuilderRange" xml:space="preserve">
    <BuilderComponent>
        <div class="o-hb-range d-flex flex-row flex-nowrap align-items-center" t-att-data-action-id="info.actionId" t-att-data-action-param="info.actionParam" t-att-data-action-value="info.actionValue" t-att-data-class-action="info.classAction" t-att-data-style-action="info.styleAction" t-att-data-style-action-value="info.styleActionValue" t-att-data-attribute-action="info.attributeAction" t-att-data-attribute-action-value="info.attributeActionValue">
            <input type="range" class="o-hb-rangeInput" t-ref="inputRef" t-att-class="className" t-att-min="min" t-att-max="max" t-att-step="props.step" t-att-value="rangeInputValue" t-on-change="onChange" t-on-input="onInput" t-on-keydown="onKeydown"/>
            <output t-if="props.displayRangeValue" t-out="displayValue" class="ms-1"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderRow", `/html_builder/static/src/core/building_blocks/builder_row.xml`, `<t t-name="html_builder.BuilderRow" xml:space="preserve">
    <BuilderComponent>
        <div class="hb-row d-flex position-relative pe-2" t-att-class="this.getLevelClass()" t-ref="root" t-att-data-label="props.label">

            <button t-ref="collapse" t-if="props.slots.collapse" class="o_hb_collapse_toggler btn border-0 bg-transparent" t-att-class="{ 'active fa-rotate-90': state.expanded }" title="Toggle more options" t-on-click="toggleCollapseContent" t-att-aria-expanded="state.expanded ? 'true' : 'false'" t-att-aria-controls="collapseContentId">
                <i class="fa fa-caret-right" role="img"/>
            </button>

            <t t-if="props.label">
                <div class="hb-row-label d-flex align-items-center" t-att-class="{'hb-row-label-actionable': props.slots.collapse}" t-att-data-tooltip="state.tooltip" t-on-click="toggleCollapseContent">

                    <span class="text-nowrap text-truncate" t-out="props.label" t-ref="label"/>
                </div>
                <div class="hb-row-content d-flex" t-ref="content">
                    <t t-slot="default"/>
                </div>
            </t>
            <div t-else="" class="d-flex" style="flex-grow: 1; flex-basis: 0; min-width: 0; gap: 4px;" t-ref="content">
                <t t-slot="default" toggleCollapseContent="() =&gt; this.toggleCollapseContent()"/>
            </div>
        </div>
        <div t-if="props.slots.collapse" t-att-class="{ 'd-none': !state.expanded }" t-ref="collapse-content" t-att-id="collapseContentId">
            <t t-slot="collapse"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderSelect", `/html_builder/static/src/core/building_blocks/builder_select.xml`, `<t t-name="html_builder.BuilderSelect" xml:space="preserve">
    <BuilderComponent>

        <div t-ref="root" class="o-hb-select-wrapper">
            <div inert="" class="h-0 w-0 overflow-hidden" t-att-class="props.className" t-ref="content"><WithIgnoreItem><t t-slot="default"/></WithIgnoreItem></div>
            <Dropdown state="this.dropdown" menuClass="'o-hb-select-dropdown'">
                <button class="o-hb-select-toggle o-hb-btn btn btn-secondary text-start o-dropdown-caret" t-ref="button" t-att-id="props.id">
                    <t t-slot="fixedButton"/>
                </button>
                <t t-set-slot="content">
                    <div t-att-class="props.dropdownContainerClass" data-prevent-closing-overlay="true" style="max-height: 50vh;">
                        <t t-slot="default"/>
                    </div>
                </t>
            </Dropdown>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderSelectItem", `/html_builder/static/src/core/building_blocks/builder_select_item.xml`, `<t t-name="html_builder.BuilderSelectItem" xml:space="preserve">
    <BuilderComponent>
        <div t-attf-class="o-hb-select-dropdown-item d-flex flex-column cursor-pointer o-dropdown-item dropdown-item o-navigable #{ props.className }" t-att-class="{'active': this.state.isActive}" t-att-data-action-id="info.actionId" t-att-data-action-param="info.actionParam" t-att-data-action-value="info.actionValue" t-att-data-class-action="info.classAction" t-att-data-style-action="info.styleAction" t-att-data-style-action-value="info.styleActionValue" t-att-data-attribute-action="info.attributeAction" t-att-data-attribute-action-value="info.attributeActionValue" t-att-title="props.title" t-on-click="this.onClick" t-on-mouseenter="this.onMouseenter" t-on-mouseleave="this.onMouseleave" t-on-focusin="() =&gt; this.onFocusin()" t-on-focusout="() =&gt; this.onFocusout()" t-ref="item" role="menuitem" tabindex="0">
            <t t-slot="default"/>
        </div>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderTextInput", `/html_builder/static/src/core/building_blocks/builder_text_input.xml`, `<t t-name="html_builder.BuilderTextInput" xml:space="preserve">
    <BuilderComponent>
        <BuilderTextInputBase t-props="textInputBaseProps" commit="commit" preview="preview" value="state.value"/>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.BuilderTextInputBase", `/html_builder/static/src/core/building_blocks/builder_text_input_base.xml`, `<t t-name="html_builder.BuilderTextInputBase" xml:space="preserve">
    <div class="d-flex flex-row flex-nowrap align-items-center" t-attf-class="{{ props.classes }}" t-att-data-action-id="info.actionId" t-att-data-action-param="info.actionParam" t-att-data-action-value="info.actionValue" t-att-data-class-action="info.classAction" t-att-data-style-action="info.styleAction" t-att-data-style-action-value="info.styleActionValue" t-att-data-attribute-action="info.attributeAction" t-att-data-attribute-action-value="info.attributeActionValue">
        <input t-ref="inputRef" type="text" autocomplete="chrome-off" class="o-hb-input-base" t-attf-class="{{ props.inputClasses }}" t-att-placeholder="props.placeholder" t-att-data-tooltip="props.tooltip" t-att-aria-label="props.tooltip" t-att-title="props.title" t-on-change="onChange" t-on-input="onInput" t-on-focus="onFocus" t-on-keydown="onKeydown" t-att-value="state.value" t-att-style="props.style"/>
        <t t-slot="default"/>
    </div>
</t>

`);
registerTemplate("html_builder.BuilderUrlPicker", `/html_builder/static/src/core/building_blocks/builder_urlpicker.xml`, `<t t-name="html_builder.BuilderUrlPicker" xml:space="preserve">
    <BuilderComponent>
        <BuilderTextInputBase t-props="textInputBaseProps" inputRef="inputRef" commit="commit" preview="preview" value="state.value">
            <button class="btn" title="Preview this URL in a new tab" t-on-click="openPreviewUrl">
                <i class="fa fa-fw fa-external-link"/>
            </button>
        </BuilderTextInputBase>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.ModelMany2Many", `/html_builder/static/src/core/building_blocks/model_many2many.xml`, `<t t-name="html_builder.ModelMany2Many" xml:space="preserve">
    <BuilderComponent>
        <BasicMany2Many model="state.searchModel" limit="props.limit" domain="props.domain" fields="props.fields" selection="domState.selection" setSelection="setSelection.bind(this)" create="create.bind(this)"/>
    </BuilderComponent>
</t>

`);
registerTemplate("html_builder.SelectMany2X", `/html_builder/static/src/core/building_blocks/select_many2x.xml`, `<t t-name="html_builder.SelectMany2X" xml:space="preserve">
    <SelectMenu choices="this.filteredSearchResult().map(e =&gt; ({ value: e, label: e.display_name  }))" onSelect="props.select" searchPlaceholder.translate="Search for records..." onInput.bind="onInput" class="'o-hb-selectMany2X-wrapper'" menuClass="'o-hb-select-dropdown o-hb-selectMany2X-dropdown'" searchClass="'o-hb-selectMany2x-search-input'" togglerClass="'o-hb-selectMany2X-toggle btn-secondary'">
        <t t-out="props.message"/>
        <t t-set-slot="bottomArea" t-slot-scope="select">
            <a t-if="state.hasMore" t-on-click="() =&gt; this.searchMore(select.data.searchValue)" class="'o-dropdown-item dropdown-item o-navigable o_we_m2o_search_more'" title="Search to show more records">
                Search more...
            </a>
            <SelectMany2XCreate t-if="!!state.nameToCreate" name="state.nameToCreate" create="this.props.create"/>
        </t>
    </SelectMenu>
</t>

`);
registerTemplate("html_builder.SelectMany2XCreate", `/html_builder/static/src/core/building_blocks/select_many2x.xml`, `<t t-name="html_builder.SelectMany2XCreate" xml:space="preserve">
    <a t-on-click="create" class="o-dropdown-item dropdown-item o-navigable o_we_m2o_create">
        Create "<t t-out="props.name"/>"
    </a>
</t>

`);
registerTemplate("html_builder.DragAndDropMoveHandle", `/html_builder/static/src/core/drag_and_drop_move_handle.xml`, `<t t-name="html_builder.DragAndDropMoveHandle" xml:space="preserve">
    <button class="btn o_move_handle fa fa-arrows" t-att-title="title" t-att-aria-label="title"/>
</t>

`);
registerTemplate("html_builder.background_grid", `/html_builder/static/src/core/grid_layout/grid_layout.xml`, `<t t-name="html_builder.background_grid" xml:space="preserve">
    <div t-attf-style="grid-area: 1 / 1 / #{rowCount} / -1;" class="o_we_background_grid">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
            <defs>
                <pattern id="cell" t-attf-width="#{columnSize + columnGap}px" t-attf-height="#{rowSize + rowGap}px" patternUnits="userSpaceOnUse">
                    <rect class="o_we_cell" x="2" y="2" rx="4" t-attf-width="#{columnSize - 4}px" t-attf-height="#{rowSize - 4}px"/>
                </pattern>
            </defs>

            <rect fill="url(#cell)" width="100%" height="100%"/>
        </svg>
    </div>
</t>

`);
registerTemplate("html_builder.OverlayButtons", `/html_builder/static/src/core/overlay_buttons/overlay_buttons.xml`, `<t t-name="html_builder.OverlayButtons" xml:space="preserve">
    <div t-att-class="{'d-none': !state.showUi or !state.isVisible}" class="o_overlay_options">
        <t t-foreach="state.buttons" t-as="button" t-key="button_index">

            <span t-att-title="button.disabledReason" t-att-aria-label="button.disabledReason">
                <t t-if="button.Component" t-component="button.Component" t-props="button.props || {}"/>
                <t t-else="">
                    <button class="btn" t-att-class="button.class" t-att-title="button.title" t-att-aria-label="button.title" t-att-disabled="!!button.disabledReason" t-on-click="button.handler"/>
                </t>
            </span>
        </t>
    </div>
</t>

`);
registerTemplate("html_builder.SelectNumberColumn", `/html_builder/static/src/core/select_number_column.xml`, `<t t-name="html_builder.SelectNumberColumn" xml:space="preserve">
    <BuilderSelect action="'changeColumnCount'">
        <BuilderSelectItem t-if="this.state.canHaveZeroColumns" actionValue="0">None</BuilderSelectItem>
        <t t-foreach="[1, 2, 3, 4, 5, 6]" t-as="column" t-key="column_index">
            <BuilderSelectItem actionValue="column" t-esc="column"/>
        </t>
        <BuilderSelectItem t-if="this.state.isCustomColumn" actionValue="'custom'">Custom</BuilderSelectItem>
    </BuilderSelect>
</t>
`);
registerTemplate("html_builder.AlertOption", `/html_builder/static/src/plugins/alert_option.xml`, `<t t-name="html_builder.AlertOption" xml:space="preserve">
    <BuilderRow label.translate="Type">
        <BuilderSelect>
            <BuilderSelectItem classAction="'alert-primary'" action="'alertIcon'" actionParam="'fa-user-circle'">Primary</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-secondary'" action="'alertIcon'" actionParam="'fa-user-circle-o'">Secondary</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-info'" action="'alertIcon'" actionParam="'fa-info-circle'">Info</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-success'" action="'alertIcon'" actionParam="'fa-check-circle'">Success</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-warning'" action="'alertIcon'" actionParam="'fa-exclamation-triangle'">Warning</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-danger'" action="'alertIcon'" actionParam="'fa-exclamation-circle'">Danger</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-light'" action="'alertIcon'" actionParam="'fa-info-circle'">Light</BuilderSelectItem>
            <BuilderSelectItem classAction="'alert-dark'" action="'alertIcon'" actionParam="'fa-info-circle'">Dark</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.BackgroundColorWidgetOption", `/html_builder/static/src/plugins/background/background_color_option.xml`, `<t t-name="html_builder.BackgroundColorWidgetOption" xml:space="preserve">
    <BuilderColorPicker title.translate="Color" styleAction="'background-color'"/>
</t>
`);
registerTemplate("html_builder.BlockAlignmentOption", `/html_builder/static/src/plugins/block_alignment_option.xml`, `<t t-name="html_builder.BlockAlignmentOption" xml:space="preserve">
    <BuilderRow label.translate="Alignment" t-if="!this.isActiveItem('so_width_100')" level="1">
        <BuilderButtonGroup>
            <BuilderButton icon="'fa-align-left'" title.translate="Left" classAction="'me-auto'"/>
            <BuilderButton icon="'fa-align-center'" title.translate="Center" classAction="'mx-auto'"/>
            <BuilderButton icon="'fa-align-right'" title.translate="Right" classAction="'ms-auto'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.BorderConfiguratorOption", `/html_builder/static/src/plugins/border_configurator_option.xml`, `<t t-name="html_builder.BorderConfiguratorOption" xml:space="preserve">
    <BuilderRow label="props.label">
        <BuilderNumberInput action="props.action" actionParam="{ mainParam: getStyleActionParam('width'), extraClass: props.withBSClass and 'border' }" unit="'px'" min="0" default="0" composable="true"/>
        <BuilderSelect action="props.action" actionParam="getStyleActionParam('style')" t-if="state.hasBorder">
            <BuilderSelectItem title.translate="Solid" actionValue="'solid'"><div class="o-hb-border-preview" style="border-style: solid;"/></BuilderSelectItem>
            <BuilderSelectItem title.translate="Dashed" actionValue="'dashed'"><div class="o-hb-border-preview" style="border-style: dashed;"/></BuilderSelectItem>
            <BuilderSelectItem title.translate="Dotted" actionValue="'dotted'"><div class="o-hb-border-preview" style="border-style: dotted;"/></BuilderSelectItem>
            <BuilderSelectItem title.translate="Double" actionValue="'double'"><div class="o-hb-border-preview" style="border-style: double; border-left: none; border-right: none;"/></BuilderSelectItem>
        </BuilderSelect>
        <BuilderColorPicker action="props.action" actionParam="getStyleActionParam('color')" t-if="state.hasBorder" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>


    <BuilderRow t-if="props.withRoundCorner" label.translate="Round Corners">
        <BuilderNumberInput action="props.action" actionParam="{ mainParam: 'border-radius', extraClass: props.withBSClass and 'rounded' }" unit="'px'" default="0" min="0" composable="true"/>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.FontSizeSelector", `/html_builder/static/src/plugins/font/font_size_selector.xml`, `<t t-name="html_builder.FontSizeSelector" t-inherit="html_editor.FontSizeSelector" xml:space="preserve">
        <xpath expr="//DropdownItem" position="inside">
            <span class="badge text-bg-secondary ms-3 float-end"><t t-out="fontSizeTags[item.variableName]"/></span>
        </xpath>
    </t>
`);
registerTemplate("html_builder.ImageFilterOption", `/html_builder/static/src/plugins/image/image_filter_option.xml`, `<t t-name="html_builder.ImageFilterOption" xml:space="preserve">
    <BuilderRow label.translate="Filter" level="this.props.level" t-if="state.showFilter">
        <BuilderSelect>
            <BuilderSelectItem action="'glFilter'" actionParam="''">None</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'blur'">Blur</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'1977'">1977</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'aden'">Aden</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'brannan'">Brannan</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'earlybird'">EarlyBird</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'inkwell'">Inkwell</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'maven'">Maven</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'toaster'">Toaster</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'walden'">Walden</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'valencia'">Valencia</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'xpro'">Xpro</BuilderSelectItem>
            <BuilderSelectItem action="'glFilter'" actionParam="'custom'" id="custom_glfilter_opt">Custom</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <t t-if="state.isCustomFilter">
        <BuilderRow level="this.props.level + 1" label.translate="Color">
            <BuilderSelect action="'setCustomFilter'" actionParam="'blend'">
                <BuilderSelectItem actionValue="'normal'">Normal</BuilderSelectItem>
                <BuilderSelectItem actionValue="'overlay'">Overlay</BuilderSelectItem>
                <BuilderSelectItem actionValue="'screen'">Screen</BuilderSelectItem>
                <BuilderSelectItem actionValue="'multiply'">Multiply</BuilderSelectItem>
                <BuilderSelectItem actionValue="'lighter'">Add</BuilderSelectItem>
                <BuilderSelectItem actionValue="'exclusion'">Exclusion</BuilderSelectItem>
                <BuilderSelectItem actionValue="'darken'">Darken</BuilderSelectItem>
                <BuilderSelectItem actionValue="'lighten'">Lighten</BuilderSelectItem>
            </BuilderSelect>
            <BuilderColorPicker action="'setCustomFilter'" actionParam="'filterColor'" enabledTabs="['custom']"/>
        </BuilderRow>
        <BuilderRow level="this.props.level + 1" label.translate="Saturation">
            <BuilderRange action="'setCustomFilter'" actionParam="'saturation'" min="-100" max="100" step="10"/>
        </BuilderRow>
        <BuilderRow level="this.props.level + 1" label.translate="Contrast">
            <BuilderRange action="'setCustomFilter'" actionParam="'contrast'" min="-100" max="100" step="10"/>
        </BuilderRow>
        <BuilderRow level="this.props.level + 1" label.translate="Brightness">
            <BuilderRange action="'setCustomFilter'" actionParam="'brightness'" min="-100" max="100" step="10"/>
        </BuilderRow>
        <BuilderRow level="this.props.level + 1" label.translate="Sepia">
            <BuilderRange action="'setCustomFilter'" actionParam="'sepia'" min="0" max="100" step="5"/>
        </BuilderRow>
        <BuilderRow level="this.props.level + 1" label.translate="Blur">
            <BuilderRange action="'setCustomFilter'" actionParam="'blur'" min="0" max="2000" step="100"/>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("html_builder.ImageFormat", `/html_builder/static/src/plugins/image/image_format_option.xml`, `<t t-name="html_builder.ImageFormat" xml:space="preserve">
    <BuilderRow label.translate="Format" level="this.props.level">
        <BuilderSelect>
            <t t-foreach="state.formats" t-as="format" t-key="format.id">
                <BuilderSelectItem className="'o_we_badge_at_end'" action="'setImageFormat'" actionParam="format">
                    <div class="w-100 d-flex justify-content-between overflow-hidden">
                        <t t-out="format.label"/>
                        <span class="badge text-bg-dark ms-2 me-1 top-0 align-self-center" t-out="format.mimetype.split('/')[1]"/>
                    </div>
                </BuilderSelectItem>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Quality" t-if="state.showQuality and state.formats.length" level="this.props.level">
        <BuilderRange action="'setImageQuality'" min="0" max="100"/>
    </BuilderRow>
</t>



`);
registerTemplate("html_builder.ImageShapeOption", `/html_builder/static/src/plugins/image/image_shape_option.xml`, `<t t-name="html_builder.ImageShapeOption" xml:space="preserve">
    <BuilderRow label.translate="Shape">
        <div class="btn-group o-hb-button-group">
            <div class="o-hb-btn btn btn-secondary o-dropdown dropdown-toggle dropdown" t-att-class="{'border-end-0 rounded-end-0': state.hasShape}" role="button" tabindex="0" t-on-click="this.showImageShapes" t-out="state.shapeLabel"/>
            <BuilderButton action="'setImageShape'" actionValue="" preview="false" icon="'oi-close'" className="'btn-danger-color-hover rounded-start-0 m-0 py-0 flex-grow-0'" t-if="state.hasShape"/>
        </div>
    </BuilderRow>
    <t t-if="this.state.hasShape">
        <t t-set="enabledTabs" t-value="['solid', 'custom']"/>
        <BuilderRow label.translate="Colors" level="2">
            <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: 0}" t-if="this.state.showImageShape0" enabledTabs="enabledTabs"/>
            <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: 1}" t-if="this.state.showImageShape1" enabledTabs="enabledTabs"/>
            <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: 2}" t-if="this.state.showImageShape2" enabledTabs="enabledTabs"/>
            <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: 3}" t-if="this.state.showImageShape3" enabledTabs="enabledTabs"/>
            <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: 4}" t-if="this.state.showImageShape4" enabledTabs="enabledTabs"/>
        </BuilderRow>

        <BuilderRow label.translate="Transform" level="1" t-if="this.state.showImageShapeTransform" preview="false">
            <BuilderButton title.translate="Horizontal mirror" icon="'oi-arrows-h'" action="'flipImageShape'" actionParam="{axis: 'x'}"/>
            <BuilderButton title.translate="Vertical mirror" icon="'oi-arrows-v'" action="'flipImageShape'" actionParam="{axis: 'y'}"/>
            <BuilderButton title.translate="Rotate left" icon="'fa-rotate-left'" action="'rotateImageShape'" actionParam="{side: 'left'}"/>
            <BuilderButton title.translate="Rotate right" icon="'fa-rotate-right'" action="'rotateImageShape'" actionParam="{side: 'right'}"/>
        </BuilderRow>

        <BuilderRow label.translate="Speed" level="1" t-if="this.state.showImageShapeAnimation" preview="false">
            <BuilderRange action="'setImageShapeSpeed'" min="-2" max="2" step="0.1" displayRangeValue="true" computedOutput="this.toRatio"/>
        </BuilderRow>

        <BuilderRow label.translate="Stretch" level="1" t-if="this.state.togglableRatio" preview="false">
            <BuilderCheckbox action="'toggleImageShapeRatio'"/>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("html_builder.ImageToolOption", `/html_builder/static/src/plugins/image/image_tool_option.xml`, `<t t-name="html_builder.ImageToolOption" xml:space="preserve">
    <ImageShapeOption/>
    <BuilderRow label.translate="Description" tooltip.translate="'Alt tag' specifies an alternate text for an image, if the image cannot be displayed (slow connection, missing image, screen reader ...).">
        <BuilderTextInput action="'alt'" placeholder.translate="Alt tag"/>
    </BuilderRow>
    <BuilderRow label.translate="Tooltip" tooltip.translate="'Title tag' is shown as a tooltip when you hover the picture.">
        <BuilderTextInput attributeAction="'title'" placeholder.translate="Title tag"/>
    </BuilderRow>
    <BuilderRow label.translate="Transform" preview="false">
        <BuilderButton title.translate="Crop image" action="'cropImage'" icon="'fa-crop'" id="'cropImage'"/>
        <BuilderButton title.translate="Reset crop" action="'resetCrop'" t-if="this.isActiveItem('cropImage')">Reset</BuilderButton>
        <BuilderButton title.translate="Transform the picture" action="'transformImage'" icon="'fa-object-ungroup'" id="'transformImage'"/>
        <BuilderButton title.translate="Reset transformation" action="'resetTransformImage'" t-if="this.isActiveItem('transformImage')">Reset</BuilderButton>
    </BuilderRow>
    <ImageFilterOption/>
    <BuilderRow label.translate="Size">
        <BuilderButtonGroup styleAction="'width'">
            <BuilderButton styleActionValue="''" title.translate="Resize Default">Default</BuilderButton>
            <BuilderButton styleActionValue="'25%'" title.translate="Resize Quarter">25%</BuilderButton>
            <BuilderButton styleActionValue="'50%'" title.translate="Resize Half">50%</BuilderButton>
            <BuilderButton styleActionValue="'100%'" title.translate="Resize Full">100%</BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>
    <ImageFormatOption/>
</t>

`);
registerTemplate("html_builder.ImageAndFaOption", `/html_builder/static/src/plugins/image/image_tool_option.xml`, `<t t-name="html_builder.ImageAndFaOption" xml:space="preserve">
    <BuilderRow label.translate="Alignment">
        <BuilderSelect>
            <BuilderSelectItem classAction="''" title.translate="Unalign">None</BuilderSelectItem>
            <BuilderSelectItem classAction="'me-auto float-start'" title.translate="Align Left">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'mx-auto d-block'" title.translate="Align Center">Center</BuilderSelectItem>
            <BuilderSelectItem classAction="'ms-auto float-end'" title.translate="Align Right">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Style">
        <BuilderButton icon="'fa-square'" classAction="'rounded'" title.translate="Shape: Rounded"/>
        <BuilderButton icon="'fa-circle-o'" classAction="'rounded-circle'" title.translate="Shape: Circle"/>
        <BuilderButton icon="'fa-sun-o'" classAction="'shadow'" title.translate="Shadow"/>
        <BuilderButton icon="'fa-picture-o'" classAction="'img-thumbnail'" title.translate="Shape: Thumbnail"/>
    </BuilderRow>

    <BuilderRow label.translate="Padding">
        <BuilderNumberInput styleAction="'padding'" unit="'px'" composable="true"/>
    </BuilderRow>

</t>

`);
registerTemplate("html_builder.ReplaceMediaOption", `/html_builder/static/src/plugins/image/replace_media_option.xml`, `<t t-name="html_builder.ReplaceMediaOption" xml:space="preserve">
    <BuilderRow label.translate="Media">
        <BuilderButton action="'replaceMedia'" title.translate="Replace image" className="'flex-grow-1'" type="'success'" preview="false" label.translate="Replace"/>
        <BuilderButton icon="'fa-link'" t-if="state.canSetLink" id="'media_link_opt'" action="'setLink'" title.translate="Redirect the user elsewhere when he clicks on the media."/>
    </BuilderRow>
    <BuilderRow label.translate="Your URL" level="1" t-if="isActiveItem('media_link_opt')">
        <BuilderUrlPicker title.translate="Your URL" action="'setUrl'" inputClasses="'o_we_large'" placeholder.translate="www.example.com"/>
    </BuilderRow>
    <BuilderRow label.translate="Open in New Window" level="1" t-if="state.hasHref">
        <BuilderCheckbox action="'setNewWindow'"/>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.LayoutColumnOption", `/html_builder/static/src/plugins/layout_column_option.xml`, `<t t-name="html_builder.LayoutColumnOption" xml:space="preserve">
        <BuilderRow label.translate="Columns">
            <SelectNumberColumn/>
        </BuilderRow>
    </t>
`);
registerTemplate("html_builder.RatingOption", `/html_builder/static/src/plugins/rating_option.xml`, `<t t-name="html_builder.RatingOption" xml:space="preserve">
    <BuilderRow label.translate="Icon">
        <BuilderSelect>
            <BuilderSelectItem action="'setIcons'" actionParam="'fa-star'">Stars</BuilderSelectItem>
            <BuilderSelectItem action="'setIcons'" actionParam="'fa-thumbs-up'">Thumbs</BuilderSelectItem>
            <BuilderSelectItem action="'setIcons'" actionParam="'fa-circle'">Circles</BuilderSelectItem>
            <BuilderSelectItem action="'setIcons'" actionParam="'fa-square'">Squares</BuilderSelectItem>
            <BuilderSelectItem action="'setIcons'" actionParam="'fa-heart'">Hearts</BuilderSelectItem>
            <BuilderSelectItem action="'setIcons'" actionParam="'custom'">Custom</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="⌙ Active">
        <BuilderColorPicker applyTo="'.s_rating_active_icons'" styleAction="'color'" enabledTabs="['solid', 'custom']"/>
        <BuilderButton action="'customIcon'" actionParam="'customActiveIcon'" preview="false"><i class="fa fa-fw fa-refresh me-1"/> Replace Icon</BuilderButton>
    </BuilderRow>
    <BuilderRow label.translate="⌙ Inactive">
        <BuilderColorPicker applyTo="'.s_rating_inactive_icons'" styleAction="'color'" enabledTabs="['solid', 'custom']"/>
        <BuilderButton action="'customIcon'" actionParam="'customInactiveIcon'" preview="false"><i class="fa fa-fw fa-refresh me-1"/> Replace Icon</BuilderButton>
    </BuilderRow>
    <BuilderRow label.translate="Score">
        <BuilderNumberInput action="'activeIconsNumber'" min="0"/>
        <span class="mx-2">/</span>
        <BuilderNumberInput action="'totalIconsNumber'" min="1"/>
    </BuilderRow>
    <BuilderRow label.translate="Size">
        <BuilderButtonGroup applyTo="'.s_rating_icons'">
            <BuilderButton classAction="''" title.translate="Small"><Img src="'/html_builder/static/img/options/size_small.svg'"/></BuilderButton>
            <BuilderButton classAction="'fa-2x'" title.translate="Medium"><Img src="'/html_builder/static/img/options/size_medium.svg'"/></BuilderButton>
            <BuilderButton classAction="'fa-3x'" title.translate="Large"><Img src="'/html_builder/static/img/options/size_large.svg'"/></BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>
    <BuilderRow label.translate="Title Position">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Top</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_rating_inline'">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_rating_no_title'">None</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.SeparatorOption", `/html_builder/static/src/plugins/separator_option.xml`, `<t t-name="html_builder.SeparatorOption" xml:space="preserve">
    <BorderConfigurator withRoundCorner="false" label.translate="Border" direction="'top'"/>
    <BuilderRow label.translate="Width">
        <BuilderSelect>
            <BuilderSelectItem classAction="'w-25'">25%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-50'">50%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-75'">75%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-100'" id="'so_width_100'">100%</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Alignment" t-if="!this.isActiveItem('so_width_100')">
        <BuilderButtonGroup>
            <BuilderButton icon="'fa-align-left'" title.translate="Left" classAction="'me-auto'"/>
            <BuilderButton icon="'fa-align-center'" title.translate="Center" classAction="'mx-auto'"/>
            <BuilderButton icon="'fa-align-right'" title.translate="Right" classAction="'ms-auto'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.ShadowOption", `/html_builder/static/src/plugins/shadow_option.xml`, `<t t-name="html_builder.ShadowOption" xml:space="preserve">
    <BuilderRow label.translate="Shadow">
       <BuilderButtonGroup action="props.setShadowModeAction">
         <BuilderButton actionValue="'none'" id="'no_shadow'">None</BuilderButton>
         <BuilderButton actionValue="'outset'" title.translate="Outset" iconImg="'/html_builder/static/img/options/shadow_out.svg'"/>
         <BuilderButton actionValue="'inset'" title.translate="Inset" iconImg="'/html_builder/static/img/options/shadow_in.svg'"/>
       </BuilderButtonGroup>
    </BuilderRow>
    <BuilderContext t-if="!this.isActiveItem('no_shadow')" action="props.setShadowAction">
        <BuilderRow label.translate="Color" level="1">
            <BuilderColorPicker actionParam="'color'" enabledTabs="['solid', 'custom']"/>
        </BuilderRow>

        <BuilderRow label.translate="Offset (X, Y)" level="1">
            <BuilderNumberInput actionParam="'offsetX'" unit="'px'"/>
            <BuilderNumberInput actionParam="'offsetY'" unit="'px'"/>
        </BuilderRow>

        <BuilderRow label.translate="Blur" level="1">
            <BuilderNumberInput actionParam="'blur'" unit="'px'"/>
        </BuilderRow>

        <BuilderRow label.translate="Spread" level="1">
            <BuilderNumberInput actionParam="'spread'" unit="'px'"/>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("html_builder.shapeSelector", `/html_builder/static/src/plugins/shape/shape_selector.xml`, `<t t-name="html_builder.shapeSelector" xml:space="preserve">
    <header class="o_pager_nav d-flex flex-column flex-wrap flex-shrink-0 mh-100">
        <div class="d-flex align-items-center mt-2 p-2">
            <button class="o_pager_nav_angle btn btn-secondary bg-transparent border-0" t-on-click="this.props.onClose">
                    <i class="fa fa-angle-left" aria-hidden="true"/>
                    <span class="visually-hidden">Back</span>
                    <span class="ps-2 text-white" t-out="props.selectorTitle"/>
            </button>
        </div>
        <div class="d-flex" t-ref="tabs">
            <t t-foreach="Object.entries(this.props.shapeGroups)" t-as="group" t-key="group_index">
                <button type="button" class="o-hb-select-pager-tab btn p-0 text-uppercase" t-att-class="{ 'active': state.activeGroup === group[0] }" t-on-click="() =&gt; this.scrollToShapes(group[0])" t-att-data-group-id="group[0]">
                    <span class="w-100" t-out="group[1].label"/>
                </button>
            </t>
        </div>
    </header>
    <div class="o_pager_container" t-ref="root" t-on-scroll="onScroll">
        <t t-foreach="Object.entries(this.props.shapeGroups)" t-as="group" t-key="group_index">
            <div t-att-data-shape-group-id="group[0]">
                <t t-foreach="Object.entries(group[1].subgroups)" t-as="subgroup" t-key="subgroup_index">
                    <div class="ms-3 py-2" t-out="subgroup[1].label"/>
                    <div class="builder_select_page my-2">
                        <t t-foreach="Object.entries(subgroup[1].shapes)" t-as="shape" t-key="shape_index">
                            <div t-att-class="this.props.buttonWrapperClassName" t-on-click="this.props.onClose">
                                <BuilderButton type="''" action="this.props.shapeActionId" actionValue="shape[0]">
                                    <div t-att-class="props.imgThroughDiv ? 'o_we_shape_btn_content' : ''">
                                        <t t-if="props.imgThroughDiv">
                                            <div class="o_we_shape" t-att-class="this.getShapeClass(shape[0])"/>
                                        </t>
                                        <t t-else="">
                                            <Img src="this.getShapeUrl(shape[0])" svgCheck="false"/>
                                        </t>
                                        <span t-if="shape[1].imgSize" class="o_we_shape_animated_label">
                                            <i class="fa fa-expand"/>
                                            <span t-out="shape[1].imgSize"/>
                                        </span>
                                        <span t-elif="shape[1].animated" class="o_we_shape_animated_label">A<span>nimated</span></span>
                                    </div>
                                </BuilderButton>
                            </div>
                        </t>
                    </div>
                </t>
            </div>
        </t>
    </div>
</t>


`);
registerTemplate("html_builder.TextAlignmentOption", `/html_builder/static/src/plugins/text_alignment_option.xml`, `<t t-name="html_builder.TextAlignmentOption" xml:space="preserve">
    <BuilderRow label.translate="Alignment">
        <BuilderButtonGroup>
            <BuilderButton icon="'fa-align-left'" title.translate="Left" classAction="'text-start'"/>
            <BuilderButton icon="'fa-align-center'" title.translate="Center" classAction="'text-center'"/>
            <BuilderButton icon="'fa-align-right'" title.translate="Right" classAction="'text-end'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.VerticalAlignmentOption", `/html_builder/static/src/plugins/vertical_alignment_option.xml`, `<t t-name="html_builder.VerticalAlignmentOption" xml:space="preserve">
    <t t-if="!isActiveItem('grid_mode')">

        <BuilderRow label.translate="Vert. Alignment" level="props.level">
            <BuilderButtonGroup action="'setVerticalAlignment'">
                <BuilderButton actionParam="'align-items-start'" title.translate="Align Top" iconImg="'/html_builder/static/img/snippets_options/align_top.svg'"/>
                <BuilderButton actionParam="'align-items-center'" title.translate="Align Middle" iconImg="'/html_builder/static/img/snippets_options/align_middle.svg'"/>
                <BuilderButton actionParam="'align-items-end'" title.translate="Align Bottom" iconImg="'/html_builder/static/img/snippets_options/align_bottom.svg'"/>
                <BuilderButton t-if="props.justify" actionParam="'align-items-stretch'" title.translate="Stretch to Equal Height" iconImg="'/html_builder/static/img/snippets_options/align_stretch.svg'"/>
            </BuilderButtonGroup>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("html_builder.VerticalJustifyOption", `/html_builder/static/src/plugins/vertical_justify_option.xml`, `<t t-name="html_builder.VerticalJustifyOption" xml:space="preserve">

    <BuilderRow label.translate="Vert. Alignment" tooltip.translate="Vertical Alignment">
        <BuilderButtonGroup>
            <BuilderButton title.translate="Align Top" classAction="'justify-content-start'" iconImg="'/html_builder/static/img/snippets_options/align_solo_top.svg'"/>
            <BuilderButton title.translate="Align Middle" classAction="'justify-content-center'" iconImg="'/html_builder/static/img/snippets_options/align_solo_middle.svg'"/>
            <BuilderButton title.translate="Align Bottom" classAction="'justify-content-end'" iconImg="'/html_builder/static/img/snippets_options/align_solo_bottom.svg'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>
`);
registerTemplate("html_builder.WidthOption", `/html_builder/static/src/plugins/width_option.xml`, `<t t-name="html_builder.WidthOption" xml:space="preserve">
    <BuilderRow label.translate="Width">
        <BuilderSelect>
            <BuilderSelectItem classAction="'w-25'">25%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-50'">50%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-75'">75%</BuilderSelectItem>
            <BuilderSelectItem classAction="'w-100'" id="'so_width_100'">100%</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("html_builder.BlockTab", `/html_builder/static/src/sidebar/block_tab.xml`, `<t t-name="html_builder.BlockTab" xml:space="preserve">
    <t t-set="disabledGroupTooltip">No block of this category can be dropped on this page.</t>
    <t t-set="disabledBlockTooltip">This block cannot be dropped anywhere on this page.</t>
    <div class="o_block_tab" t-att-class="{'o_we_ongoing_insertion': this.state.ongoingInsertion}" t-ref="block-tab">
        <div class="o_snippets_container" id="snippet_groups">
            <div class="o_snippets_container_header"><span>Categories</span></div>
            <div class="o_snippets_container_body">
                <t t-foreach="this.snippetModel.snippetGroups" t-as="snippet" t-key="snippet.id">
                    <Snippet snippet="snippet" snippetModel="this.snippetModel" onClickHandler="() =&gt; this.onSnippetGroupClick(snippet)" disabledTooltip="disabledGroupTooltip"/>
                </t>
            </div>
        </div>

        <t t-if="this.snippetModel.hasCustomInnerContents">
            <div class="o_snippets_container" id="snippet_custom_content">
                <div class="o_snippets_container_header"><span>Custom Inner Content</span></div>
                <div class="o_snippets_container_body">
                    <t t-foreach="this.snippetModel.snippetCustomInnerContents" t-as="snippet" t-key="snippet.id">
                        <CustomInnerSnippet snippet="snippet" snippetModel="this.snippetModel" onClickHandler.bind="showSnippetTooltip" disabledTooltip="disabledBlockTooltip"/>
                    </t>
                </div>
            </div>
        </t>

        <div class="o_snippets_container" id="snippet_content">
            <div class="o_snippets_container_header"><span>Inner Content</span></div>
            <div class="o_snippets_container_body">
                <t t-foreach="this.snippetModel.snippetInnerContents" t-as="snippet" t-key="snippet.id">
                    <Snippet snippet="snippet" snippetModel="this.snippetModel" onClickHandler.bind="showSnippetTooltip" disabledTooltip="disabledBlockTooltip"/>
                </t>
            </div>
        </div>
    </div>
</t>

`);
registerTemplate("html_builder.CustomInnerSnippet", `/html_builder/static/src/sidebar/custom_inner_snippet.xml`, `<t t-name="html_builder.CustomInnerSnippet" xml:space="preserve">
    <t t-set="disabledTooltip">This block cannot be dropped anywhere on this page.</t>
    <div class="o_snippet" t-att-class="{'o_disabled': snippet.isDisabled, 'o_draggable': !snippet.isDisabled and !state.isRenaming}" t-att-name="snippet.title" t-att-data-id="snippet.id" t-att-data-tooltip="snippet.isDisabled and props.disabledTooltip">
        <div class="o_snippet_thumbnail" t-att-data-snippet="snippet.name">
            <button t-if="!snippet.isInstallable" class="o_snippet_thumbnail_area" t-on-click="props.onClickHandler" title="Insert snippet"/>
            <Img t-if="snippet.isDisabled" src="'/html_builder/static/img/snippet_disabled.svg'" class="'o_snippet_undroppable'"/>
            <div class="o_snippet_thumbnail_img" t-attf-style="background-image: url({{snippet.thumbnailSrc}});"/>
            <t t-if="state.isRenaming">
                <div class="rename-input w-100 mx-1 z-1">
                    <input t-ref="rename-input" type="text" autocomplete="chrome-off" t-att-value="snippet.title" class="text-start" t-on-pointerdown.stop=""/>
                    <button class="o_we_text_success fa fa-check btn btn-outline-success border-0" data-tooltip="Confirm" t-on-click="onConfirmRename"/>
                    <button class="o_we_text_danger fa fa-times btn btn-outline-danger border-0" data-tooltip="Cancel" t-on-click="toggleRenamingState"/>
                </div>
            </t>
            <t t-else="">
                <span class="o_snippet_thumbnail_title" t-esc="snippet.title"/>
            </t>
        </div>
        <div t-if="!state.isRenaming" class="rename-delete-buttons float-end z-1">
            <button class="fa fa-pencil btn o_we_hover_success btn-outline-info border-0" t-attf-data-tooltip="Rename {{snippet.title}}" t-on-click.stop="toggleRenamingState"/>
            <button class="fa fa-trash btn o_we_hover_danger btn-outline-danger border-0" t-attf-data-tooltip="Delete {{snippet.title}}" t-on-click="() =&gt; this.props.snippetModel.deleteCustomSnippet(snippet)"/>
        </div>
    </div>
</t>

`);
registerTemplate("html_builder.CustomizeComponent", `/html_builder/static/src/sidebar/customize_component.xml`, `<t t-name="html_builder.CustomizeComponent" xml:space="preserve">
    <t t-component="this.props.comp" t-props="this.props.compProps"/>
</t>

`);
registerTemplate("html_builder.CustomizeTab", `/html_builder/static/src/sidebar/customize_tab.xml`, `<t t-name="html_builder.CustomizeTab" xml:space="preserve">
    <div class="o_customize_tab h-100">
        <t t-set="currentOptionsContainers" t-value="this.getCurrentOptionsContainers()"/>
        <t t-if="!currentOptionsContainers.length || !this.state.hasContent">
            <div class="text-center pt-5">
                Select a block on your page to style it.
            </div>
        </t>
        <t t-else="">
            <div t-ref="content" class="d-flex flex-column h-100">
                <CustomizeComponent t-if="this.customizeComponent.component" editingElements="this.customizeComponent.editingEls" comp="this.customizeComponent.component" compProps="this.customizeComponent.props"/>
                <t t-else="" t-foreach="currentOptionsContainers" t-as="optionsContainer" t-key="optionsContainer.id">
                    <OptionsContainer snippetModel="props.snippetModel" editingElement="optionsContainer.element" options="optionsContainer.options" containerTitle="optionsContainer.containerTitle" headerMiddleButtons="optionsContainer.headerMiddleButtons" isRemovable="optionsContainer.isRemovable" removeDisabledReason="optionsContainer.removeDisabledReason" isClonable="optionsContainer.isClonable" cloneDisabledReason="optionsContainer.cloneDisabledReason" containerTopButtons="optionsContainer.optionsContainerTopButtons"/>
                </t>
            </div>
        </t>
    </div>
</t>

`);
registerTemplate("html_builder.InvisibleElementsPanel", `/html_builder/static/src/sidebar/invisible_elements_panel.xml`, `<t t-name="html_builder.InvisibleElementsPanel" xml:space="preserve">
    <div class="o_we_invisible_el_panel mt-auto flex-grow-0 flex-shrink-0">
        <div class="o_panel_header">
            Invisible Elements
        </div>
        <t t-foreach="state.invisibleEntries" t-as="invisibleEntry" t-key="invisibleEntry_index">
            <t t-call="html_builder.invisibleSnippetEntry" t-call-context="{'entry': invisibleEntry, 'toggleElementVisibility': toggleElementVisibility.bind(this)}"/>
        </t>
    </div>
</t>

`);
registerTemplate("html_builder.invisibleSnippetEntry", `/html_builder/static/src/sidebar/invisible_elements_panel.xml`, `<t t-name="html_builder.invisibleSnippetEntry" xml:space="preserve">
    <div class="o_we_invisible_entry d-flex py-1 align-items-center justify-content-between" t-att-class="{'o_we_invisible_root_parent pb-1': entry.isRootParent, 'o_we_sublevel': entry.isDescendant}" t-on-click="() =&gt; toggleElementVisibility(entry)">
        <div t-out="entry.name"/>
        <i class="fa ms-2" t-att-class="entry.isVisible ? 'fa-eye' : 'fa-eye-slash'"/>
    </div>
    <ul t-if="entry.children.length &gt; 0">
        <t t-foreach="entry.children" t-as="child" t-key="child_index">
            <li>
                <t t-call="html_builder.invisibleSnippetEntry" t-call-context="{'entry': child, toggleElementVisibility}"/>
            </li>
        </t>
    </ul>
</t>

`);
registerTemplate("html_builder.OptionsContainer", `/html_builder/static/src/sidebar/option_container.xml`, `<t t-name="html_builder.OptionsContainer" xml:space="preserve">
    <div t-if="props.options.length" class="options-container mb-1" t-ref="root" t-att-data-container-title="title" t-on-mouseenter="onMouseEnter" t-on-mouseleave="onMouseLeave">
        <div class="options-container-header d-flex align-items-center justify-content-between">
            <t t-set="isActionable" t-value="Object.keys(props.snippetModel).length &gt; 0"/>
            <span class="options-container-label flex-grow-1 ps-2 py-2" t-att-class="{                     'options-container-label-actionable cursor-pointer': isActionable,                 }" t-out="title" t-att-role="isActionable ? 'button' : 'heading'" t-on-click="selectElement"/>

            <div class="d-flex align-items-center gap-1 p-2">
                <div t-if="props.headerMiddleButtons">
                    <t t-foreach="props.headerMiddleButtons" t-as="headerMiddleButton" t-key="headerMiddleButton.id">
                        <BuilderContext applyTo="headerMiddleButton.applyTo">
                            <t t-if="headerMiddleButton.Component" t-component="headerMiddleButton.Component" t-props="headerMiddleButton.props || {}"/>
                            <t t-else="" t-call="{{headerMiddleButton.template}}"/>
                        </BuilderContext>
                    </t>
                </div>
                <t t-foreach="props.containerTopButtons" t-as="button" t-key="button_index">
                    <button class="o-hb-btn" t-att-class="button.class" t-att-title="button.title" t-att-aria-label="button.title" t-on-click="() =&gt; button.handler(props.editingElement)"/>
                </t>
                <t t-if="props.isClonable || props.cloneDisabledReason">

                    <span t-att-title="props.cloneDisabledReason" t-att-aria-label="props.cloneDisabledReason">
	                    <button class="fa fa-fw fa-clone oe_snippet_clone o-hb-btn btn btn-success-color-hover" title="Duplicate this block" aria-label="Duplicate this block" t-att-disabled="!!props.cloneDisabledReason" t-on-click="cloneElement"/>
	                </span>
                </t>
                <t t-if="props.isRemovable || props.removeDisabledReason">

                    <span t-att-title="props.removeDisabledReason" t-att-aria-label="props.removeDisabledReason">
	                    <button class="fa fa-fw fa-trash oe_snippet_remove o-hb-btn btn btn-danger-color-hover" title="Remove this block" aria-label="Remove this block" t-att-disabled="!!props.removeDisabledReason" t-on-click="removeElement"/>
	                </span>
                </t>
            </div>
        </div>
	    <t t-if="state.isUpToDate">
            <div class="we-bg-options-container pb-3" t-ref="content">
                <t t-foreach="props.options" t-as="option" t-key="option.id">
                    <BuilderContext applyTo="option.applyTo" t-if="hasAccess(option.groups)">
                        <t t-if="option.OptionComponent" t-component="option.OptionComponent" t-props="option.props || {}"/>
                        <t t-else="" t-call="{{option.template}}"/>
                    </BuilderContext>
                </t>
            </div>
        </t>
        <t t-else="">
            <div class="o_we_version_control alert alert-info d-flex flex-column p-3 pt-4 align-items-center text-center text-white">
                <div>This block is outdated.</div>
                <div>You might not be able to customize it anymore.</div>
                <button type="button" class="btn o_we_bg_brand_primary py-2 my-4 border-0" t-on-click="() =&gt; this.replaceElementWithNewVersion()">REPLACE BY NEW VERSION</button>
                <div>You can still access the block options but it might be ineffective.</div>
                <button type="button" class="btn o_we_bg_brand_primary py-2 my-4 border-0" t-on-click="() =&gt; this.accessOutdated()">ACCESS OPTIONS ANYWAY</button>
            </div>
        </t>        
    </div>
</t>

`);
registerTemplate("html_builder.Snippet", `/html_builder/static/src/sidebar/snippet.xml`, `<t t-name="html_builder.Snippet" xml:space="preserve">
    <div class="o_snippet" t-att-class="{'o_disabled': snippet.isDisabled, 'o_to_install': snippet.isInstallable, 'o_draggable': !snippet.isInstallable and !snippet.isDisabled}" t-att-data-snippet-group="snippet.groupName" t-att-name="snippet.title" t-att-data-id="snippet.id" t-att-data-tooltip="snippet.isDisabled and props.disabledTooltip" t-on-mouseover="onInstallableHover" t-on-mouseout="onInstallableHover">
        <div class="o_snippet_thumbnail" t-att-data-snippet="snippet.name">
            <button t-if="!snippet.isInstallable" class="o_snippet_thumbnail_area" t-on-click="props.onClickHandler" title="Insert snippet"/>
            <Img t-if="snippet.isDisabled" src="'/html_builder/static/img/snippet_disabled.svg'" class="'o_snippet_undroppable'"/>
            <div class="o_snippet_thumbnail_img" t-attf-style="background-image: url({{snippet.thumbnailSrc}});"/>
            <span class="o_snippet_thumbnail_title" t-esc="snippet.title"/>
            <button t-if="snippet.isInstallable" class="o_install_btn btn btn-success btn-lg position-absolute start-50 bottom-50 translate-middle-x visually-hidden-focusable z-1" t-on-click="onClickInstall">
                Install
            </button>
        </div>
    </div>
</t>

`);
registerTemplate("html_builder.AddSnippetDialog", `/html_builder/static/src/snippets/add_snippet_dialog.xml`, `<t t-name="html_builder.AddSnippetDialog" xml:space="preserve">
    <Dialog title.translate="Insert a block" contentClass="'o_add_snippet_dialog h-100'" footer="false" size="'xl'">
        <div class="overflow-hidden w-100">
            <div class="d-flex w-100 h-100 vertical flex-row">
                <aside class="border-end overflow-auto">
                    <div class="d-block position-relative p-2 bg-100 border-bottom">
                        <input type="search" class="form-control bg-white pe-4" placeholder="Search for a block" aria-label="Search for a block" t-model="state.search"/>
                        <span class="input-group-text position-absolute top-50 end-0 translate-middle-y me-2 border-0 bg-transparent text-muted">
                            <i class="oi oi-search" aria-hidden="true"/>
                        </span>
                    </div>
                    <div class="list-group list-group-flush flex-column flex-nowrap overflow-y-auto" role="tablist">
                        <t t-if="!state.search" t-foreach="snippetGroups" t-as="snippetGroup" t-key="snippetGroup.id">
                            <button class="list-group-item list-group-item-light list-group-item-action p-3" role="tab" t-att-class="{ 'active': this.state.groupSelected === snippetGroup.groupName}" t-on-click="() =&gt; this.selectGroup(snippetGroup)">
                                <t t-out="snippetGroup.title"/>
                            </button>
                        </t>
                    </div>
                </aside>
                <div class="position-relative flex-grow-1 flex-shrink-1">
                    <t t-if="state.hasNoSearchResults">
                        <div class="d-flex flex-column justify-content-center text-center h-100 p-4" role="status">
                            <img src="/web/static/img/smiling_face.svg" alt="No snippets found" class="h-25 mb-3"/>
                            <p class="h2 mb-2">Oops! No snippets found.</p>
                            <p class="h4">Take a look at the search bar, there might be a small typo!</p>
                        </div>
                    </t>
                    <t t-elif="!state.showIframe">
                        <div class="o_add_snippet_dialog_iframe_loader d-flex flex-column justify-content-center text-center h-100 p-4" role="status">
                            <i class="fa fa-3x fa-circle-o-notch fa-spin"/>
                            <p class="h3 mt-3">
                                Almost there! Snippets are incoming, grab a coffee and relax!
                            </p>
                        </div>
                    </t>
                    <iframe class="border-0 fade bg-200 position-relative o_add_snippet_iframe" t-att-class="state.showIframe ? ' show' : '' " tabindex="-1" t-ref="iframe" src="about:blank" height="333%" width="333%"/>
                </div>
            </div>
        </div>
    </Dialog>
</t>

`);
registerTemplate("html_builder.InputConfirmationDialog", `/html_builder/static/src/snippets/input_confirmation_dialog.xml`, `<t t-name="html_builder.InputConfirmationDialog" xml:space="preserve">
    <Dialog size="'md'" title="props.title" modalRef="modalRef">
        <div class="row">
            <label class="col-form-label col-md-2" for="inputConfirmation" t-esc="props.inputLabel"/>
            <div class="col-md-10">
                <input id="inputConfirmation" type="text" class="form-control" t-model="inputState.value"/>
            </div>
        </div>

        <t t-set-slot="footer">
          <button class="btn" t-att-class="props.confirmClass" t-on-click="_confirm" t-esc="props.confirmLabel"/>
          <button t-if="props.cancel" class="btn btn-secondary" t-on-click="_cancel" t-esc="props.cancelLabel"/>
        </t>
    </Dialog>
</t>

`);
registerTemplate("html_builder.SnippetViewer", `/html_builder/static/src/snippets/snippet_viewer.xml`, `<t t-name="html_builder.SnippetViewer" xml:space="preserve">
    <div t-ref="content" class="row g-0 o_snippets_preview_row" t-att-dir="this.props.frontendDirection">
        <div class="col-lg-6" t-foreach="this.getSnippetColumns()" t-as="snippetsColumn" t-key="snippetsColumn_index">
            <t t-foreach="snippetsColumn" t-as="snippet" t-key="snippet.id">
                <div t-on-click="() =&gt; this.onClick(snippet)" t-att-data-snippet-id="snippet.key" t-att-data-label="snippet.label ? snippet.label : ''" t-attf-class="o_snippet_preview_wrap position-relative #{ snippet.isCustom ? 'mb-0' : '' } #{snippet.moduleId ? 'o_snippet_preview_install' : '' }">
                    <div t-if="snippet.imagePreviewSrc" class="s_dialog_preview s_dialog_preview_image">
                        <img t-att-src="snippet.imagePreviewSrc" loading="eager"/>
                    </div>
                    <t t-else="" t-out="this.getContent(snippet.content)"/>
                    <button t-if="snippet.moduleId" class="o_snippet_preview_install_btn btn text-white rounded-1 mx-auto p-2 bottom-50" t-esc="this.getButtonInstallName(snippet)"/>
                </div>
                <div t-if="snippet.isCustom" class="d-grid mt-2 mx-5 gap-2 d-md-flex justify-content-md-end o_custom_snippet_edit">
                    <span class="w-100" t-esc="snippet.title"/>
                    <button class="btn fa fa-pencil me-md-2" t-on-click="() =&gt; this.onClickRename(snippet)"/>
                    <button class="btn fa fa-trash" t-on-click="() =&gt; this.onClickDelete(snippet)"/>
                </div>
            </t>
        </div>
    </div>
</t>

`);
registerTemplate("website.CustomizeTranslationTab", `/website/static/src/builder/customize_translation_tab.xml`, `<t t-name="website.CustomizeTranslationTab" xml:space="preserve">
    <div class="o_customize_tab h-100">
        <div class="text-center pt-5">
            Select content on your page to translate it.
        </div>
    </div>
</t>

`);
registerTemplate("website.BackgroundImageOption", `/website/static/src/builder/plugins/background_option/background_image.xml`, `<t t-name="website.BackgroundImageOption" xml:space="preserve">
    <BuilderRow t-if="isActiveItem('toggle_bg_image_id')" label.translate="Image" level="1">
        <BuilderButton preview="false" title.translate="Edit image" type="'success'" action="'replaceBgImage'"> Replace </BuilderButton>
    </BuilderRow>
    <BuilderRow t-if="showMainColorPicker()" label.translate="Main Color" level="2">
        <t t-foreach="getColorPickerColorNames()" t-as="colorName" t-key="colorName_index">
            <BuilderColorPicker action="'dynamicColor'" actionParam="colorName" enabledTabs="['solid', 'custom']"/>
        </t>
    </BuilderRow>
</t>

`);
registerTemplate("website.BackgroundOption", `/website/static/src/builder/plugins/background_option/background_option.xml`, `<t t-name="website.BackgroundOption" xml:space="preserve">

    <BuilderRow label.translate="Background" t-if="props.withColors or props.withImages">

        <t t-if="props.withColors" t-call="html_builder.BackgroundColorWidgetOption"/>
        <t t-if="props.withImages">
            <BuilderButton action="'toggleBgImage'" title.translate="Image" preview="false" className="'ms-auto fa fa-fw fa-camera px-2'" id="'toggle_bg_image_id'"/>
            <t t-if="props.withShapes">
                <BuilderButton action="'toggleBgShape'" preview="false" id="'toggle_bg_shape_id'" iconImg="'/html_builder/static/img/options/bg_shape.svg'" className="'px-2'" title.translate="Shape"/>
            </t>
        </t>
    </BuilderRow>
    <t t-if="props.withImages">
        <BackgroundImageOption/>
        <BackgroundPositionOption/>
        <ImageFilterOption level="2"/>
        <ImageFormatOption level="2" computeMaxDisplayWidth="this.computeMaxDisplayWidth"/>

        <BuilderRow t-if="this.showColorFilter()" label.translate="Color Filter" level="2">

            <BuilderColorPicker action="'selectFilterColor'" enabledTabs="['custom', 'gradient']" selectedTab="'gradient'"/>
        </BuilderRow>
        <BackgroundShapeOption t-if="props.withShapes"/>
    </t>
</t>
`);
registerTemplate("website.BackgroundPositionOption", `/website/static/src/builder/plugins/background_option/background_position_option.xml`, `<t t-name="website.BackgroundPositionOption" xml:space="preserve">
    <t t-if="isActiveItem('toggle_bg_image_id')">
        <BuilderRow label.translate="Position" level="2">
            <BuilderSelect action="'backgroundType'" preview="false">
                <BuilderSelectItem actionValue="'cover'">Cover</BuilderSelectItem>
                <BuilderSelectItem actionValue="'repeat-pattern'" id="'background_repeat_opt'">Repeat pattern</BuilderSelectItem>
            </BuilderSelect>
            <BuilderButton icon="'fa-crosshairs'" title.translate="Background Position" preview="false" action="'backgroundPositionOverlay'"/>
        </BuilderRow>
        <BuilderContext t-if="isActiveItem('background_repeat_opt')" action="'setBackgroundSize'">
            <BuilderRow label.translate="Width" level="3">
                <BuilderNumberInput actionParam="'width'" placeholder.translate="auto" unit="'px'" min="0"/>
            </BuilderRow>
            <BuilderRow label.translate="Height" level="3">
                <BuilderNumberInput actionParam="'height'" placeholder.translate="auto" unit="'px'" min="0"/>
            </BuilderRow>
        </BuilderContext>
    </t>
</t>

`);
registerTemplate("website.BackgroundPositionOverlay", `/website/static/src/builder/plugins/background_option/background_position_overlay.xml`, `<t t-name="website.BackgroundPositionOverlay" xml:space="preserve">
    <div class="o_we_background_position_overlay" t-ref="backgroundOverlay">
        <div class="o_we_overlay_content position-absolute" t-ref="overlayContent">
            <div class="o_overlay_background" t-on-mousedown.prevent="onDragBackgroundStart" t-ref="parentBgDragger" title="Click and drag the background to adjust its position!">
                <t t-out="props.outerHtmlEditingElement"/>
            </div>
            <div class="o_we_overlay_buttons position-absolute d-flex m-1" style="top: 0">
                <button class="btn btn-primary me-1 o_btn_apply" t-on-click="apply">Apply</button>
                <button class="btn btn-danger o_btn_discard" t-on-click="this.props.discardPosition">Discard</button>
            </div>
        </div>
    </div>
</t>

`);
registerTemplate("website.BackgroundShapeOption", `/website/static/src/builder/plugins/background_option/background_shape_option.xml`, `<t t-name="website.BackgroundShapeOption" xml:space="preserve">
    <BuilderRow label.translate="Shape" level="1" t-if="isActiveItem('toggle_bg_shape_id')">
        <button class="o-hb-btn btn btn-secondary" t-on-click="this.showBackgroundShapes" t-out="state.shapeName"/>
        <BuilderButton title.translate="Show/Hide on Mobile" preview="false" action="'showOnMobile'" className="'o_hb_device btn-danger-color-active'">
            <Img src="'/html_builder/static/img/options/mobile_invisible.svg'" style="'width: 12px'"/>
        </BuilderButton>
        <BuilderButton action="'setBackgroundShape'" actionValue="''" preview="false" icon="'fa-times'"/>
    </BuilderRow>

    <BuilderRow label.translate="Flip" level="2" t-if="isActiveItem('toggle_bg_shape_id')">
        <BuilderButton icon="'oi-arrows-h'" preview="false" action="'flipShape'" actionParam="'x'"/>
        <BuilderButton icon="'oi-arrows-v'" preview="false" action="'flipShape'" actionParam="'y'"/>
    </BuilderRow>

    <BuilderRow label.translate="Colors" level="2">
        <t t-foreach="getDefaultColorNames()" t-as="colorName" t-key="colorName_index">
            <BuilderColorPicker action="'backgroundShapeColor'" actionParam="colorName" enabledTabs="['solid', 'custom']"/>
        </t>

        <BuilderColorPicker styleAction="'background-color'" applyTo="':scope &gt; .o_we_shape'" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>
    <BuilderRow label.translate="Speed" level="2" t-if="state.isAnimated">
        <BuilderRange preview="false" displayRangeValue="true" max="2" min="-2" step="0.1" action="'setBgAnimationSpeed'" computedOutput="this.toRatio"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.CarouselBottomControllersOption", `/website/static/src/builder/plugins/carousel_bottom_controllers_option.xml`, `<t t-name="website.CarouselBottomControllersOption" t-inherit="website.CarouselOption" t-inherit-mode="primary" xml:space="preserve">
    <xpath expr="//BuilderSelectItem[@classAction=&quot;'s_carousel_arrows_hidden'&quot;]" position="attributes">
        <attribute name="id">"carousel_arrows_hidden_opt"</attribute>
    </xpath>
    <xpath expr="//BuilderSelectItem[@classAction=&quot;'s_carousel_indicators_hidden'&quot;]" position="attributes">
        <attribute name="id">"carousel_indicators_hidden_opt"</attribute>
    </xpath>
    <xpath expr="//BuilderRow[@label.translate=&quot;Arrows&quot;]/BuilderSelect" position="attributes">
        <attribute name="action">"toggleControllers"</attribute>
    </xpath>
    <xpath expr="//BuilderRow[@label.translate=&quot;Indicators&quot;]/BuilderSelect" position="attributes">
        <attribute name="action">"toggleControllers"</attribute>
    </xpath>
    <xpath expr="//BuilderSelect" position="replace">
        <BuilderSelect applyTo="'.o_horizontal_controllers_row'">
            <BuilderSelectItem classAction="'justify-content-between'">Default</BuilderSelectItem>
            <BuilderSelectItem classAction="'justify-content-between flex-row-reverse'">Reversed</BuilderSelectItem>
            <BuilderSelectItem classAction="'justify-content-center'" t-if="isActiveItem('carousel_arrows_hidden_opt') || isActiveItem('carousel_indicators_hidden_opt')">Centered</BuilderSelectItem>
        </BuilderSelect>
    </xpath>
</t>

`);
registerTemplate("website.CarouselCardsOption", `/website/static/src/builder/plugins/carousel_cards_option.xml`, `<t t-name="website.CarouselCardsOption" t-inherit="website.CarouselBottomControllersOption" t-inherit-mode="primary" xml:space="preserve">
    <xpath expr="//BuilderRow[@label.translate=&quot;Indicators&quot;]" position="after">
        <BuilderRow label.translate="Images">
            <BuilderCheckbox id="'toggle_card_img_opt'" preview="false" action="'toggleCardImg'"/>
        </BuilderRow>

        <BuilderRow label.translate="Position" level="1" t-if="isActiveItem('toggle_card_img_opt')">
            <BuilderButtonGroup applyTo="'.s_card'">
                <BuilderButton title.translate="Left" classAction="'flex-lg-row'" iconImg="'/html_builder/static/img/options/pos_left.svg'"/>
                <BuilderButton title.translate="Right" classAction="'flex-lg-row-reverse'" iconImg="'/html_builder/static/img/options/pos_right.svg'"/>
            </BuilderButtonGroup>
        </BuilderRow>

        <BuilderRow label.translate="Width" tooltip.translate="Adjust the image width" level="1" t-if="isActiveItem('toggle_card_img_opt')">
            <BuilderRange styleAction="'--card-img-size-h'" min="10" max="75" step="5" displayRangeValue="true" unit="'%'"/>
        </BuilderRow>

        <BuilderRow label.translate="Extra height" tooltip.translate="Add extra height to cards">
            <BuilderRange styleAction="'--CardBody-extra-height'" min="0" max="500" step="10" displayRangeValue="true" unit="'px'"/>
        </BuilderRow>
    </xpath>
</t>

`);
registerTemplate("website.s_carousel_cards.imageWrapper", `/website/static/src/builder/plugins/carousel_cards_option.xml`, `<t t-name="website.s_carousel_cards.imageWrapper" xml:space="preserve">
    <figure class="o_card_img_wrapper mb-0">
        <img class="o_card_img h-100" src="/web/image/website.s_carousel_cards_default_image_1" alt=""/>
    </figure>
</t>

`);
registerTemplate("website.CarouselOption", `/website/static/src/builder/plugins/carousel_option.xml`, `<t t-name="website.CarouselOption" xml:space="preserve">
    <BuilderRow label.translate="Slide">
        <BuilderButton title.translate="Add Slide" action="'addSlide'">Add Slide</BuilderButton>
    </BuilderRow>
    <BuilderRow label.translate="Style">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Classic</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_controllers_indicators_outside'">Indicators outside</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Invert colors" level="1">
        <BuilderCheckbox classAction="'carousel-dark'"/>
    </BuilderRow>

    <BuilderRow label.translate="Arrows" level="1">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_carousel_default'">Default</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_boxed'">Boxed</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_rounded'">Rounded</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_arrows_hidden'">Hidden</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Indicators" applyTo="'.carousel-indicators'" level="1">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Bars</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_indicators_dots'">Dots</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_indicators_numbers'">Numbers</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_carousel_indicators_hidden'">Hidden</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Transition">
        <BuilderSelect>
            <BuilderSelectItem id="'slide_opt'" classAction="'slide'">Slide</BuilderSelectItem>
            <BuilderSelectItem id="'fade_opt'" classAction="'carousel-fade slide'">Fade</BuilderSelectItem>
            <BuilderSelectItem classAction="''">None</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <t t-if="isActiveItem('slide_opt') || isActiveItem('fade_opt')">
        <BuilderRow label.translate="Speed" level="1">
            <BuilderNumberInput dataAttributeAction="'bsInterval'" default="10" unit="'s'" saveUnit="'ms'" step="0.1" min="0" preview="false" applyWithUnit="false"/>
        </BuilderRow>

        <BuilderRow label.translate="Autoplay" level="1">
            <BuilderCheckbox dataAttributeAction="'bsRide'" dataAttributeActionValue="'carousel'"/>
        </BuilderRow>
    </t>

</t>

`);
registerTemplate("website.CarouselItemHeaderMiddleButtons", `/website/static/src/builder/plugins/carousel_option.xml`, `<t t-name="website.CarouselItemHeaderMiddleButtons" xml:space="preserve">
    <button class="btn btn-primary ms-0 py-0 px-1 me-1" title="Move Backward" aria-label="Move Backward" t-on-click="() =&gt; this.slide('prev')">
        <span class="fa fa-fw fa-angle-left"/>
    </button>
    <button class="btn btn-primary py-0 px-1 me-2" title="Move Forward" aria-label="Move Forward" t-on-click="() =&gt; this.slide('next')">
        <span class="fa fa-fw fa-angle-right"/>
    </button>
    <button class="btn btn-success ms-0 py-0 px-1 me-1" title="Add Slide" aria-label="Add Slide" t-on-click="addSlide">
        <span class="oi fa-fw oi-plus"/>
    </button>
    <button class="btn btn-danger py-0 px-1" title="Remove Slide" aria-label="Remove Slide" t-on-click="removeSlide">
        <span class="oi fa-fw oi-minus"/>
    </button>
</t>

`);
registerTemplate("website.ContentWidthOption", `/website/static/src/builder/plugins/content_width_option.xml`, `<t t-name="website.ContentWidthOption" xml:space="preserve">
    <BuilderRow label.translate="Content Width">
        <BuilderButtonGroup action="'setContainerWidth'">
            <BuilderButton actionParam="'o_container_small'"><Img src="'/website/static/src/img/snippets_options/content_width_small.svg'"/></BuilderButton>
            <BuilderButton actionParam="'container'"><Img src="'/website/static/src/img/snippets_options/content_width_normal.svg'"/></BuilderButton>
            <BuilderButton actionParam="'container-fluid'"><Img src="'/website/static/src/img/snippets_options/content_width_full.svg'"/></BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.DynamicSvgOption", `/website/static/src/builder/plugins/dynamic_svg_option.xml`, `<t t-name="website.DynamicSvgOption" xml:space="preserve">
    <BuilderRow label.translate="Dynamic Colors" action="'svgColor'">
        <t t-foreach="Object.keys(domState.colors)" t-as="colorName" t-key="colorName">
            <BuilderColorPicker actionParam="colorName" enabledTabs="['solid', 'custom']"/>
        </t>
    </BuilderRow>
</t>

`);
registerTemplate("website.FloatingBlocksOption", `/website/static/src/builder/plugins/floating_blocks/floating_blocks_option.xml`, `<t t-name="website.FloatingBlocksOption" xml:space="preserve">
    <BuilderRow label.translate="Cards">
        <BuilderButton title.translate="Add a new Card" action="'addFloatingBlockCard'" preview="false" className="'o_we_bg_success'">
            Add New
        </BuilderButton>
    </BuilderRow>
    <hr/>
    <BuilderRow label.translate="Cards Design">
            Global options for all inner cards.
    </BuilderRow>

    <BuilderRow label.translate="Roundness" level="1" tooltip.translate="Applies to all cards">
        <BuilderRange applyTo="'.s_floating_blocks_wrapper'" action="'floatingBlocksRoundness'" max="5" displayRangeValue="false"/>
    </BuilderRow>
    <BuilderRow label.translate="Shadows" level="1" tooltip.translate="Applies to all cards">
        <BuilderCheckbox applyTo="'.s_floating_blocks_wrapper'" classAction="'s_floating_blocks_wrapper_shadow'" preview="false"/>
        </BuilderRow>
</t>

`);
registerTemplate("website.FloatingBlocksBlockOption", `/website/static/src/builder/plugins/floating_blocks/floating_blocks_option.xml`, `<t t-name="website.FloatingBlocksBlockOption" xml:space="preserve">
    <AddElementOption applyTo="'.o_grid_mode'"/>
    <BorderConfigurator withRoundCorner="false" label.translate="Border"/>
</t>

`);
registerTemplate("website.FloatingBlocksBlockMobileOption", `/website/static/src/builder/plugins/floating_blocks/floating_blocks_option.xml`, `<t t-name="website.FloatingBlocksBlockMobileOption" xml:space="preserve">
    <BuilderRow label.translate="Vert. Alignment" tooltip.translate="Vertical Alignment" t-if="state.isMobileView">
        <BuilderButtonGroup>
            <BuilderButton title.translate="Align Top" classAction="'align-self-start'" iconImg="'/html_builder/static/img/snippets_options/align_solo_top.svg'"/>
            <BuilderButton title.translate="Align Middle" classAction="'align-self-center'" iconImg="'/html_builder/static/img/snippets_options/align_solo_middle.svg'"/>
            <BuilderButton title.translate="Align Bottom" classAction="'align-self-end'" iconImg="'/html_builder/static/img/snippets_options/align_solo_bottom.svg'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.s_floating_blocks.new_card", `/website/static/src/builder/plugins/floating_blocks/floating_blocks_option.xml`, `<t t-name="website.s_floating_blocks.new_card" xml:space="preserve">
    <section data-name="Card" class="s_floating_blocks_block s_col_no_resize position-sticky d-flex py-5 o_cc o_cc1">
        <div class="container-fluid align-self-end">
            <div class="s_floating_blocks_block_grid row mx-0 o_grid_mode" data-row-count="8">
                <div class="o_grid_item g-height-4 col-lg-8 order-lg-0" style="z-index: 1; grid-area: 1 / 1 / 5 / 9;">
                    <p class="lead">A great subtitle</p>
                    <h2 class="display-4-fs">Card Title</h2>
                </div>

                <div class="o_grid_item g-height-2 g-col-lg-4 col-lg-4" style="z-index: 2; --grid-item-padding-y: 0px; --grid-item-padding-x: 0px; grid-area: 7 / 1 / 9 / 5;">
                    <a href="#" title="" role="button" class="btn btn-lg btn-secondary">Button</a>
                </div>
            </div>
        </div>
    </section>
</t>

`);
registerTemplate("website.dialog.addFont.singlePreview", `/website/static/src/builder/plugins/font/add_font_dialog.xml`, `<t t-name="website.dialog.addFont.singlePreview" xml:space="preserve">
    <div class="row">
        <label class="col-12" t-attf-style="font-weight: {{previewWeight}};" t-out="previewLabel"/>
    </div>
    <div class="mb-3 row">
        <div class="col-11 offset-1" t-attf-style="font-family: '{{previewFontName}}';">
            <input t-if="previewFontName" class="w-100 border-0 bg-transparent" t-model="state.previewText" t-attf-style="font-weight: {{previewWeight}};"/>
            <input t-else="" class="w-100 border-0 bg-transparent" readonly="1" t-attf-style="font-weight: {{previewWeight}};"/>
        </div>
    </div>
</t>
`);
registerTemplate("website.dialog.addFont.preview", `/website/static/src/builder/plugins/font/add_font_dialog.xml`, `<t t-name="website.dialog.addFont.preview" xml:space="preserve">
    <div class="mb-3 row text-center">
        <label class="col-12">
            <t t-if="previewFontName">Preview of <t t-out="previewFontName"/></t>
            <t t-else="">Preview</t>
        </label>
    </div>
    <t t-call="website.dialog.addFont.singlePreview">
        <t t-set="previewLabel">Light</t>
        <t t-set="previewWeight">300</t>
    </t>
    <t t-call="website.dialog.addFont.singlePreview">
        <t t-set="previewLabel">Regular</t>
        <t t-set="previewWeight">400</t>
    </t>
    <t t-call="website.dialog.addFont.singlePreview">
        <t t-set="previewLabel">Bold</t>
        <t t-set="previewWeight">700</t>
    </t>
</t>
`);
registerTemplate("website.dialog.addFont", `/website/static/src/builder/plugins/font/add_font_dialog.xml`, `<t t-name="website.dialog.addFont" xml:space="preserve">
    <Dialog title.translate="Add a Google font or upload a custom font" size="'xl'">
        <div class="row">
            <div class="col-lg-7">

                <div class="mb-3 row">
                    <div class="col-form-label col-md-4">
                        <label for="google_font">Choose from list</label>
                        <div class="text-muted">Explore on <a target="_blank" href="https://fonts.google.com">fonts.google.com</a>.</div>
                    </div>
                    <div class="col-form-label col-md-8 o_field_widget">
                        <div class="o_input_dropdown">
                            <GoogleFontAutoComplete value="state.googleFontFamily" placeholder.translate="Select a Google Font..." sources="getGoogleFontList"/>
                            <span class="o_dropdown_button"/>
                        </div>
                    </div>
                    <label class="col-form-label col-md-4" for="google_font_serve">
                        Serve font from Google servers
                        <sup class="text-info" title="To comply with some local regulations">
                            <a target="_blank" href="https://www.odoo.com/forum/help-1/how-to-use-google-fonts-and-respecting-german-requirements-214049">?</a>
                        </sup>
                    </label>
                    <label class="o_switch col-form-label col-md-8" t-att-class="{'o_switch_disabled': !state.googleFontFamily}" for="google_font_serve">
                        <input type="checkbox" checked="checked" t-att-disabled="!state.googleFontFamily" id="google_font_serve" t-model="state.googleServe"/>
                        <span/>
                    </label>
                </div>
                <hr/>

                <div class="mb-3 row">
                    <div class="col-form-label col-md-4">
                        <label for="upload_font">Custom Font</label>
                        <div class="text-muted">zip, ttf, woff, woff2, otf</div>
                    </div>
                    <div class="col-md-8">
                        <input t-ref="fileInput" type="file" class="form-control s_website_form_input" name="Custom Font" id="upload_font" accept=".woff, .woff2, .ttf, .zip, .otf, font/*" t-on-change="onUploadChange"/>
                    </div>
                </div>
            </div>
            <div class="col-lg-5" style="border-left: var(--gray-300) solid 1px;">

                <t t-call="website.dialog.addFont.preview">
                    <t t-if="state.googleFontFamily">
                        <t t-set="previewFontName" t-value="state.googleFontFamily"/>
                    </t>
                    <t t-elif="state.uploadedFonts.length">
                        <t t-set="previewFontName" t-value="state.uploadedFontName"/>
                    </t>
                </t>
            </div>
        </div>
        <t t-set-slot="footer">
            <button class="btn btn-primary" t-att-disabled="state.loading" t-on-click="onClickSave">
                <t t-if="state.loading">
                    <i class="fa fa-icon fa-icon"/>
                </t>
                Save and Reload
            </button>
            <button class="btn btn-secondary" t-on-click="onClickCancel">Cancel</button>
        </t>
    </Dialog>
</t>

`);
registerTemplate("website.FontAwesomeOption", `/website/static/src/builder/plugins/font_awesome_option.xml`, `<t t-name="website.FontAwesomeOption" xml:space="preserve">
    <BuilderRow label.translate="Color">
        <BuilderColorPicker styleAction="'color'"/>
    </BuilderRow>

    <BuilderRow label.translate="Background Color">
        <BuilderColorPicker styleAction="'background-color'"/>
    </BuilderRow>

    <BuilderRow label.translate="Size">
        <BuilderButtonGroup>
            <BuilderButton action="'faResize'" actionParam="''" title.translate="Size 1x">1x</BuilderButton>
            <BuilderButton action="'faResize'" actionParam="'fa-2x'" title.translate="Size 2x">2x</BuilderButton>
            <BuilderButton action="'faResize'" actionParam="'fa-3x'" title.translate="Size 3x">3x</BuilderButton>
            <BuilderButton action="'faResize'" actionParam="'fa-4x'" title.translate="Size 4x">4x</BuilderButton>
            <BuilderButton action="'faResize'" actionParam="'fa-5x'" title.translate="Size 5x">5x</BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>


    <BorderConfigurator label.translate="Border" withRoundCorner="false"/>
</t>

`);
registerTemplate("website.s_website_form_form_option", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_form_option" xml:space="preserve">
    <BuilderRow t-if="!modelCantChange and this.state.models" label.translate="Action" preview="false">
        <BuilderSelect>
            <t t-foreach="this.state.models" t-as="model" t-key="model.name">
                <BuilderSelectItem t-out="model.website_form_label" action="'selectAction'" actionValue="model.id.toString()"/>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <FormActionFieldsOption activeForm="state.activeForm" prepareFormModel="props.prepareFormModel"/>
    <BuilderRow label.translate="Marked Fields">
        <BuilderSelect id="'field_mark_select'" action="'updateLabelsMark'">
            <BuilderSelectItem classAction="''">None</BuilderSelectItem>
            <BuilderSelectItem classAction="'o_mark_required'" id="'form_required_opt'">Required</BuilderSelectItem>
            <BuilderSelectItem classAction="'o_mark_optional'" id="'form_optional_opt'">Optional</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Mark Text">
        <BuilderTextInput action="'setMark'" default="''" t-if="isActiveItem('form_required_opt') || isActiveItem('form_optional_opt')"/>
    </BuilderRow>
    <BuilderRow label.translate="Labels Width">
        <BuilderNumberInput styleAction="'width'" unit="'px'" applyTo="'.s_website_form_label'"/>
    </BuilderRow>
    <BuilderRow label.translate="On Success">
        <BuilderSelect preview="false" action="'onSuccess'">
            <BuilderSelectItem actionValue="'nothing'">Nothing</BuilderSelectItem>
            <BuilderSelectItem actionValue="'redirect'" id="'show_redirect_opt'">Redirect</BuilderSelectItem>
            <BuilderSelectItem actionValue="'message'" id="'show_message_opt'">Show Message</BuilderSelectItem>
        </BuilderSelect>
        <BuilderButton className="'fa fa-fw fa-eye align-self-end toggle-edit-message'" title.translate="Edit Message" id="'message_opt'" t-if="isActiveItem('show_message_opt')" preview="false" action="'toggleEndMessage'"/>
    </BuilderRow>
    <BuilderRow label.translate="URL">
        <WebsiteUrlPicker dataAttributeAction="'successPage'" default="'/contactus-thank-you'" id="'url_opt'" t-if="isActiveItem('show_redirect_opt')"/>
    </BuilderRow>
    <BuilderRow t-if="hasRecaptchaKey" label.translate="Show reCaptcha Policy">
        <BuilderCheckbox action="'formToggleRecaptchaLegal'" preview="false"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.s_website_form_form_action_fields_option", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_form_action_fields_option" xml:space="preserve">
    <t t-if="state.formInfo.fields">
        <t t-foreach="state.formInfo.fields" t-as="field" t-key="field.name">
            <BuilderRow t-if="field.type === 'many2one'" label="field.string" preview="false">
                <BuilderSelect actionParam="{ isSelect: true, fieldName: field.name }">
                    <BuilderSelectItem t-if="!field.required" action="'addActionField'" actionValue="'0'">
                        None
                    </BuilderSelectItem>
                    <BuilderSelectItem t-foreach="field.records" t-as="record" t-key="record.id" action="'addActionField'" actionValue="record.id.toString()">
                        <t t-out="record.display_name"/>
                    </BuilderSelectItem>
                </BuilderSelect>
                <BuilderButton t-if="field.createAction" className="'fa fa-fw fa-plus'" title.translate="Create New" action="'promptSaveRedirect'" actionParam="field.createAction"/>
            </BuilderRow>

            <BuilderRow t-if="field.type === 'char'" label="field.string">
                <BuilderTextInput actionParam="{ fieldName: field.name }" action="'addActionField'" default="''"/>
            </BuilderRow>
        </t>
    </t>
</t>

`);
registerTemplate("website.s_website_form_form_option_add_field_button", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_form_option_add_field_button" xml:space="preserve">
    <button type="button" class="btn o_we_bg_brand_primary" t-att-title="props.tooltip" t-on-click="() =&gt; this.addField()">
        + Field
    </button>
</t>

`);
registerTemplate("website.s_website_form_field_option_redraw", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_field_option_redraw" xml:space="preserve">
    <FormFieldOption redrawSequence="domState.redrawSequence" t-props="props"/>
</t>

`);
registerTemplate("website.s_website_form_field_option", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_field_option" xml:space="preserve">
    <t t-if="domState.elClassList.includes('s_website_form_model_required')">
        <FormModelRequiredFieldAlert fieldName="domState.fieldName" modelName="domState.modelName" fetchModels="props.fetchModels"/>
    </t>
    <BuilderRow label.translate="Type">
        <BuilderSelect t-if="!domState.elClassList.includes('s_website_form_model_required')" id="'type_opt'" preview="false">
            <div class="o-hb-select-dropdown-category py-2 ps-2 fst-italic">Custom Field</div>
            <BuilderContext action="'customField'">
                <BuilderSelectItem actionValue="'char'">Text</BuilderSelectItem>
                <BuilderSelectItem actionValue="'text'">Long Text</BuilderSelectItem>
                <BuilderSelectItem actionValue="'email'">Email</BuilderSelectItem>
                <BuilderSelectItem actionValue="'tel'">Telephone</BuilderSelectItem>
                <BuilderSelectItem actionValue="'url'">Url</BuilderSelectItem>
                <BuilderSelectItem actionValue="'integer'">Number</BuilderSelectItem>
                <BuilderSelectItem actionValue="'float'">Decimal Number</BuilderSelectItem>
                <BuilderSelectItem actionValue="'boolean'">Checkbox</BuilderSelectItem>
                <BuilderSelectItem actionValue="'one2many'">Multiple Checkboxes</BuilderSelectItem>
                <BuilderSelectItem actionValue="'selection'">Radio Buttons</BuilderSelectItem>
                <BuilderSelectItem actionValue="'many2one'">Selection</BuilderSelectItem>
                <BuilderSelectItem actionValue="'date'">Date</BuilderSelectItem>
                <BuilderSelectItem actionValue="'datetime'">Date &amp; Time</BuilderSelectItem>
                <BuilderSelectItem actionValue="'binary'">File Upload</BuilderSelectItem>
            </BuilderContext>
            <t t-if="state.availableFields.length">
                <div class="o-hb-select-dropdown-category py-2 ps-2 fst-italic">Existing fields</div>
                <t t-foreach="state.availableFields" t-as="field" t-key="field.name">
                    <BuilderSelectItem action="'existingField'" actionValue="field.name" t-out="field.string"/>
                </t>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Input Type">
        <BuilderSelect t-if="!domState.elClassList.includes('s_website_form_custom') and ['char', 'email', 'tel', 'url'].includes(domState.elDataset.type) and !domState.elClassList.includes('s_website_form_model_required')" id="'char_input_type_opt'" preview="false" action="'selectType'">
            <BuilderSelectItem actionValue="'char'">Text</BuilderSelectItem>
            <BuilderSelectItem actionValue="'email'">Email</BuilderSelectItem>
            <BuilderSelectItem actionValue="'tel'">Telephone</BuilderSelectItem>
            <BuilderSelectItem actionValue="'url'">Url</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Selection type">
        <BuilderSelect t-if="isExisingFieldSelectType" id="'existing_field_select_type_opt'" preview="false" action="'existingFieldSelectType'">
            <BuilderSelectItem actionValue="'many2one'">Dropdown List</BuilderSelectItem>
            <BuilderSelectItem actionValue="'selection'">Radio</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Display" level="1">
        <BuilderSelect t-if="isMultipleInputs" id="'multi_check_display_opt'" preview="false">
            <BuilderSelectItem action="'multiCheckboxDisplay'" actionValue="'horizontal'">Horizontal</BuilderSelectItem>
            <BuilderSelectItem action="'multiCheckboxDisplay'" actionValue="'vertical'">Vertical</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Height" level="1" applyTo="'textarea'">
        <BuilderNumberInput unit.translate="rows" saveUnit="''" step="1" attributeAction="'rows'" default="3"/>
    </BuilderRow>
    <BuilderRow label.translate="Label">
        <BuilderTextInput action="'setLabelText'"/>
    </BuilderRow>
    <BuilderRow label.translate="Position" level="1">
        <BuilderButtonGroup action="'selectLabelPosition'">
            <BuilderButton title.translate="Hide" actionValue="'none'">
                <i class="fa fa-eye-slash"/>
            </BuilderButton>
            <BuilderButton title.translate="Top" actionValue="'top'" iconImg="'/website/static/src/img/snippets_options/pos_top.svg'"/>
            <BuilderButton title.translate="Left" actionValue="'left'" iconImg="'/website/static/src/img/snippets_options/pos_left.svg'"/>
            <BuilderButton title.translate="Right" actionValue="'right'" iconImg="'/website/static/src/img/snippets_options/pos_right.svg'"/>
        </BuilderButtonGroup>
    </BuilderRow>
    <BuilderRow label.translate="Description">
        <BuilderCheckbox action="'toggleDescription'" preview="false"/>
    </BuilderRow>
    <BuilderRow label.translate="Placeholder">
        <BuilderTextInput attributeAction="'placeholder'" applyTo="\`input[type='text'], input[type='email'], input[type='number'], input[type='tel'], input[type='url'], textarea\`"/>
    </BuilderRow>
    <BuilderRow label.translate="Default Value">
        <BuilderTextInput action="'selectTextareaValue'" applyTo="'textarea'"/>
        <BuilderCheckbox attributeAction="'checked'" attributeActionValue="'checked'" applyTo="\`.col-sm &gt; * &gt; input[type='checkbox']\`" preview="false"/>

        <BuilderTextInput attributeAction="'value'" applyTo="\`input[type='text']:not(.datetimepicker-input), input[type='email'], input[type='tel'], input[type='url']\`"/>

        <BuilderNumberInput attributeAction="'value'" step="1" applyTo="\`input[type='number']\`"/>

        <BuilderDateTimePicker type="'datetime'" attributeAction="'value'" applyTo="'.s_website_form_datetime input'"/>

        <BuilderDateTimePicker type="'date'" attributeAction="'value'" applyTo="'.s_website_form_date input'"/>
    </BuilderRow>
    <BuilderRow label.translate="Required">
        <BuilderCheckbox t-if="!domState.elClassList.includes('s_website_form_model_required')" id="'required_opt'" preview="false" action="'toggleRequired'" actionParam="'s_website_form_required'"/>
    </BuilderRow>
    <BuilderRow label.translate="Max # of Files">
        <BuilderNumberInput id="'max_files_number_opt'" t-if="isMaxFilesVisible" title.translate="The maximum number of files that can be uploaded." dataAttributeAction="'maxFilesNumber'" default="1" applyTo="\`input[type='file']\`" step="1"/>
    </BuilderRow>
    <BuilderRow label.translate="Max File Size">
        <BuilderNumberInput title.translate="The maximum size (in MB) an uploaded file can have." dataAttributeAction="'maxFileSize'" applyTo="\`input[type='file']\`" default="1" unit="'MB'"/>
    </BuilderRow>
    <BuilderRow t-if="state.valueList" label="state.valueList.label">
        <BuilderList action="'setFormCustomFieldValueList'" addItemTitle="state.valueList.addItemTitle" itemShape="{ display_name: 'text', selected: state.valueList.checkType }" default="{ display_name: state.valueList.defaultItemName, selected: false }"/>
    </BuilderRow>
    <BuilderRow label.translate="Visibility">
        <BuilderSelect preview="false" action="'setVisibility'">
            <BuilderSelectItem actionValue="'visible'" classAction="''">Always Visible</BuilderSelectItem>
            <BuilderSelectItem actionValue="'hidden'" classAction="'s_website_form_field_hidden'">Hidden</BuilderSelectItem>
            <BuilderSelectItem id="'hidden_if_opt'" actionValue="'conditional'" classAction="'s_website_form_field_hidden_if d-none'">Visible only if</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <t t-if="isActiveItem('hidden_if_opt')">
        <div class="d-flex position-relative p-1 px-2 ps-3 hb-row">
            <BuilderSelect id="'hidden_condition_opt'" preview="false">

                <BuilderSelectItem t-foreach="state.conditionInputs" t-as="input" t-key="input.name" action="'setVisibilityDependency'" actionValue="input.name" t-out="input.textContent"/>
            </BuilderSelect>
            <BuilderSelect t-if="domStateDependency.type === 'checkbox' || domStateDependency.type === 'radio' || domStateDependency.nodeName === 'SELECT'" id="'hidden_condition_no_text_opt'" preview="false" dataAttributeAction="'visibilityComparator'">
                <BuilderSelectItem dataAttributeActionValue="'selected'">Is equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!selected'">Is not equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'contains'">Contains</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!contains'">Doesn't contain</BuilderSelectItem>
            </BuilderSelect>
            <BuilderSelect t-if="isTextConditionOperatorVisible" id="'hidden_condition_text_opt'" preview="false" dataAttributeAction="'visibilityComparator'">

                <BuilderSelectItem dataAttributeActionValue="'contains'">Contains</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!contains'">Doesn't contain</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'equal'">Is equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!equal'">Is not equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'set'">Is set</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!set'">Is not set</BuilderSelectItem>
            </BuilderSelect>
            <BuilderSelect t-if="domStateDependency.type === 'number'" id="'hidden_condition_num_opt'" preview="false" dataAttributeAction="'visibilityComparator'">

                <BuilderSelectItem dataAttributeActionValue="'equal'">Is equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!equal'">Is not equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'greater'">Is greater than</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'less'">Is less than</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'greater or equal'">Is greater than or equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'less or equal'">Is less than or equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'set'">Is set</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!set'">Is not set</BuilderSelectItem>
            </BuilderSelect>
            <BuilderSelect t-if="domStateDependency.hasDateTimePicker" id="'hidden_condition_time_comparators_opt'" preview="false" dataAttributeAction="'visibilityComparator'">

                <BuilderSelectItem dataAttributeActionValue="'dateEqual'">Is equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'date!equal'">Is not equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'after'">Is after</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'before'">Is before</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'equal or after'">Is after or equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'equal or before'">Is before or equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'set'">Is set</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!set'">Is not set</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'between'">Is between (included)</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!between'">Is not between (excluded)</BuilderSelectItem>
            </BuilderSelect>
            <BuilderSelect t-if="domStateDependency.type === 'file'" id="'hidden_condition_file_opt'" preview="false" dataAttributeAction="'visibilityComparator'">

                <BuilderSelectItem dataAttributeActionValue="'fileSet'">Is set</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!fileSet'">Is not set</BuilderSelectItem>
            </BuilderSelect>
            <BuilderSelect t-if="domStateDependency.isRecordField" id="'hidden_condition_record_opt'" dataAttributeAction="'visibilityComparator'" preview="false">
                <BuilderSelectItem dataAttributeActionValue="'selected'">Is equal to</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'!selected'">Is not equal to</BuilderSelectItem>
            </BuilderSelect>
        </div>
        <div class="d-flex position-relative p-1 px-2 ps-3 hb-row">
            <BuilderSelect t-if="state.conditionValueList and (domStateDependency.type === 'checkbox' || domStateDependency.type === 'radio' || domStateDependency.nodeName === 'SELECT')" id="'hidden_condition_no_text_opt'" preview="false" dataAttributeAction="'visibilityCondition'">

                <BuilderSelectItem t-foreach="state.conditionValueList" t-as="record" t-key="record.value" dataAttributeActionValue="record.value" t-out="record.textContent"/>
            </BuilderSelect>
            <BuilderSelect t-if="state.conditionValueList and domStateDependency.isRecordField" id="'hidden_condition_record_opt'" preview="false" dataAttributeAction="'visibilityCondition'">

                <BuilderSelectItem t-foreach="state.conditionValueList" t-as="record" t-key="record.value" dataAttributeActionValue="record.value" t-out="record.textContent"/>
            </BuilderSelect>
            <BuilderTextInput t-if="isTextConditionValueVisible" id="'hidden_condition_additional_text'" dataAttributeAction="'visibilityCondition'"/>
            <BuilderDateTimePicker t-if="domStateDependency.isFormDateTime and !['set', '!set'].includes(domState.elDataset.visibilityComparator)" id="'hidden_condition_additional_datetime'" dataAttributeAction="'visibilityCondition'" type="'datetime'"/>
            <BuilderDateTimePicker t-if="domStateDependency.isFormDate and !['set', '!set'].includes(domState.elDataset.visibilityComparator)" id="'hidden_condition_additional_date'" dataAttributeAction="'visibilityCondition'" type="'date'"/>
            <BuilderDateTimePicker t-if="domStateDependency.isFormDateTime and ['between', '!between'].includes(domState.elDataset.visibilityComparator)" id="'hidden_condition_datetime_between'" dataAttributeAction="'visibilityBetween'" type="'datetime'"/>
            <BuilderDateTimePicker t-if="domStateDependency.isFormDate and ['between', '!between'].includes(domState.elDataset.visibilityComparator)" id="'hidden_condition_date_between'" dataAttributeAction="'visibilityBetween'" type="'date'"/>
        </div>
    </t>
</t>

`);
registerTemplate("website.s_website_form_submit_option", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_submit_option" xml:space="preserve">
    <BuilderRow label.translate="Button Position">
        <BuilderSelect>
            <BuilderSelectItem classAction="'text-start s_website_form_no_submit_label'">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-center s_website_form_no_submit_label'">Center</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-end s_website_form_no_submit_label'">Right</BuilderSelectItem>
            <BuilderSelectItem classAction="''">Input Aligned</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.s_website_form_model_required_field_alert", `/website/static/src/builder/plugins/form/form_option.xml`, `<t t-name="website.s_website_form_model_required_field_alert" xml:space="preserve">
    <div class="alert alert-info">
        <span t-out="state.message"/>
    </div>
</t>

`);
registerTemplate("website.HeaderNavbarOption", `/website/static/src/builder/plugins/header_navbar_option.xml`, `<t t-name="website.HeaderNavbarOption" xml:space="preserve">
    <BuilderRow label.translate="Desktop Alignment" t-if="hasSomeViews(['website.template_header_hamburger', 'website.template_header_sidebar'])">
        <BuilderSelect action="'websiteConfig'">
            <BuilderSelectItem label.translate="Left" actionParam="{                     views: [],                     vars: {'hamburger-position': 'left'}                 }">Left</BuilderSelectItem>
            <BuilderSelectItem label.translate="Right" actionParam="{                     views: ['website.template_header_hamburger_align_right'],                     vars: {'hamburger-position': 'right'}                 }">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Mobile Alignment">
        <BuilderSelect action="'websiteConfig'" id="'header_mobile_alignment_opt'">
            <BuilderSelectItem label.translate="Right" actionParam="{                     views: [],                     vars: {'hamburger-position-mobile': 'right'}                 }">Right</BuilderSelectItem>
            <BuilderSelectItem label.translate="Left" actionParam="{                     views: ['website.template_header_mobile_position_left'],                     vars: {'hamburger-position-mobile': 'left'}                 }">Left</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Font">
        <BuilderFontFamilyPicker action="'customizeWebsiteVariable'" actionParam="'navbar-font'" valueParamName="'actionValue'"/>
    </BuilderRow>
    <BuilderRow label.translate="Format">
        <BuilderButtonGroup>
            <BuilderNumberInput action="'customizeWebsiteVariable'" actionParam="'header-font-size'" unit="'px'" saveUnit="'rem'"/>
            <BuilderColorPicker action="'customizeWebsiteVariable'" actionParam="'header-text-color'" enabledTabs="['solid', 'custom']"/>
            <BuilderSelect action="'websiteConfig'" t-if="!hasSomeViews(['website.template_header_sales_three', 'website.template_header_vertical'])" id="'header_alignment_opt'">
                <BuilderSelectItem actionParam="{                         views: [],                     }">
                <i class="fa fa-align-left fa-fw"/>
                </BuilderSelectItem>
                <BuilderSelectItem t-if="!hasSomeViews(['website.template_header_hamburger'])" actionParam="{                         views: ['website.template_header_mobile_align_center', 'website.template_header_hamburger_mobile_align_center', 'website.template_header_default_align_center', 'website.template_header_boxed_align_center', 'website.template_header_stretch_align_center', 'website.template_header_search_align_center', 'website.template_header_sales_one_align_center', 'website.template_header_sales_two_align_center', 'website.template_header_sales_four_align_center', 'website.template_header_sidebar_align_center'],                     }">
                <i class="fa fa-align-center fa-fw"/>
                </BuilderSelectItem>
                <BuilderSelectItem actionParam="{                         views: ['website.template_header_mobile_align_right', 'website.template_header_hamburger_mobile_align_right', 'website.template_header_default_align_right', 'website.template_header_boxed_align_right', 'website.template_header_stretch_align_right', 'website.template_header_search_align_right', 'website.template_header_sales_one_align_right', 'website.template_header_sales_two_align_right', 'website.template_header_sales_four_align_right', 'website.template_header_sidebar_align_right'],                     }">
                <i class="fa fa-align-right fa-fw"/>
                </BuilderSelectItem>
            </BuilderSelect>
        </BuilderButtonGroup>
    </BuilderRow>
    <BuilderRow label.translate="Link Style" t-if="!hasSomeViews(['website.template_header_hamburger', 'website.template_header_stretch', 'website.template_header_sidebar'])">
        <BuilderSelect action="'websiteConfig'">
            <BuilderSelectItem id="'option_header_navbar_links_default'" label.translate="Default" actionParam="{                     views: [],                     vars: {'header-links-style': 'default'},                 }">Default</BuilderSelectItem>
            <BuilderSelectItem id="'option_header_navbar_links_fill'" label.translate="Fill" actionParam="{                     views: ['website.header_navbar_pills_style'],                     vars: {'header-links-style': 'fill'},                 }">Fill</BuilderSelectItem>
            <BuilderSelectItem id="'option_header_navbar_links_outline'" label.translate="Outline" actionParam="{                     views: [],                     vars: {'header-links-style': 'outline'},                 }">Outline</BuilderSelectItem>
            <BuilderSelectItem id="'option_header_navbar_links_pills'" label.translate="Pill" actionParam="{                     views: ['website.header_navbar_pills_style'],                     vars: {'header-links-style': 'pills'},                 }">Pill</BuilderSelectItem>
            <BuilderSelectItem id="'option_header_navbar_block'" label.translate="Block" actionParam="{                     views: ['website.header_navbar_pills_style'],                     vars: {'header-links-style': 'block'},                 }">Block</BuilderSelectItem>
            <BuilderSelectItem id="'option_header_navbar_border_bottom'" label.translate="Border Bottom" actionParam="{                     views: [],                     vars: {'header-links-style': 'border-bottom'},                 }">Border Bottom</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Additional color">
        <BuilderSelect action="'websiteConfig'">
            <BuilderSelectItem label.translate="Default" actionParam="{views: []}">Default</BuilderSelectItem>
            <BuilderSelectItem label.translate="Primary" actionParam="{views: ['website.template_header_additional_color_primary']}">Primary</BuilderSelectItem>
            <BuilderSelectItem label.translate="Secondary" actionParam="{views: ['website.template_header_additional_color_secondary']}">Secondary</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Sub Menus" t-if="!hasSomeViews(['website.template_header_hamburger'])">
        <BuilderSelect action="'websiteConfig'">
            <BuilderSelectItem id="header_dropdown_on_click_opt" label.translate="On Click" actionParam="{views: []}" className="">On Click</BuilderSelectItem>
            <BuilderSelectItem label.translate="On Hover" actionParam="{views: ['website.header_hoverable_dropdown']}" className="'o_hoverable_dropdown'">On Hover</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

</t>

`);
registerTemplate("website.highlightConfigurator", `/website/static/src/builder/plugins/highlight/highlight_configurator.xml`, `<t t-name="website.highlightConfigurator" xml:space="preserve">
    <div class="hb-row d-flex position-relative pe-2">
        <div class="hb-row-label d-flex align-items-center">
            <label for="highlightPicker" class="text-nowrap text-truncate">Highlight</label>
        </div>
        <div class="hb-row-content d-flex">
            <button id="highlightPicker" title="highlightPicker" class="o-hb-btn btn btn-secondary" t-on-click="openHighlightPicker">
                <t t-if="this.state.highlightId === 'multiple'">
                    <span class="mx-3 d-inline-block"/>
                </t>
                <t t-else="" t-out="this.highlightIdToName[this.state.highlightId]"/>
            </button>
            <button class="btn btn-sm btn-light fa fa-trash" title="Reset" t-on-click="deleteHighlight"/>
        </div>
    </div>

    <div class="hb-row d-flex position-relative pe-2">
        <div class="hb-row-label d-flex align-items-center">
            <label for="colorButton" class="text-nowrap text-truncate">Color</label>
        </div>
        <div class="hb-row-content d-flex">
            <button id="colorButton" title="color" class="o_we_color_preview" t-attf-style="background-color:{{this.state.color}}" t-on-click="openColorPicker">
            </button>
        </div>
    </div>

    <div class="hb-row d-flex position-relative pe-2">
        <div class="hb-row-label d-flex align-items-center">
            <label for="thicknessInput" class="text-nowrap text-truncate">Thickness</label>
        </div>
        <div class="hb-row-content d-flex">
            <div class="d-flex flex-row flex-nowrap align-items-center o-hb-input-field-number justify-content-end">
                <input type="number" id="thicknessInput" class="o-hb-input-base o-hb-input-number text-end" t-att-value="this.state.thickness" t-on-input="onThicknessChange"/>
                <span class="o-hb-input-field-unit">px</span>
            </div>
        </div>
    </div>
</t>
`);
registerTemplate("website.highlightPicker", `/website/static/src/builder/plugins/highlight/highlight_picker.xml`, `<t t-name="website.highlightPicker" xml:space="preserve">
    <div t-ref="root" class="p-2 grid gap-0" style="overflow-y:scroll; overflow-x:hidden; --text-highlight-color: #000000; --text-highlight-width: .15em;">
        <t t-foreach="this.getHighlightFactory()" t-as="highlight" t-key="highlight">
                <div class="border g-col-4 position-relative" style="padding: 20px 5px; cursor: pointer" t-on-click="() =&gt; this.props.selectHighlight(highlight)" t-on-mouseenter="() =&gt; this.props.previewHighlight(highlight)" t-on-mouseleave="() =&gt; this.props.revertHighlight()">
                <div class="overflow-visible position-relative fw-bolder fs-3 text-center">
                    <span t-attf-class="o_text_highlight o_text_highlight_{{highlight}}">Text</span>
                </div>
            </div>
        </t>
    </div>
</t>
`);
registerTemplate("website.ImageGridOption", `/website/static/src/builder/plugins/image/image_grid_option.xml`, `<t t-name="website.ImageGridOption" xml:space="preserve">
    <BuilderRow t-if="state.isOptionActive" label.translate="Position">
        <BuilderSelect action="'setGridImageMode'">
            <BuilderSelectItem title.translate="Contain" actionValue="'contain'">Contain</BuilderSelectItem>
            <BuilderSelectItem title.translate="Cover" actionValue="'cover'">Cover</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.AddElementOption", `/website/static/src/builder/plugins/layout_option/add_element_option.xml`, `<t t-name="website.AddElementOption" xml:space="preserve">
    <BuilderRow label.translate="Add Elements" level="props.level" preview="false" applyTo="props.applyTo">
        <BuilderButton action="'addElText'" type="'success'">
            Text
        </BuilderButton>
        <BuilderButton action="'addElImage'" type="'success'">
            Image
        </BuilderButton>
        <BuilderButton action="'addElButton'" type="'success'">
            Button
        </BuilderButton>
    </BuilderRow>
</t>
`);
registerTemplate("website.GridColumnsOption", `/website/static/src/builder/plugins/layout_option/grid_column_option.xml`, `<t t-name="website.GridColumnsOption" xml:space="preserve">
    <BuilderRow t-if="this.state.isGridMode" label.translate="Padding (Y, X)">
        <BuilderNumberInput action="'setGridColumnsPadding'" actionParam="'--grid-item-padding-y'" unit="'px'"/>
        <BuilderNumberInput action="'setGridColumnsPadding'" actionParam="'--grid-item-padding-x'" unit="'px'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.LayoutOption", `/website/static/src/builder/plugins/layout_option/layout_option.xml`, `<t t-name="website.LayoutOption" xml:space="preserve">
    <BuilderRow label.translate="Layout">
       <BuilderButtonGroup preview="false">
            <BuilderButton action="'setGridLayout'" id="'grid_mode'">Grid</BuilderButton>
            <BuilderButton action="'setColumnLayout'" id="'column_mode'">Column</BuilderButton>
        </BuilderButtonGroup>
        <SelectNumberColumn t-if="isActiveItem('column_mode')"/>
    </BuilderRow>
    <t t-if="isActiveItem('grid_mode')">
        <AddElementOption level="1" applyTo="'.o_grid_mode'"/>
        <SpacingOption level="1" applyTo="'.o_grid_mode'"/>
    </t>
</t>

`);
registerTemplate("website.LayoutGridOption", `/website/static/src/builder/plugins/layout_option/layout_option.xml`, `<t t-name="website.LayoutGridOption" xml:space="preserve">
    <AddElementOption applyTo="'.o_grid_mode'"/>
    <SpacingOption applyTo="'.o_grid_mode'"/>
</t>

`);
registerTemplate("website.SpacingOption", `/website/static/src/builder/plugins/layout_option/spacing_option.xml`, `<t t-name="website.SpacingOption" xml:space="preserve">
    <BuilderRow label.translate="Spacing (Y, X)" level="props.level" applyTo="props.applyTo">
        <BuilderNumberInput action="'setGridSpacing'" actionParam="'row-gap'" unit="'px'" default="0"/>
        <BuilderNumberInput action="'setGridSpacing'" actionParam="'column-gap'" unit="'px'" default="0" max="60"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.AccordionOption", `/website/static/src/builder/plugins/options/accordion_option.xml`, `<t t-name="website.AccordionOption" xml:space="preserve">
    <BuilderRow label.translate="Items">
        <BuilderButton action="'addItem'" actionParam="'.accordion &gt; .accordion-item:last-of-type'" preview="false" className="'o_we_bg_brand_primary'">
            Add New
        </BuilderButton>
    </BuilderRow>

    <BuilderContext applyTo="'.accordion'">
        <BuilderRow label.translate="Style">
            <BuilderSelect>
                <BuilderSelectItem id="'accordion_style_boxed_opt'" title.translate="Boxed" classAction="''">Boxed</BuilderSelectItem>
                <BuilderSelectItem title.translate="Highlight Active" classAction="'s_accordion_highlight'">Highlight Active</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Hide Borders" level="1" t-if="this.isActiveItem('accordion_style_boxed_opt')">
            <BuilderCheckbox classAction="'accordion-flush'"/>
        </BuilderRow>
        <BuilderRow label.translate="Round Corners" level="1">
            <BuilderNumberInput applyTo="'.accordion-item'" styleAction="'--accordion-border-radius'" unit="'px'" min="0" composable="true"/>
        </BuilderRow>

        <BuilderRow label.translate="Icons">
            <BuilderSelect action="'customAccordionIcon'">
                <BuilderSelectItem title.translate="Default" classAction="''" actionValue="''">Default</BuilderSelectItem>
                <BuilderSelectItem title.translate="Side / bottom" classAction="'o_icons_side_to_bottom'" actionValue="''">Side / bottom</BuilderSelectItem>
                <BuilderSelectItem title.translate="Plus / minus" classAction="'o_custom_icons o_icons_plus_to_minus'" actionValue="'plusToMinus'">Plus / minus</BuilderSelectItem>
                <BuilderSelectItem title.translate="Custom" classAction="'o_custom_icons'" actionValue="'custom'" actionParam="{ selectIcons: true }" id="'accordion_icons_custom_opt'">Custom</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Active" level="1" t-if="this.isActiveItem('accordion_icons_custom_opt')">
            <BuilderButton action="'defineCustomIcon'" actionParam="{ isActiveIcon: true }" preview="false">
                <i class="fa fa-fw fa-refresh me-1"/> Replace Icon
            </BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Inactive" level="1" t-if="this.isActiveItem('accordion_icons_custom_opt')">
            <BuilderButton action="'defineCustomIcon'" actionParam="{ isActiveIcon: false }" preview="false">
                <i class="fa fa-fw fa-refresh me-1"/> Replace Icon
            </BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Transition" level="1" t-if="this.isActiveItem('accordion_icons_custom_opt')">
            <BuilderSelect>
                <BuilderSelectItem title.translate="None" classAction="''">None</BuilderSelectItem>
                <BuilderSelectItem title.translate="Fade" classAction="'o_transition o_transition_fade'">Fade</BuilderSelectItem>
                <BuilderSelectItem title.translate="Scale" classAction="'o_transition o_transition_scale'">Scale</BuilderSelectItem>
                <BuilderSelectItem title.translate="Translate" classAction="'o_transition o_transition_translate'">Translate</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Position" level="1" applyTo="'.accordion-header'">
            <BuilderButtonGroup>
                <BuilderButton title.translate="Left" classAction="'justify-content-end flex-row-reverse o_icons_position_reversed'" iconImg="'/website/static/src/img/snippets_options/pos_left.svg'"/>
                <BuilderButton title.translate="Right" classAction="'justify-content-between'" iconImg="'/website/static/src/img/snippets_options/pos_right.svg'"/>
            </BuilderButtonGroup>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.AccordionItemOption", `/website/static/src/builder/plugins/options/accordion_option.xml`, `<t t-name="website.AccordionItemOption" xml:space="preserve">
    <BuilderRow label.translate="Colors">

        <BuilderColorPicker styleAction="'background-color'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.animateOnScrollInOut", `/website/static/src/builder/plugins/options/animate_option.xml`, `<t t-name="website.animateOnScrollInOut" xml:space="preserve">
    <BuilderButtonGroup t-if="isActiveItem('animation_on_scroll_opt')" preview="false" action="'forceAnimation'">
        <BuilderButton classAction="''">In</BuilderButton>
        <BuilderButton classAction="'o_animate_out'">Out</BuilderButton>
    </BuilderButtonGroup>
</t>

`);
registerTemplate("website.AnimateOption", `/website/static/src/builder/plugins/options/animate_option.xml`, `<t t-name="website.AnimateOption" xml:space="preserve">
    <t t-if="this.state.isOptionActive">
        <BuilderRow label.translate="Animation">
            <BuilderSelect t-if="!this.isActiveItem('transformImage')" preview="false">
                <BuilderSelectItem action="'setAnimationMode'" actionValue="''" classAction="''" id="'no_animation_opt'" t-if="!props.requireAnimation">None</BuilderSelectItem>
                <BuilderSelectItem action="'setAnimationMode'" actionValue="'onAppearance'" actionParam="{forceAnimation: true}" classAction="'o_animate'" id="'animation_on_appearance_opt'">On Appearance</BuilderSelectItem>
                <BuilderSelectItem action="'setAnimationMode'" actionValue="'onScroll'" classAction="'o_animate o_animate_on_scroll'" actionParam="{forceAnimation: true}" id="'animation_on_scroll_opt'" t-if="!state.isLimitedEffect">On Scroll</BuilderSelectItem>
                <BuilderSelectItem action="'setAnimationMode'" actionValue="'onHover'" classAction="'o_animate_on_hover'" id="'animation_on_hover_opt'" t-if="state.canHover">On Hover</BuilderSelectItem>
            </BuilderSelect>
            <t t-if="!!props.slots?.animationRowTrailing" t-slot="animationRowTrailing"/>
            <t t-else="" t-call="website.animateOnScrollInOut"/> 
        </BuilderRow>
        <BuilderRow label.translate="On Scroll" level="1" t-if="!!props.slots?.animationRowTrailing">
            <t t-call="website.animateOnScrollInOut"/>
        </BuilderRow>
        <BuilderRow label.translate="Effect" level="1">
            <BuilderSelect id="'animation_effect_opt'" t-if="state.hasAnimateClass and !this.isActiveItem('animation_on_hover_opt')" action="'setAnimationEffect'" actionParam="''">

                <t t-foreach="state.effectItems" t-as="item" t-key="item.className">
                    <BuilderSelectItem actionValue="item.className" actionParam="item.directionClass" t-out="item.label" t-if="!item.check || item.check()"/>
                </t>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Direction" level="1" t-if="state.hasAnimateClass and !state.isLimitedEffect">
            <BuilderSelect id="'animation_direction_opt'" action="'forceAnimation'">
                <t t-foreach="state.directionItems" t-as="item" t-key="item.className">
                    <BuilderSelectItem classAction="item.className" t-out="item.label"/>
                </t>
            </BuilderSelect>
        </BuilderRow>

        <BuilderRow label.translate="Trigger" level="1">
            <BuilderSelect t-if="this.isActiveItem('animation_on_appearance_opt') and !state.isInDropdown">
                <BuilderSelectItem classAction="''">First Time Only</BuilderSelectItem>
                <BuilderSelectItem classAction="'o_animate_both_scroll'">Every Time</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>

        <BuilderRow label.translate="Intensity" level="1" t-if="state.showIntensity">
            <BuilderRange action="'setAnimateIntensity'" preview="false" min="1" max="100" step="1" displayRangeValue="true"/>
        </BuilderRow>

        <BuilderRow label.translate="Scroll Zone" level="1" t-if="this.isActiveItem('animation_on_scroll_opt')" preview="false">
            <BuilderNumberInput unit="'%'" dataAttributeAction="'scrollZoneStart'" action="'forceAnimation'"/>
            <span class="mx-2">to</span>
            <BuilderNumberInput unit="'%'" dataAttributeAction="'scrollZoneEnd'" action="'forceAnimation'"/>
        </BuilderRow>
        <BuilderContext t-if="this.isActiveItem('animation_on_appearance_opt')">

            <BuilderRow label.translate="Start After" level="1">
                <BuilderNumberInput styleAction="'animation-delay'" action="'forceAnimation'" default="0" unit="'s'"/>
            </BuilderRow>

            <BuilderRow label.translate="Duration" level="1">
                <BuilderNumberInput styleAction="'animation-duration'" action="'forceAnimation'" default="0.4" unit="'s'"/>
            </BuilderRow>
        </BuilderContext>
    </t>
</t>


`);
registerTemplate("website_builder.AnimateText", `/website/static/src/builder/plugins/options/animate_text.xml`, `<t t-name="website_builder.AnimateText" xml:space="preserve">
        <button t-ref="root" class="btn btn-light" t-att-class="{ active: state.isActive }" t-att-title="props.title" t-att="{ disabled: state.isDisabled }" t-on-click="onClick">
            <span class="fa fa-play fa-fw"/>
        </button>
    </t>

    `);
registerTemplate("website_builder.AnimateTextPopover", `/website/static/src/builder/plugins/options/animate_text.xml`, `<t t-name="website_builder.AnimateTextPopover" xml:space="preserve">
        <div class="o_animate_text_popover p-2" data-prevent-closing-overlay="true" t-ref="content">
            <AnimateOption t-props="props.animateOptionProps">
                <t t-set-slot="animationRowTrailing">
                    <button class="btn btn-sm btn-light fa fa-trash" title="Reset" t-on-click="props.onReset"/>
                </t>
            </AnimateOption>
        </div>
    </t>
`);
registerTemplate("website.WebsiteBackgroundOption", `/website/static/src/builder/plugins/options/background_option.xml`, `<t t-name="website.WebsiteBackgroundOption" t-inherit="website.BackgroundOption" xml:space="preserve">
    <xpath expr="//BuilderButton[@action=&quot;'toggleBgImage'&quot;]" position="after">
        <t t-if="props.withVideos">
            <BuilderButton title.translate="Video" className="'fa fa-fw fa-film px-2'" preview="false" action="'toggleBgVideo'" id="'toggle_bg_video_id'"/>
        </t>
    </xpath>

    <xpath expr="//BackgroundShapeOption" position="before">
        <ParallaxOption/>
        <t t-call="website.BackgroundVideoOption"/>
    </xpath>
    <xpath expr="//BackgroundImageOption" position="replace">
        <BuilderContext applyTo="this.websiteBgOptionDomState.applyTo">
            <BackgroundImageOption/>
        </BuilderContext>
    </xpath>
    <xpath expr="//ImageFilterOption" position="replace">
        <BuilderContext applyTo="this.websiteBgOptionDomState.applyTo">
            <ImageFilterOption level="2"/>
        </BuilderContext>
    </xpath>
    <xpath expr="//ImageFormatOption" position="replace">
        <BuilderContext applyTo="this.websiteBgOptionDomState.applyTo">
            <ImageFormatOption level="2" computeMaxDisplayWidth="this.computeMaxDisplayWidth"/>
        </BuilderContext>
    </xpath>
    <xpath expr="//BuilderButton[@action=&quot;'toggleBgImage'&quot;]" position="attributes">
        <attribute name="applyTo">this.websiteBgOptionDomState.applyTo</attribute>
    </xpath>
    <xpath expr="//BackgroundPositionOption" position="replace">
        <BuilderContext applyTo="this.websiteBgOptionDomState.applyTo">
            <BackgroundPositionOption/>
        </BuilderContext>
    </xpath>

</t>

`);
registerTemplate("website.BackgroundVideoOption", `/website/static/src/builder/plugins/options/background_video_option.xml`, `<t t-name="website.BackgroundVideoOption" xml:space="preserve">
    <BuilderRow t-if="isActiveItem('toggle_bg_video_id')" label.translate="Video" level="1" preview="false">
        <BuilderButton title.translate="Edit video" type="'success'" action="'replaceBgVideo'">Replace</BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.BadgeOption", `/website/static/src/builder/plugins/options/badge_option.xml`, `<t t-name="website.BadgeOption" xml:space="preserve">
    <BuilderRow label.translate="Style">
        <BuilderSelect>
            <BuilderSelectItem classAction="'text-bg-primary'">Primary</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-secondary'">Secondary</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-success'">Success</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-info'">Info</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-warning'">Warning</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-danger'">Danger</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-light'">Light</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-bg-dark'">Dark</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.BlockquoteOption", `/website/static/src/builder/plugins/options/blockquote_option.xml`, `<t t-name="website.BlockquoteOption" xml:space="preserve">

    <BuilderRow label.translate="Edge Spacing">
        <BuilderRange action="'setClassRange'" actionParam="['p-1','p-2','p-3','p-4','p-5']" max="4"/>
    </BuilderRow>
    <BuilderRow label.translate="Decoration">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_blockquote_default'">None</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_blockquote_with_line'" id="'blockquote_with_line_opt'">Left line</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_blockquote_with_icon'">Icon</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Style" applyTo="'.s_blockquote_line_elt'" level="1" t-if="this.isActiveItem('blockquote_with_line_opt')">
        <BuilderNumberInput styleAction="'width'" min="0" unit="'px'"/>
        <BuilderColorPicker styleAction="'background-color'" enabledTabs="['solid', 'custom', 'gradient']"/>
    </BuilderRow>

    <BuilderRow label.translate="Author Alignment" applyTo="'.s_blockquote_infos'">
        <BuilderSelect>
            <BuilderSelectItem classAction="'flex-row align-items-start justify-content-start text-start'">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'flex-column align-items-center text-center'">Center</BuilderSelectItem>
            <BuilderSelectItem classAction="'flex-row-reverse align-items-start justify-content-start text-end'">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BorderConfigurator label.translate="Border"/>
    <ShadowOption/>
</t>

`);
registerTemplate("website.BorderOption", `/website/static/src/builder/plugins/options/border_option.xml`, `<t t-name="website.BorderOption" xml:space="preserve">
    <BorderConfigurator label.translate="Border"/>
    <ShadowOption/>
</t>

`);
registerTemplate("website.CardImageAlignmentOption", `/website/static/src/builder/plugins/options/card_image_alignment_option.xml`, `<t t-name="website.CardImageAlignmentOption" xml:space="preserve">
    <BuilderRow label="props.label" level="props.level" t-if="state.show">
        <BuilderRange styleAction="'--card-img-ratio-align'" action="'alignCoverImage'" actionParam="state.imageToWrapperRatio gt 1 ? 'horizontal' : 'vertical'" min="0" max="100" unit="'%'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.CardImageOption", `/website/static/src/builder/plugins/options/card_image_option.xml`, `<t t-name="website.CardImageOption" xml:space="preserve">
    <BuilderRow label.translate="Cover Image">
        <t t-if="state.hasCoverImage">

            <BuilderButtonGroup action="'setCoverImagePosition'">
                <BuilderButton id="'card_img_top_opt'" classAction="'o_card_img_top'" actionParam="'card-img-top'" iconImg="'/website/static/src/img/snippets_options/pos_top.svg'" title.translate="Top"/>
                <BuilderButton classAction="'o_card_img_horizontal flex-lg-row'" actionParam="'rounded-start'" iconImg="'/website/static/src/img/snippets_options/pos_left.svg'" title.translate="Left"/>
                <BuilderButton classAction="'o_card_img_horizontal flex-lg-row-reverse'" actionParam="'rounded-end'" iconImg="'/website/static/src/img/snippets_options/pos_right.svg'" title.translate="Right"/>
            </BuilderButtonGroup>


            <BuilderButton action="'removeCoverImage'" preview="false" icon="'fa-trash-o'" className="'o_we_bg_danger'" title.translate="Remove Cover"/>
        </t>
        <t t-else="">

            <BuilderButton action="'addCoverImage'" preview="false" className="'o_we_bg_success'" label.translate="Add" title.translate="Add"/>
        </t>
    </BuilderRow>

    <t t-if="state.hasCoverImage">

        <BuilderRow label.translate="Ratio" level="1">
            <BuilderSelect applyTo="'.o_card_img_wrapper'">
                <BuilderSelectItem id="'card_img_default_ratio_option'" classAction="''">Image default</BuilderSelectItem>
                <BuilderSelectItem classAction="'ratio ratio-1x1'">Square</BuilderSelectItem>
                <t t-if="isActiveItem('card_img_top_opt')">
                    <BuilderSelectItem classAction="'ratio ratio-4x3'">Landscape - 4/3</BuilderSelectItem>
                    <BuilderSelectItem classAction="'ratio ratio-16x9'">Wide - 16/9</BuilderSelectItem>
                    <BuilderSelectItem classAction="'ratio ratio-21x9'">Ultrawide - 21/9</BuilderSelectItem>
                    <BuilderSelectItem id="'image_ratio_custom_opt'" classAction="'ratio o_card_img_ratio_custom'">
                        Custom
                    </BuilderSelectItem>
                </t>
            </BuilderSelect>
        </BuilderRow>


        <BuilderRow t-if="isActiveItem('image_ratio_custom_opt')" label.translate="Custom Ratio" level="2">
            <BuilderRange styleAction="'--card-img-aspect-ratio'" min="8" max="132" step="4" displayRangeValue="true" unit="'%'"/>
        </BuilderRow>


        <BuilderRow t-if="!isActiveItem('card_img_top_opt')" label.translate="Width" level="1">

            <t t-set="colSize" t-value="8.33333333"/>
            <BuilderRange styleAction="'--card-img-size-h'" min="colSize" max="colSize * 11" step="colSize" unit="'%'"/>
        </BuilderRow>


        <CardImageAlignmentOption label.translate="Alignment" level="1"/>
    </t>
</t>

`);
registerTemplate("website.s_card.imageWrapper", `/website/static/src/builder/plugins/options/card_image_option.xml`, `<t t-name="website.s_card.imageWrapper" xml:space="preserve">
    <figure class="o_card_img_wrapper ratio ratio-16x9 mb-0">
        <img class="o_card_img card-img-top object-fit-cover" src="/web/image/website.s_card_default_image_1"/>
    </figure>
</t>

`);
registerTemplate("website.CardOption", `/website/static/src/builder/plugins/options/card_option.xml`, `<t t-name="website.CardOption" xml:space="preserve">
    <WebsiteBackgroundOption withColors="true" withImages="true" withShapes="true" withColorCombinations="true"/>
    <BorderConfigurator label.translate="Border"/>
    <ShadowOption/>
    <t t-if="!this.props.disableWidth" t-call="website.CardWidthOption"/>
    <CardImageOption/>
</t>

`);
registerTemplate("website.CardWidthOption", `/website/static/src/builder/plugins/options/card_width_option.xml`, `<t t-name="website.CardWidthOption" xml:space="preserve">
    <BuilderRow label.translate="Card Width">
        <BuilderRange id="'card_width'" action="'setCardWidth'" actionParam="'max-width'" min="8" max="100" displayRangeValue="true" unit="'%'"/>
    </BuilderRow>
    <BuilderRow t-if="getItemValue('card_width') !== '100%'" label.translate="Alignment" level="1">
        <BuilderButtonGroup action="'setCardAlignment'">
            <BuilderButton icon="'fa-align-left'" title.translate="Left" actionParam="'me-auto'"/>
            <BuilderButton icon="'fa-align-center'" title.translate="Center" actionParam="'mx-auto'"/>
            <BuilderButton icon="'fa-align-right'" title.translate="Right" actionParam="'ms-auto'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.CarouselCardsItemOption", `/website/static/src/builder/plugins/options/carousel_cards_item_option.xml`, `<t t-name="website.CarouselCardsItemOption" xml:space="preserve">
    <CardImageAlignmentOption label.translate="Image Alignment"/>
</t>

`);
registerTemplate("website.ChartOption", `/website/static/src/builder/plugins/options/chart_option.xml`, `<t t-name="website.ChartOption" xml:space="preserve">
    <BuilderRow label.translate="Background">
        <t t-call="html_builder.BackgroundColorWidgetOption"/>
    </BuilderRow>
    <BuilderRow label.translate="Type">
        <BuilderSelect action="'setChartType'">
            <BuilderSelectItem actionValue="'bar'" id="'bar_chart_opt'">Bar Vertical</BuilderSelectItem>
            <BuilderSelectItem actionValue="'horizontalBar'" id="'horizontal_bar_chart_opt'">Bar Horizontal</BuilderSelectItem>
            <BuilderSelectItem actionValue="'line'" id="'line_chart_opt'">Line</BuilderSelectItem>
            <BuilderSelectItem actionValue="'pie'">Pie</BuilderSelectItem>
            <BuilderSelectItem actionValue="'doughnut'">Doughnut</BuilderSelectItem>
            <BuilderSelectItem actionValue="'radar'">Radar</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow t-if="domState.data.datasets.length &gt; 1" label.translate="Stacked">
        <BuilderCheckbox t-if="isActiveItem('bar_chart_opt') or isActiveItem('horizontal_bar_chart_opt') or isActiveItem('line_chart_opt')" dataAttributeAction="'stacked'" dataAttributeActionValue="'true'"/>
    </BuilderRow>
    <BuilderRow label.translate="Legend">
        <BuilderSelect dataAttributeAction="'legendPosition'">
            <BuilderSelectItem dataAttributeActionValue="'none'">None</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'top'">Top</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'left'">Left</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'bottom'">Bottom</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'right'">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Tooltip">
        <BuilderCheckbox dataAttributeAction="'tooltipDisplay'" dataAttributeActionValue="'true'"/>
    </BuilderRow>

    <table class="o_builder_matrix ms-3" t-on-mouseover="onTableMouseover" t-on-mouseout="onTableMouseoutOrFocusout" t-on-focusin="onTableFocusin" t-on-focusout="onTableMouseoutOrFocusout">
        <thead>
            <tr>
                <th/> 
                <t t-foreach="domState.data.datasets" t-as="dataset" t-key="dataset.key">
                    <th>
                        <BuilderTextInput action="'updateDatasetLabel'" actionParam="dataset.key" style="domState.isPieChart ? '' : ('border: 2px solid ' + props.getColor(dataset.backgroundColor) || props.getColor(dataset.borderColor))"/>
                    </th>
                </t>

                <th>
                    <BuilderButton action="'addColumn'" className="'add_column fa fa-fw fa-plus text-success d-inline-block'" title.translate="Add Dataset" type="' '" preview="false"/>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr t-foreach="domState.data.labels" t-as="label" t-key="label_index">
                <th>
                    <BuilderTextInput action="'updateLabelName'" actionParam="label_index"/>
                </th>

                <t t-foreach="domState.data.datasets" t-as="dataset" t-key="dataset.key">
                    <t t-set="backgroundColor" t-value="props.getColor(dataset.backgroundColor[label_index])"/>
                    <t t-set="borderColor" t-value="props.getColor(dataset.borderColor[label_index])"/>
                    <td>
                        <BuilderNumberInput action="'updateDatasetValue'" actionParam="{ datasetKey: dataset.key, valueIndex: label_index }" style="domState.isPieChart ? ('border: 2px solid ' + backgroundColor || borderColor) : ''"/>
                    </td>
                </t>

                <td>
                    <BuilderButton t-if="domState.data.labels.length &gt; 1" action="'removeRow'" actionParam="label_index" className="'o_builder_matrix_remove_row visually-hidden-focusable text-danger fa fa-fw fa-minus'" title.translate="Remove Row" type="' '" preview="false"/>
                </td>
            </tr>

            <tr>
                <th>
                    <BuilderButton action="'addRow'" className="'add_row fa fa-fw fa-plus text-success d-inline-block'" title.translate="Add Row" type="' '" preview="false"/>
                </th>
                <t t-foreach="domState.data.datasets" t-as="dataset" t-key="dataset.key">
                    <td>
                        <BuilderButton t-if="domState.data.datasets.length &gt; 1" action="'removeColumn'" actionParam="dataset.key" className="'o_builder_matrix_remove_col visually-hidden-focusable text-danger fa fa-fw fa-minus'" title.translate="Remove Column" type="' '" preview="false"/>
                    </td>
                </t>
                <td/> 
            </tr>
        </tbody>
    </table>

    <BuilderRow t-if="state.currentCell.datasetIndex or state.currentCell.datasetIndex === 0" t-key="window.String(state.currentCell.datasetIndex) + window.String(state.currentCell.dataIndex)" label="state.currentCell.backgroundLabel">
        <BuilderColorPicker getUsedCustomColors.bind="getColorPalette" action="'colorChange'" actionParam="{                 type: 'backgroundColor',                 datasetIndex: state.currentCell.datasetIndex,                 dataIndex: state.currentCell.dataIndex,                 backgroundColor: state.currentCell.backgroundColor,             }"/>
    </BuilderRow>
    <BuilderRow t-if="state.currentCell.datasetIndex or state.currentCell.datasetIndex === 0" t-key="window.String(state.currentCell.datasetIndex) + window.String(state.currentCell.dataIndex)" label="state.currentCell.borderLabel">
        <BuilderColorPicker getUsedCustomColors.bind="getColorPalette" action="'colorChange'" actionParam="{                 type: 'borderColor',                 datasetIndex: state.currentCell.datasetIndex,                 dataIndex: state.currentCell.dataIndex,                 borderColor: state.currentCell.borderColor,             }"/>
    </BuilderRow>
    <BuilderRow t-if="isActiveItem('bar_chart_opt') or isActiveItem('horizontal_bar_chart_opt') or isActiveItem('line_chart_opt')" label.translate="Min Axis">
        <BuilderNumberInput step="1" action="'setMinMax'" actionParam="'min'"/>
    </BuilderRow>
    <BuilderRow t-if="isActiveItem('bar_chart_opt') or isActiveItem('horizontal_bar_chart_opt') or isActiveItem('line_chart_opt')" label.translate="Max Axis">
        <BuilderNumberInput step="1" action="'setMinMax'" actionParam="'max'"/>
    </BuilderRow>
    <BuilderRow label.translate="Border Width">
        <BuilderNumberInput dataAttributeAction="'borderWidth'" default="2" unit="'px'" saveUnit="''" min="0"/>
    </BuilderRow>
</t>
`);
registerTemplate("website.ControllerPageListingLayoutOption", `/website/static/src/builder/plugins/options/controller_page_listing_layout_option.xml`, `<t t-name="website.ControllerPageListingLayoutOption" xml:space="preserve">
    <BuilderRow label.translate="Default Layout" preview="false">
        <BuilderSelect action="'listingLayout'">
            <BuilderSelectItem actionValue="'grid'" id="'grid_view_opt'">Grid</BuilderSelectItem>
            <BuilderSelectItem actionValue="'list'" id="'list_view_opt'">List</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.CookiesBarOption", `/website/static/src/builder/plugins/options/cookies_bar_option.xml`, `<t t-name="website.CookiesBarOption" xml:space="preserve">
<BuilderRow label.translate="Layout">
    <BuilderSelect action="'selectLayout'">
        <BuilderSelectItem classAction="'o_cookies_discrete'" actionValue="'discrete'">
            Discrete
        </BuilderSelectItem>
        <BuilderSelectItem classAction="'o_cookies_classic'" actionValue="'classic'">
            Classic
        </BuilderSelectItem>
        <BuilderSelectItem classAction="'o_cookies_popup'" actionValue="'popup'" id="'layout_popup_opt'">
            Popup
        </BuilderSelectItem>
    </BuilderSelect>
</BuilderRow>
</t>
`);
registerTemplate("website.CountdownOption", `/website/static/src/builder/plugins/options/countdown_option.xml`, `<t t-name="website.CountdownOption" xml:space="preserve">
    <BuilderContext action="'reloadCountdown'"> 
    <BuilderRow label.translate="Due Date">
        <BuilderDateTimePicker dataAttributeAction="'endTime'"/>
    </BuilderRow>
    <BuilderRow label.translate="At The End">
        <BuilderSelect preview="false" action="'setEndAction'">
            <BuilderSelectItem actionValue="'nothing'" id="'no_end_action_opt'">Nothing</BuilderSelectItem>
            <BuilderSelectItem actionValue="'redirect'" id="'redirect_end_action_opt'">Redirect</BuilderSelectItem>
            <BuilderSelectItem actionValue="'message_no_countdown'">Show Message and hide countdown</BuilderSelectItem>
            <BuilderSelectItem actionValue="'message'">Show Message and keep countdown</BuilderSelectItem>
        </BuilderSelect>
        <BuilderButton title.translate="The message will be visible once the countdown ends" t-if="!this.isActiveItem('no_end_action_opt') and !this.isActiveItem('redirect_end_action_opt')" action="'previewEndMessage'" preview="false" icon="'fa-eye'" classActive="'text-primary'"/>
    </BuilderRow>
    <BuilderRow t-if="this.isActiveItem('redirect_end_action_opt')" label.translate="URL">
            <WebsiteUrlPicker placeholder.translate="e.g. /my-awesome-page" dataAttributeAction="'redirectUrl'"/>
    </BuilderRow>
    <BuilderRow label.translate="Size">
        <BuilderSelect dataAttributeAction="'size'">
            <BuilderSelectItem dataAttributeActionValue="'80'">Small</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'120'">Medium</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'175'">Large</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Display">
        <BuilderSelect dataAttributeAction="'display'">
            <BuilderSelectItem dataAttributeActionValue="'d'">D</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'dhm'">D - H - M</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'dhms'">D - H - M - S</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Text Color">
        <BuilderColorPicker dataAttributeAction="'textColor'" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>

    <BuilderRow label.translate="Layout">
        <BuilderSelect action="'setLayout'">
            <BuilderSelectItem actionValue="'circle'" id="'circle_layout_opt'">Circle</BuilderSelectItem>
            <BuilderSelectItem actionValue="'boxes'" id="'boxes_layout_opt'">Boxes</BuilderSelectItem>
            <BuilderSelectItem actionValue="'clean'">Clean</BuilderSelectItem>
            <BuilderSelectItem actionValue="'text'">Text Inline</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <t t-if="this.isActiveItem('circle_layout_opt') or this.isActiveItem('boxes_layout_opt')">
        <BuilderRow label.translate="Layout Background">
            <BuilderSelect dataAttributeAction="'layoutBackground'">
                <BuilderSelectItem dataAttributeActionValue="'inner'">Inner</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'plain'">Plain</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'none'" id="'no_background_layout_opt'">None</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Layout Background Color" t-if="!this.isActiveItem('no_background_layout_opt')">
            <BuilderColorPicker dataAttributeAction="'layoutBackgroundColor'" enabledTabs="['solid', 'custom']"/>
        </BuilderRow>

        <BuilderRow label.translate="Progress Bar Style">
            <BuilderSelect dataAttributeAction="'progressBarStyle'">
                <BuilderSelectItem dataAttributeActionValue="'surrounded'">Surrounded</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'disappear'">Disappearing</BuilderSelectItem>
                <BuilderSelectItem dataAttributeActionValue="'none'" id="'no_progressbar_style_opt'">None</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>

        <t t-if="!this.isActiveItem('no_progressbar_style_opt')">
            <BuilderRow label.translate="Progress Bar Weight">
                <BuilderSelect dataAttributeAction="'progressBarWeight'">
                    <BuilderSelectItem dataAttributeActionValue="'thin'">Thin</BuilderSelectItem>
                    <BuilderSelectItem dataAttributeActionValue="'thick'">Thick</BuilderSelectItem>
                </BuilderSelect>
            </BuilderRow>
            <BuilderRow label.translate="Progress Bar Color" t-if="!this.isActiveItem('no_progressbar_style_opt')">
                <BuilderColorPicker dataAttributeAction="'progressBarColor'" enabledTabs="['solid', 'custom']"/>
            </BuilderRow>
        </t>
    </t>
    </BuilderContext>
</t>

`);
registerTemplate("website.s_countdown.end_message", `/website/static/src/builder/plugins/options/countdown_option.xml`, `<t t-name="website.s_countdown.end_message" xml:space="preserve">
    <div class="s_countdown_end_message d-none">
        <div class="oe_structure">
            <section class="s_picture pt64 pb64" data-snippet="s_picture">
                <div class="container">
                    <h2 style="text-align: center;">Happy Odoo Anniversary!</h2>
                    <p style="text-align: center;">As promised, we will offer 4 free tickets to our next summit.<br/>Visit our Facebook page to know if you are one of the lucky winners.</p>
                    <div class="row s_nb_column_fixed">
                        <div class="col-lg-12" style="text-align: center;">
                            <figure class="figure">
                                <img src="/web/image/website.library_image_18" class="figure-img img-fluid rounded" alt="Countdown is over - Firework"/>
                            </figure>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</t>

`);
registerTemplate("website.CoverPropertiesOption", `/website/static/src/builder/plugins/options/cover_properties_option.xml`, `<t t-name="website.CoverPropertiesOption" xml:space="preserve">
<BuilderContext action="'markCoverPropertiesToBeSaved'">
    <BuilderRow label.translate="Background">

        <BuilderColorPicker title.translate="Color" styleAction="'background-color'"/>
        <BuilderButtonGroup>
            <BuilderButton action="'setCoverBackground'" actionParam="true" preview="false" title.translate="Image" className="'ms-auto fa fa-fw fa-camera'"/>
            <BuilderButton action="'setCoverBackground'" actionParam="false" title.translate="None" className="'fa fa-fw fa-ban'"/>
        </BuilderButtonGroup>
    </BuilderRow>

    <BuilderRow label.translate="Size" t-if="this.state.useSize">
        <BuilderSelect>
            <BuilderSelectItem t-foreach="coverSizeClasses" t-as="className" t-key="className" classAction="className" t-out="coverSizeLabel(className)"/>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Filter Intensity" applyTo="':scope &gt; .o_record_cover_filter'">
        <BuilderSelect>
            <BuilderSelectItem styleAction="'opacity'" styleActionValue="'0'" classAction="''">None</BuilderSelectItem>
            <BuilderSelectItem styleAction="'opacity'" styleActionValue="'0.2'" classAction="'oe_black'">Low</BuilderSelectItem>
            <BuilderSelectItem styleAction="'opacity'" styleActionValue="'0.4'" classAction="'oe_black'">Medium</BuilderSelectItem>
            <BuilderSelectItem styleAction="'opacity'" styleActionValue="'0.6'" classAction="'oe_black'">High</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Text Alignment" t-if="this.state.useTextAlign">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-center'">Centered</BuilderSelectItem>
            <BuilderSelectItem classAction="'text-end'">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</BuilderContext>
</t>

`);
registerTemplate("website.CTABadgeOption", `/website/static/src/builder/plugins/options/cta_badge_option.xml`, `<t t-name="website.CTABadgeOption" xml:space="preserve">
    <BorderConfigurator label.translate="Border"/>
    <ShadowOption/>
</t>

`);
registerTemplate("website.DotColorOption", `/website/static/src/builder/plugins/options/dot_option.xml`, `<t t-name="website.DotColorOption" xml:space="preserve">
    <BuilderRow label.translate="Dot Color">
        <BuilderColorPicker styleAction="'color'" applyTo="'.o_dot'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.DotLinesColorOption", `/website/static/src/builder/plugins/options/dot_option.xml`, `<t t-name="website.DotLinesColorOption" xml:space="preserve">
    <BuilderRow label.translate="Dot Lines Color">
        <BuilderColorPicker styleAction="'border-color'" applyTo="'.o_dot_line'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.DynamicSnippetCarouselOption", `/website/static/src/builder/plugins/options/dynamic_snippet_carousel_option.xml`, `<t t-name="website.DynamicSnippetCarouselOption" t-inherit="website.DynamicSnippetOption" xml:space="preserve">
    <xpath expr="//BuilderRow[*[@id=&quot;'template_opt'&quot;]]" position="after">
	    <BuilderRow label.translate="Slider Speed">
	        <BuilderNumberInput action="'setCarouselSliderSpeed'" default="1" unit="'s'" saveUnit="''" step="0.1" min="0" preview="false" id="'speed_opt'"/>
	    </BuilderRow>
        <BuilderRow label.translate="Scrolling Mode">
            <BuilderButtonGroup preview="false">
                <BuilderButton classAction="''">All</BuilderButton>
                <BuilderButton classAction="'o_carousel_multi_items'">Single</BuilderButton>
            </BuilderButtonGroup>
        </BuilderRow>
    </xpath>
</t>
`);
registerTemplate("website.DynamicSnippetOption", `/website/static/src/builder/plugins/options/dynamic_snippet_option.xml`, `<t t-name="website.DynamicSnippetOption" xml:space="preserve">
    <t t-set="dynamicFilters" t-value="Object.values(dynamicOptionParams.dynamicFilters)"/>
    <BuilderRow label.translate="Filter" t-if="dynamicOptionParams.showFilterOption()">
        <BuilderSelect action="'dynamicFilter'" preview="false" id="'filter_opt'">
            <t t-foreach="dynamicFilters" t-as="filter" t-key="filter.id">
                <BuilderSelectItem actionParam="filter" t-out="filter.name" title="filter.help || ''"/>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <t t-set="filteredTemplates" t-value="dynamicOptionParams.getFilteredTemplates()"/>
    <BuilderRow label.translate="Template" t-if="filteredTemplates.length &gt; 1">
        <BuilderSelect action="'dynamicFilterTemplate'" preview="false" id="'template_opt'">
            <t t-foreach="filteredTemplates" t-as="template" t-key="template.key">
                <t t-if="template.thumb">
                    <BuilderSelectItem actionParam="template">
                        <Img src="template.thumb" alt="template.name" svgCheck="false"/>
                    </BuilderSelectItem>
                </t>
                <t t-else="">
                    <BuilderSelectItem actionParam="template" t-out="template.name"/>
                </t>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Fetched Elements" t-if="!!this.dynamicOptionParams.domState.filterId">
        <BuilderSelect dataAttributeAction="'numberOfRecords'" preview="false" id="'number_of_records_opt'">
            <t t-foreach="['1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16']" t-as="value" t-key="value">
                <BuilderSelectItem dataAttributeActionValue="value" t-out="value"/>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Section Title">
        <BuilderButtonGroup applyTo="'.s_dynamic_snippet_title'">
            <BuilderButton label.translate="Top" classAction="'justify-content-between'"/>
            <BuilderButton label.translate="Left" classAction="'s_dynamic_snippet_title_aside col-lg-3 justify-content-between flex-lg-column justify-content-lg-start'"/>
            <BuilderButton label.translate="None" title.translate="No title" classAction="'d-none'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>
`);
registerTemplate("website.EmbedCodeOption", `/website/static/src/builder/plugins/options/embed_code_option.xml`, `<t t-name="website.EmbedCodeOption" xml:space="preserve">
    <BuilderRow label.translate="Code">
        <BuilderButton action="'editCode'" preview="false" type="'success'" className="'o_we_edit_code o_we_no_toggle'" title.translate="Edit embedded code">
            Edit
        </BuilderButton>
    </BuilderRow>
    <BuilderRow label.translate="Alignment">
        <BuilderButtonGroup>
            <BuilderButton className="'fa fa-fw fa-align-left'" title.translate="Left" classAction="'text-start'"/>
            <BuilderButton className="'fa fa-fw fa-align-center'" title.translate="Center" classAction="'text-center'"/>
            <BuilderButton className="'fa fa-fw fa-align-right'" title.translate="Right" classAction="'text-end'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>
`);
registerTemplate("website.EmbedCodeOptionDialog", `/website/static/src/builder/plugins/options/embed_code_option_dialog.xml`, `<t t-name="website.EmbedCodeOptionDialog" xml:space="preserve">
        <Dialog title="props.title">
            <p class="h5">Do not copy/paste code you do not understand, this could put your data at risk.</p>
            <p>
                <button class="btn btn-link ps-0" t-on-click="onInjectHeadOrBody">
                    If you need to add analytics or marketing tags, inject code in your &lt;head&gt; or &lt;body&gt; instead.
                </button>
            </p>
            <CodeEditor mode="props.mode" class="'o_website_code_editor_field'" theme="'monokai'" onChange.bind="onCodeChange" value="this.state.value"/>
            <t t-set-slot="footer">
                <button class="btn btn-primary" t-on-click="onConfirm">Save</button>
                <button class="btn" t-on-click="this.props.close">Discard</button>
            </t>
        </Dialog>
    </t>
`);
registerTemplate("website.FacebookOption", `/website/static/src/builder/plugins/options/facebook_option.xml`, `<t t-name="website.FacebookOption" xml:space="preserve">
    <BuilderRow label.translate="URL">
        <BuilderTextInput dataAttributeAction="'href'" action="'checkFacebookLink'"/>
    </BuilderRow>
    <BuilderRow label.translate="Cover Photo">
        <BuilderCheckbox dataAttributeAction="'hide_cover'" dataAttributeActionValue="'true'" inverseAction="true"/>
    </BuilderRow>
    <BuilderRow label.translate="Timeline">
        <BuilderCheckbox action="'dataAttributeList'" actionParam="'tabs'" actionValue="'timeline'"/>
    </BuilderRow>
    <BuilderRow label.translate="Events">
        <BuilderCheckbox action="'dataAttributeList'" actionParam="'tabs'" actionValue="'events'"/>
    </BuilderRow>
    <BuilderRow label.translate="Messages">
        <BuilderCheckbox action="'dataAttributeList'" actionParam="'tabs'" actionValue="'messages'"/>
    </BuilderRow>
    <BuilderRow label.translate="Small Header">
        <BuilderCheckbox dataAttributeAction="'small_header'" dataAttributeActionValue="'true'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.FaqHorizontalOption", `/website/static/src/builder/plugins/options/faq_horizontal_option.xml`, `<t t-name="website.FaqHorizontalOption" xml:space="preserve">
    <BuilderRow label.translate="Topics">
        <BuilderButton action="'addItem'" actionParam="'.s_faq_horizontal_entry:last-of-type'" preview="false" className="'o_we_bg_success'">
            Add New
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.FooterCopyrightOption", `/website/static/src/builder/plugins/options/footer_copyright_option.xml`, `<t t-name="website.FooterCopyrightOption" xml:space="preserve">
    <BuilderRow label.translate="Colors">
        <BuilderColorPicker enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'copyright-custom',                 gradientColor: 'copyright-gradient',                 combinationColor: 'copyright',                 nullValue: 'NULL',             }"/>
    </BuilderRow>
    <t t-if="this.languages.length &gt; 1">
        <BuilderRow label.translate="Language Selector">
            <BuilderSelect id="'footer_language_selector_opt'" preview="false" action="'websiteConfig'">
                <BuilderSelectItem id="'language_selector_none_opt'" actionParam="{ views: [] }">None</BuilderSelectItem>
                <BuilderSelectItem actionParam="{ views: ['portal.footer_language_selector'] }">Dropdown</BuilderSelectItem>
                <BuilderSelectItem actionParam="{ views: ['portal.footer_language_selector', 'website.footer_language_selector_inline'] }">Inline</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow t-if="!isActiveItem('language_selector_none_opt')" level="1" label.translate="Label">
            <BuilderSelect id="'footer_language_selector_label_opt'" preview="false" action="'websiteConfig'">
                <BuilderSelectItem actionParam="{ views: [] }">Text</BuilderSelectItem>
                <BuilderSelectItem actionParam="{ views: ['website.footer_language_selector_flag', 'website.footer_language_selector_no_text'] }">
                    Flag
                </BuilderSelectItem>
                <BuilderSelectItem actionParam="{ views: ['website.footer_language_selector_flag'] }">
                    Flag and Text
                </BuilderSelectItem>
                <BuilderSelectItem actionParam="{ views: ['website.footer_language_selector_code', 'website.footer_language_selector_no_text'] }">
                    Code
                </BuilderSelectItem>
                <BuilderSelectItem actionParam="{                             views: [                                 'website.footer_language_selector_flag',                                 'website.footer_language_selector_code',                                 'website.footer_language_selector_no_text',                             ]                         }">
                    Flag and Code
                </BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("website.FooterTemplateOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterTemplateOption" xml:space="preserve">
    <BuilderRow label.translate="Template">
        <BuilderSelect action="'websiteConfigFooter'">
            <BuilderSelectItem title.translate="Default" actionParam="{ view: 'website.footer_custom', vars: { 'footer-template': 'default' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_default.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Descriptive" actionParam="{ view: 'website.template_footer_descriptive', vars: { 'footer-template': 'descriptive' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_descriptive.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Centered" actionParam="{ view: 'website.template_footer_centered', vars: { 'footer-template': 'centered' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_centered.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Links" actionParam="{ view: 'website.template_footer_links', vars: { 'footer-template': 'links' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_links.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Minimalist" actionParam="{ view: 'website.template_footer_minimalist', vars: { 'footer-template': 'minimalist' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_minimalist.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Contact" actionParam="{ view: 'website.template_footer_contact', vars: { 'footer-template': 'contact' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_contact.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Call-to-action" actionParam="{ view: 'website.template_footer_call_to_action', vars: { 'footer-template': 'call_to_action' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_call_to_action.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Headline" actionParam="{ view: 'website.template_footer_headline', vars: { 'footer-template': 'headline' } }">
                <Img attrs="{ style: 'width: 100%;' }" src="'/website/static/src/img/snippets_options/footer_template_headline.svg'"/>
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.FooterWidthOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterWidthOption" xml:space="preserve">
    <BuilderRow label.translate="Content width">
        <BuilderButtonGroup action="'websiteConfig'">
            <BuilderButton classAction="'o_container_small'" actionParam="{ views: ['website.footer_copyright_content_width_small'] }">
                <Img src="'/website/static/src/img/snippets_options/content_width_small.svg'"/>
            </BuilderButton>
            <BuilderButton classAction="'container'" actionParam="{ views: [] }">
                <Img src="'/website/static/src/img/snippets_options/content_width_normal.svg'"/>
            </BuilderButton>
            <BuilderButton classAction="'container-fluid'" actionParam="{ views: ['website.footer_copyright_content_width_fluid'] }">
                <Img src="'/website/static/src/img/snippets_options/content_width_full.svg'"/>
            </BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.FooterColorsOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterColorsOption" xml:space="preserve">
    <BuilderRow label.translate="Background">
        <BuilderColorPicker enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'footer-custom',                 gradientColor: 'footer-gradient',                 combinationColor: 'footer',                 nullValue: 'NULL',             }"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.FooterSlideoutOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterSlideoutOption" xml:space="preserve">
    <BuilderRow label.translate="Slideout Effect">
        <BuilderSelect preview="false" action="'websiteConfig'">
            <BuilderSelectItem actionParam="{ views: [], vars: { 'footer-effect': '' } }">
                Regular
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{ views: ['website.template_footer_slideout'], vars: { 'footer-effect': 'slideout_slide_hover' } }">
                Slide Hover
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{ views: ['website.template_footer_slideout'], vars: { 'footer-effect': 'slideout_shadow' } }">
                Shadow
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.ToggleFooterCopyrightOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.ToggleFooterCopyrightOption" xml:space="preserve">
    <BuilderRow label.translate="Copyright">
        <BuilderCheckbox action="'websiteConfig'" preview="false" actionParam="{ views: ['!website.footer_no_copyright'] }"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.FooterBorder", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterBorder" xml:space="preserve">
    <BorderConfigurator label.translate="Border"/>
    <ShadowOption/>
</t>

`);
registerTemplate("website.FooterScrollToTopOption", `/website/static/src/builder/plugins/options/footer_option.xml`, `<t t-name="website.FooterScrollToTopOption" xml:space="preserve">
    <BuilderRow label.translate="Scroll Top Button">
        <BuilderCheckbox id="'footer_scrolltop_opt'" action="'websiteConfig'" actionParam="{             views: ['website.option_footer_scrolltop'],             vars: {'footer-scrolltop': 'true'},             varsOnClean: {'footer-scrolltop': 'false'}         }"/>
        <BuilderSelect t-if="this.isActiveItem('footer_scrolltop_opt')" applyTo="'#o_footer_scrolltop_wrapper'">
            <BuilderSelectItem classAction="'justify-content-start'">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'justify-content-center'">Center</BuilderSelectItem>
            <BuilderSelectItem classAction="'justify-content-end'">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.GalleryElementOption", `/website/static/src/builder/plugins/options/gallery_element_option.xml`, `<t t-name="website.GalleryElementOption" xml:space="preserve">
    <BuilderRow label.translate="Re-order">
        <BuilderButtonGroup preview="false" action="'setGalleryElementPosition'">
            <BuilderButton icon="'fa-angle-double-left'" title.translate="Move to first" actionValue="'first'"/>
            <BuilderButton icon="'fa-angle-left'" title.translate="Move to previous" actionValue="'prev'"/>
            <BuilderButton icon="'fa-angle-right'" title.translate="Move to next" actionValue="'next'"/>
            <BuilderButton icon="'fa-angle-double-right'" title.translate="Move to last" actionValue="'last'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.GoogleMapsApiKeyDialog", `/website/static/src/builder/plugins/options/google_maps_option/google_maps_api_key_dialog.xml`, `<t t-name="website.GoogleMapsApiKeyDialog" xml:space="preserve">
    <Dialog title="props.title" size="'md'" modalRef="modalRef">
        <p>Use Google Map on your website (Contact Us page, snippets, etc).</p>
        <div class="row mb-0">
            <label class="col-sm-2 col-form-label" for="pin_address">API Key</label>
            <div class="col">
                <div class="input-group">
                    <div class="input-group-text"><i class="fa fa-key"/></div>
                    <input type="text" class="form-control" id="api_key_input" t-att-class="{ 'is-invalid': state.apiKeyValidation and !state.apiKeyValidation.isValid and state.apiKeyValidation.message }" t-model="state.apiKey" placeholder="BSgzTvR5L1GB9jriT451iTN4huVPxHmltG6T6eo"/>
                </div>
                <small t-if="state.apiKeyValidation and !state.apiKeyValidation.isValid and state.apiKeyValidation.message" id="api_key_help" class="text-danger">
                    <t t-esc="state.apiKeyValidation.message"/>
                </small>
                <div class="small form-text text-muted">
                    Hint: How to use Google Map on your website (Contact Us page and as a snippet)
                    <br/>
                    <a target="_blank" href="https://console.developers.google.com/flows/enableapi?apiid=maps_backend,static_maps_backend&amp;keyType=CLIENT_SIDE&amp;reusekey=true">
                        <i class="oi oi-arrow-right"/>
                        Create a Google Project and Get a Key
                    </a>
                    <br/>
                    <a target="_blank" href="https://cloud.google.com/maps-platform/pricing">
                        <i class="oi oi-arrow-right"/>
                        Enable billing on your Google Project
                    </a>
                </div>
                <div class="alert alert-info mb-0 mt-3">
                    Make sure your settings are properly configured:
                    <ul class="mb-0">
                        <li>
                            Enable the right google map APIs in your google account
                            <ul>
                                <li>Maps Static API</li>
                                <li>Maps JavaScript API</li>
                                <li>Places API</li>
                            </ul>
                        </li>
                        <li>
                            Make sure billing is enabled
                        </li>
                        <li>
                            Make sure to wait if errors keep being shown: sometimes enabling an API allows to use it immediately but Google keeps triggering errors for a while
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <t t-set-slot="footer">
            <button t-on-click="onClickSave" class="btn btn-primary">Save</button>
            <button class="btn" t-on-click="() =&gt; this.props.close()">Cancel</button>
        </t>
    </Dialog>
</t>`);
registerTemplate("website.GoogleMapsDescription", `/website/static/src/builder/plugins/options/google_maps_option/google_maps_option.xml`, `<t t-name="website.GoogleMapsDescription" xml:space="preserve">
    <div class="description">
        <font>Visit us:</font>
        <span>Our office is located in the northeast of Brussels. TEL (555) 432 2365</span>
    </div>
</t>

`);
registerTemplate("website.GoogleMapsOption", `/website/static/src/builder/plugins/options/google_maps_option/google_maps_option.xml`, `<t t-name="website.GoogleMapsOption" xml:space="preserve">
    <BuilderRow label.translate="Address" preview="false">
        <input type="text" class="o_we_large" t-att-value="state.formattedAddress" placeholder.translate="e.g. De Brouckere, Brussels, Belgium" t-ref="inputRef"/>
    </BuilderRow>
    <BuilderRow label.translate="Marker Style">
        <BuilderSelect dataAttributeAction="'pinStyle'">
            <BuilderSelectItem dataAttributeActionValue="''">Default</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'flat'">Flat</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Type" preview="false">
        <BuilderSelect action="'resetMapColor'" dataAttributeAction="'mapType'">
            <BuilderSelectItem dataAttributeActionValue="'ROADMAP'" id="'roadmap_opt'">RoadMap</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'TERRAIN'">Terrain</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'SATELLITE'">Satellite</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'HYBRID'">Hybrid</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="⌙ Style" preview="false" t-if="this.isActiveItem('roadmap_opt')">
        <BuilderSelect dataAttributeAction="'mapColor'">
            <BuilderSelectItem dataAttributeActionValue="">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-default.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'lightMonoMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-lightMono.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'cupertinoMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-cupertino.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'retroMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-retro.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'cobaltMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-cobalt.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'flatMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-flat.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'blueMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-blue.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'lillaMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-lilla.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'carMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-caramello.jpg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'bwMap'">
                <Img src="'/website/static/src/snippets/s_google_map/img/thumbs/map-bw.jpg'"/>
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Zoom" preview="false">
        <BuilderNumberInput dataAttributeAction="'mapZoom'" default="12" step="1" min="0" max="22"/>
    </BuilderRow>
    <BuilderRow label.translate="Description" preview="false">
        <BuilderCheckbox action="'showDescription'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.HeaderBorderOption", `/website/static/src/builder/plugins/options/header_border_option.xml`, `<t t-name="website.HeaderBorderOption" xml:space="preserve">
    <BuilderContext>
        <BorderConfigurator label.translate="Border" action="'styleActionHeader'" withRoundCorner="this.domState.withRoundCorner"/>
        <ShadowOption setShadowModeAction="'setShadowModeHeader'" setShadowAction="'setShadowHeader'"/>
    </BuilderContext>
</t>

`);
registerTemplate("website.headerTemplateOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerTemplateOption" xml:space="preserve">
    <BuilderRow label.translate="Template">
        <BuilderSelect action="'reloadComposite'">
            <BuilderSelectItem title.translate="Default" id="'header_default_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_default'],                             vars: {'header-links-style': 'default', 'header-template': 'default'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_default.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Hamburger menu" id="'header_hamburger_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_hamburger', 'website.no_autohide_menu'],                             vars: {'header-links-style': 'default', 'header-template': 'hamburger'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_hamburger.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Rounded box menu" id="'header_boxed_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.header_navbar_pills_style','website.template_header_boxed'],                             vars: {'header-links-style': 'pills', 'header-template': 'boxed'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_boxed.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Stretch menu" id="'header_stretch_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_stretch'],                             vars: {'header-links-style': 'default', 'header-template': 'stretch'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_stretch.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Vertical" id="'header_vertical_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_vertical'],                             vars: {'header-links-style': 'default', 'header-template': 'vertical'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_vertical.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Menu with Search bar" id="'header_search_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_search'],                             vars: {'header-links-style': 'default', 'header-template': 'search'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_search.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Menu - Sales 1" id="'header_sales_one_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_sales_one'],                             vars: {'header-links-style': 'default', 'header-template': 'sales_one'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_sales_one.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Menu - Sales 2" id="'header_sales_two_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_sales_two'],                             vars: {'header-links-style': 'default', 'header-template': 'sales_two'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_sales_two.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Menu - Sales 3" id="'header_sales_three_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_sales_three'],                             vars: {'header-links-style': 'default', 'header-template': 'sales_three'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_sales_three.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Menu - Sales 4" id="'header_sales_four_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_sales_four'],                             vars: {'header-links-style': 'default', 'header-template': 'sales_four'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_sales_four.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Sidebar" id="'header_sidebar_opt'" actionParam="[                     {                         action: 'websiteConfig',                         actionParam: {                             views: ['website.template_header_sidebar', 'website.no_autohide_menu'],                             vars: {'header-links-style': 'default', 'header-template': 'sidebar'},                             checkVars: false,                         }                     }                 ]">
                <Img attrs="{style:'width:calc(100% - 0.5rem);'}" src="'/website/static/src/img/snippets_options/header_template_sidebar.svg'"/>
            </BuilderSelectItem>

        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.headerContentWidthOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerContentWidthOption" xml:space="preserve">
    <BuilderRow t-if="!isActiveItem('header_sidebar_opt')" label.translate="Content Width">
        <BuilderButtonGroup action="'websiteConfig'">
            <BuilderButton title.translate="Small" iconImg="'/website/static/src/img/snippets_options/content_width_small.svg'" actionParam="{ views: ['website.header_width_small'] }"/>
            <BuilderButton title.translate="Regular" iconImg="'/website/static/src/img/snippets_options/content_width_normal.svg'" actionParam="{ views: [] }"/>
            <BuilderButton title.translate="Full" iconImg="'/website/static/src/img/snippets_options/content_width_full.svg'" actionParam="{ views: ['website.header_width_full'] }"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.headerSidebarWidthOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerSidebarWidthOption" xml:space="preserve">
    <BuilderRow t-if="isActiveItem('header_sidebar_opt')" label.translate="Width" level="1">
    <BuilderNumberInput action="'customizeWebsiteVariable'" actionParam="'sidebar-width'" unit="'px'" saveUnit="'rem'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.headerBackgroundOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerBackgroundOption" xml:space="preserve">
    <BuilderRow label.translate="Background">
        <BuilderColorPicker enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'menu-custom',                 gradientColor: 'menu-gradient',                 combinationColor: 'menu',                 nullValue: 'NULL',             }"/>
        <BuilderColorPicker t-if="isActiveItem('header_sales_one_opt')" enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'header-sales_one-custom',                 gradientColor: 'menu-secondary-gradient',                 combinationColor: 'header-sales_one',                 nullValue: 'NULL',             }"/>
        <BuilderColorPicker t-if="isActiveItem('header_sales_two_opt')" enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'header-sales_two-custom',                 gradientColor: 'menu-secondary-gradient',                 combinationColor: 'header-sales_two',                 nullValue: 'NULL',             }"/>
        <BuilderColorPicker t-if="isActiveItem('header_sales_three_opt')" enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'header-sales_three-custom',                 gradientColor: 'menu-secondary-gradient',                 combinationColor: 'header-sales_three',                 nullValue: 'NULL',             }"/>
        <BuilderColorPicker t-if="isActiveItem('header_sales_four_opt')" enabledTabs="['theme', 'custom', 'gradient']" preview="false" defaultColor="''" action="'customizeWebsiteColor'" actionParam="{                 mainParam: 'header-sales_four-custom',                 gradientColor: 'menu-secondary-gradient',                 combinationColor: 'header-sales_four',                 nullValue: 'NULL',             }"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.headerScrollEffectOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerScrollEffectOption" xml:space="preserve">
    <BuilderRow label.translate="Scroll Effect" t-if="!this.isActiveItem('header_sidebar_opt')">
        <BuilderSelect action="'websiteConfig'" className="'o_scroll_effects_selector'">
            <BuilderSelectItem id="'header_visibility_standard_opt'" label.translate="Standard" actionParam="{ views: ['website.header_visibility_standard'], vars: {'header-scroll-effect': ''} }" classAction="'o_header_standard'" className="'o_we_img_animate'">
                <Img src="'/website/static/src/img/snippets_options/header_effect_standard.png'" attrs="{style:\`--animate-src: '/website/static/src/img/snippets_options/header_effect_standard.gif';\`}"/>
                <span>Standard</span>
            </BuilderSelectItem>
            <BuilderSelectItem id="'header_effect_scroll_opt'" label.translate="Scroll" actionParam="{ views: [], vars: {'header-scroll-effect': 'scroll'} }" classAction="''" className="'o_we_img_animate'">
                <Img src="'/website/static/src/img/snippets_options/header_effect_scroll.png'" attrs="{style:\`--animate-src: '/website/static/src/img/snippets_options/header_effect_scroll.gif';\`}"/>
                <span>Scroll</span>
            </BuilderSelectItem>
            <BuilderSelectItem id="'header_effect_fixed_opt'" label.translate="Fixed" actionParam="{ views: ['website.header_visibility_fixed'], vars: {'header-scroll-effect': 'fixed'} }" classAction="'o_header_fixed'" className="'o_we_img_animate'">
                <Img src="'/website/static/src/img/snippets_options/header_effect_fixed.png'" attrs="{style:\`--animate-src: '/website/static/src/img/snippets_options/header_effect_fixed.gif';\`}"/>
                <span>Fixed</span>
            </BuilderSelectItem>
            <BuilderSelectItem id="'header_effect_disappears_opt'" label.translate="Disappears" actionParam="{ views: ['website.header_visibility_disappears'], vars: {'header-scroll-effect': 'disappears'} }" classAction="'o_header_disappears'" className="'o_we_img_animate'">
                <Img src="'/website/static/src/img/snippets_options/header_effect_disappears.png'" attrs="{style:\`--animate-src: '/website/static/src/img/snippets_options/header_effect_disappears.gif';\`}"/>
                <span>Disappears</span>
            </BuilderSelectItem>
            <BuilderSelectItem id="'header_effect_fade_out_opt'" label.translate="Fade Out" actionParam="{ views: ['website.header_visibility_fade_out'], vars: {'header-scroll-effect': 'fade-out'} }" classAction="'o_header_fade_out'" className="'o_we_img_animate'">
                <Img src="'/website/static/src/img/snippets_options/header_effect_fade_out.png'" attrs="{style:\`--animate-src: '/website/static/src/img/snippets_options/header_effect_fade_out.gif';\`}"/>
                <span>Fade Out</span>
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.headerElementOption", `/website/static/src/builder/plugins/options/header_option.xml`, `<t t-name="website.headerElementOption" xml:space="preserve">
    <BuilderRow label.translate="Header elements" action="'websiteConfig'">
        <BuilderButton title.translate="Show/hide logo" className="'flex-grow-1'" actionParam="websiteLogoParams">
            <Img src="'/website/static/src/img/snippets_options/header_extra_element_logo.svg'"/>
        </BuilderButton>
        <BuilderButton title.translate="Show/hide text element" className="'flex-grow-1'" actionParam="{                 views: ['website.header_text_element'],                 resetViewArch: true,             }">
            <Img src="'/website/static/src/img/snippets_options/header_extra_element_text.svg'"/>
        </BuilderButton>
        <BuilderButton title.translate="Show/hide button" className="'flex-grow-1'" actionParam="{                 views: ['website.header_call_to_action'],                 resetViewArch: true,             }">
            <Img src="'/website/static/src/img/snippets_options/header_extra_element_cta.svg'"/>
        </BuilderButton>
        <t t-set="language_ids" t-value="env.services.website.currentWebsite.language_ids || []"/>
        <BuilderButton t-if="language_ids.length &gt; 1" title.translate="Show/hide language selector" className="'fa fa-flag flex-grow-1'" actionParam="{                 views: ['website.header_language_selector'],                 resetViewArch: true,             }">
        </BuilderButton>
    </BuilderRow>
    <BuilderRow label.translate="Actions" action="'websiteConfig'">
        <BuilderButton title.translate="Show/hide search bar" className="'fa fa-search flex-grow-1'" actionParam="{                 views: ['website.header_search_box'],                 resetViewArch: true,             }"/>
        <BuilderButton title.translate="Show/hide social links" className="'flex-grow-1'" actionParam="{                 views: ['website.header_social_links'],                 resetViewArch: true,             }">
            <Img src="'/website/static/src/img/snippets_options/header_extra_element_social.svg'"/>
        </BuilderButton>
        <BuilderButton title.translate="Show/hide sign in button" className="'fa fa-sign-in flex-grow-1'" actionParam="{                 views: ['portal.user_sign_in'],                 resetViewArch: true,             }"/>
    </BuilderRow>
    <BuilderRow label.translate="Background" level="1" action="'websiteConfig'" t-if="isActiveItem('header_default_opt')               or isActiveItem('header_hamburger_opt')               or isActiveItem('header_boxed_opt')               or isActiveItem('header_vertical_opt')               or isActiveItem('header_sales_one_opt')               or isActiveItem('header_sales_two_opt')               or isActiveItem('header_sales_four_opt')               or isActiveItem('header_sidebar_opt')">
        <BuilderCheckbox actionParam="{             views: ['!website.template_header_navlink_no_background'],             resetViewArch: true,         }"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.ImageGalleryImagesOption", `/website/static/src/builder/plugins/options/image_gallery_option.xml`, `<t t-name="website.ImageGalleryImagesOption" xml:space="preserve">
    <BuilderRow label.translate="Images">
        <BuilderButton type="'success'" className="'flex-grow-1'" preview="false" title.translate="Add Image" action="'addImage'"> Add </BuilderButton>
        <BuilderButton type="'danger'" className="'flex-grow-1'" preview="false" title.translate="Remove all images" action="'removeAllImages'"> Remove all </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.ImageGalleryOption", `/website/static/src/builder/plugins/options/image_gallery_option.xml`, `<t t-name="website.ImageGalleryOption" xml:space="preserve">
    <BuilderRow label.translate="Mode" t-if="!this.state.isSlideShow">
        <BuilderSelect>
            <BuilderSelectItem id="'grid_mode_opt'" action="'setImageGalleryLayout'" actionParam="'grid'">Grid</BuilderSelectItem>
            <BuilderSelectItem id="'masonry_mode_opt'" action="'setImageGalleryLayout'" actionParam="'masonry'">Masonry</BuilderSelectItem>
            <BuilderSelectItem action="'setImageGalleryLayout'" actionParam="'nomode'">Float</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow t-if="!this.state.isSlideShow" label.translate="Images Spacing">
        <BuilderRange action="'setClassRange'" actionParam="['o_spc-none','o_spc-small','o_spc-medium','o_spc-big']" max="3"/>
    </BuilderRow>

    <BuilderRow label.translate="Columns" t-if="isActiveItem('grid_mode_opt') || isActiveItem('masonry_mode_opt')">
        <BuilderSelect>
            <t t-foreach="[1,2,3,4,6,12]" t-as="column" t-key="column">
                <BuilderSelectItem action="'setImageGalleryColumns'" actionParam="column"><t t-esc="column"/></BuilderSelectItem>
            </t>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Speed" t-if="this.state.isSlideShow">
        <BuilderNumberInput applyTo="'.carousel'" action="'setCarouselSpeed'" unit="'s'" saveUnit="''" step="0.1"/>
    </BuilderRow>

    <BuilderRow label.translate="Style" t-if="this.state.isSlideShow">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Classic</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_controllers_indicators_outside'">Indicators outside</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_controllers_outside'">Outside, center</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_controllers_outside s_image_gallery_controllers_outside_arrows_left'">Outside, at right</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_controllers_outside s_image_gallery_controllers_outside_arrows_right'">Outside, at left</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Invert colors" level="1" t-if="this.state.isSlideShow">
        <BuilderCheckbox applyTo="'.carousel'" classAction="'carousel-dark'"/>
    </BuilderRow>

    <BuilderRow label.translate="Arrows" level="1" t-if="this.state.isSlideShow">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_image_gallery_arrows_default'">Default</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_arrows_boxed'">Boxed</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_arrows_rounded'">Rounded</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_arrows_hidden'">Hidden</BuilderSelectItem>
        </BuilderSelect>
     </BuilderRow>

    <BuilderRow label.translate="Indicators" level="1" t-if="this.state.isSlideShow">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_bars'">Bars</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_dots'">Dots</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_numbers'">Numbers</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_squared'">Squared Miniatures</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_rounded'">Rounded Miniatures</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_image_gallery_indicators_hidden'">Hidden</BuilderSelectItem>
        </BuilderSelect>
     </BuilderRow>

    <BuilderContext applyTo="'img'">
        <BorderConfigurator label.translate="Border"/>
    </BuilderContext>
</t>
`);
registerTemplate("website.s_image_gallery_slideshow", `/website/static/src/builder/plugins/options/image_gallery_option.xml`, `<t t-name="website.s_image_gallery_slideshow" xml:space="preserve">
    <div t-attf-id="#{id}" t-attf-class="carousel slide #{colorContrast}" t-att-data-bs-ride="ride" t-attf-data-bs-interval="#{interval}" style="margin: 0 12px;">
        <div class="carousel-inner">
            <t t-foreach="images" t-as="image" t-key="image_index">
                <div t-attf-class="carousel-item #{image_index == index and 'active' or None}">
                    <t t-if="!copyAttributes">
                        <img class="img img-fluid d-block" t-att-src="image.getAttribute('src')" t-att-alt="image.alt" data-name="Image"/>
                    </t>
                    <t t-else="">
                        <t t-set="imageAttributes" t-value="Object.fromEntries([...image.attributes].map(attr =&gt; [attr.name, attr.value]))"/>
                        <img t-att="imageAttributes"/>
                    </t>
                </div>
            </t>
        </div>
        <div class="o_carousel_controllers">
            <button class="carousel-control-prev o_we_no_overlay o_not_editable" contenteditable="false" t-attf-data-bs-target="##{id}" data-bs-slide="prev" aria-label="Previous" title="Previous">
                <span class="carousel-control-prev-icon" aria-hidden="true"/>
                <span class="visually-hidden">Previous</span>
            </button>
            <div class="carousel-indicators s_image_gallery_indicators_bars">
                <t t-foreach="images" t-as="image" t-key="image_index">
                    <button type="button" aria-label="Carousel indicator" t-attf-data-bs-target="##{id}" t-att-data-bs-slide-to="image_index" t-att-class="image_index == index and 'active' or None" t-attf-style="background-image: url(#{image.getAttribute('src')})"/>
                </t>
            </div>
            <button class="carousel-control-next o_we_no_overlay o_not_editable" contenteditable="false" t-attf-data-bs-target="##{id}" data-bs-slide="next" aria-label="Next" title="Next">
                <span class="carousel-control-next-icon" aria-hidden="true"/>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
</t>

`);
registerTemplate("website.InstagramOption", `/website/static/src/builder/plugins/options/instagram_option.xml`, `<t t-name="website.InstagramOption" xml:space="preserve">
    <div class="alert alert-primary p-2 m-2">
        Your instagram page must be public to be integrated into an Odoo website.
    </div>
    <BuilderRow label.translate="Instagram Page">
        <BuilderTextInput action="'instagramPage'" placeholder="'odoo.official'" preview="false"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.LanguageSelectorOption", `/website/static/src/builder/plugins/options/language_selector_option.xml`, `<t t-name="website.LanguageSelectorOption" xml:space="preserve">
    <BuilderRow label.translate="Style" expand="true">
        <BuilderSelect preview="false" action="'websiteConfig'">
                <BuilderSelectItem actionParam="{                         views: ['website.header_language_selector']                     }">
                    Dropdown
                </BuilderSelectItem>
                <BuilderSelectItem actionParam="{                         views: ['website.header_language_selector', 'website.header_language_selector_inline']                     }">
                    Inline
                </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Label">
        <BuilderSelect preview="false" action="'websiteConfig'">
            <BuilderSelectItem actionParam="{                     views: []                 }">
                Text
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{                     views: ['website.header_language_selector_flag', 'website.header_language_selector_no_text']                 }">
                Flag
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{                     views: ['website.header_language_selector_flag']                 }">
                Flag and Text
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{                     views: ['website.header_language_selector_code']                 }">
                Code
            </BuilderSelectItem>
            <BuilderSelectItem actionParam="{                     views: ['website.header_language_selector_flag', 'website.header_language_selector_code', 'website.header_language_selector_no_text']                 }">
                Flag and Code
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>
`);
registerTemplate("website_builder.Many2OneOption", `/website/static/src/builder/plugins/options/many2one_option.xml`, `<t t-name="website_builder.Many2OneOption" xml:space="preserve">
    <BuilderRow label="label">
        <BuilderMany2One action="'many2One'" model="model" fields="['name']" allowUnselect="false"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.mapOption", `/website/static/src/builder/plugins/options/map_option.xml`, `<t t-name="website.mapOption" xml:space="preserve">
    <BuilderRow label.translate="Address" action="'mapUpdateSrc'" preview="false">
        <BuilderTextInput dataAttributeAction="'mapAddress'" placeholder.translate="e.g. Grand Place, Brussels" inputClasses="'o_we_large'"/>
    </BuilderRow>
    <BuilderRow label.translate="Type">
        <BuilderSelect dataAttributeAction="'mapType'" action="'mapUpdateSrc'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'m'" title.translate="Road">Road</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'k'" title.translate="Satellite">Satellite</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Zoom">
        <BuilderSelect dataAttributeAction="'mapZoom'" action="'mapUpdateSrc'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'21'">2.5 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'20'">5 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'19'">10 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'18'">20 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'17'">50 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'16'">100 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'15'">200 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'14'">400 m</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'13'">1 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'12'">2 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'11'">4 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'10'">8 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'9'">15 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'8'">30 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'7'">50 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'6'">100 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'5'">200 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'4'">400 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'3'">1000 km</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'2'">2000 km</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Color Filter">
        <BuilderColorPicker styleAction="'background-color'" applyTo="'.s_map_color_filter'"/>
    </BuilderRow>
    <BuilderRow label.translate="Description">
        <BuilderCheckbox action="'mapDescription'"/>
    </BuilderRow>
</t>
`);
registerTemplate("website.MediaListItemOption", `/website/static/src/builder/plugins/options/media_list_item_option.xml`, `<t t-name="website.MediaListItemOption" xml:space="preserve">
    <BuilderContext applyTo="':scope &gt; .row'">
        <WebsiteBackgroundOption withColors="true" withImages="false" withColorCombinations="true"/>
    </BuilderContext>

    <BuilderContext applyTo="':scope &gt; .row'">
        <BorderConfigurator label.translate="Border"/>
        <ShadowOption/>
    </BuilderContext>

    <BuilderRow label.translate="Layout">
        <BuilderButtonGroup applyTo="':scope &gt; .row'">
            <BuilderButton title.translate="Left" id="'media_left_opt'" classAction="''" iconImg="'/website/static/src/img/snippets_options/image_left.svg'"/>
            <BuilderButton title.translate="Right" classAction="'flex-row-reverse'" iconImg="'/website/static/src/img/snippets_options/image_right.svg'"/>
        </BuilderButtonGroup>
    </BuilderRow>
    <BuilderRow label.translate="Image Size">
        <BuilderButtonGroup t-if="this.isActiveItem('media_left_opt')">
            <BuilderButton action="'setMediaLayout'" actionValue="3" iconImg="'/website/static/src/img/snippets_options/media_layout_1_4.svg'" title.translate="1/4 - 3/4"/>
            <BuilderButton action="'setMediaLayout'" actionValue="4" iconImg="'/website/static/src/img/snippets_options/media_layout_1_3.svg'" title.translate="1/3 - 2/3"/>
            <BuilderButton action="'setMediaLayout'" actionValue="6" iconImg="'/website/static/src/img/snippets_options/media_layout_1_2.svg'" title.translate="1/2 - 1/2"/>
        </BuilderButtonGroup>
        <BuilderButtonGroup t-if="!this.isActiveItem('media_left_opt')">
            <BuilderButton action="'setMediaLayout'" actionValue="3" iconImg="'/website/static/src/img/snippets_options/media_layout_1_4_right.svg'" title.translate="1/4 - 3/4"/>
            <BuilderButton action="'setMediaLayout'" actionValue="4" iconImg="'/website/static/src/img/snippets_options/media_layout_1_3_right.svg'" title.translate="1/3 - 2/3"/>
            <BuilderButton action="'setMediaLayout'" actionValue="6" iconImg="'/website/static/src/img/snippets_options/media_layout_1_2_right.svg'" title.translate="1/2 - 1/2"/>
        </BuilderButtonGroup>
    </BuilderRow>

    <BuilderRow label.translate="Text Position" applyTo="':scope &gt; .row'">

        <BuilderButtonGroup t-if="this.isActiveItem('media_left_opt')">
            <BuilderButton title.translate="Align Top" classAction="'align-items-start'" iconImg="'/website/static/src/img/snippets_options/align_top_right.svg'"/>
            <BuilderButton title.translate="Align Middle" classAction="'align-items-center'" iconImg="'/website/static/src/img/snippets_options/align_middle_right.svg'"/>
            <BuilderButton title.translate="Align Bottom" classAction="'align-items-end'" iconImg="'/website/static/src/img/snippets_options/align_bottom_right.svg'"/>
        </BuilderButtonGroup>
        <BuilderButtonGroup t-if="!this.isActiveItem('media_left_opt')">
            <BuilderButton title.translate="Align Top" classAction="'align-items-start'" iconImg="'/html_builder/static/img/snippets_options/align_top.svg'"/>
            <BuilderButton title.translate="Align Middle" classAction="'align-items-center'" iconImg="'/html_builder/static/img/snippets_options/align_middle.svg'"/>
            <BuilderButton title.translate="Align Bottom" classAction="'align-items-end'" iconImg="'/html_builder/static/img/snippets_options/align_bottom.svg'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>



`);
registerTemplate("website.MediaListOption", `/website/static/src/builder/plugins/options/media_list_option.xml`, `<t t-name="website.MediaListOption" xml:space="preserve">
    <BuilderRow label.translate="Media">
        <BuilderButton action="'addItem'" actionParam="'.s_media_list_item:last-of-type'" preview="false" className="'o_we_bg_brand_primary'">
            Add Media
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.MegaMenuOption", `/website/static/src/builder/plugins/options/mega_menu_option.xml`, `<t t-name="website.MegaMenuOption" xml:space="preserve">
    <t t-set="templatePrefix" t-value="state.templatePrefix"/>
    <BuilderRow label.translate="Template">
        <BuilderSelect id="'mega_menu_template_opt'" action="'selectTemplate'">
            <BuilderSelectItem title.translate="Multi Menus" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_multi_menus\`,                     templateClass: 's_mega_menu_multi_menus',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_multi_menus.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Image Menu" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_menu_image_menu\`,                     templateClass: 's_mega_menu_menu_image_menu',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_menu_image_menu.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Odoo Menu" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_odoo_menu\`,                     templateClass: 's_mega_menu_odoo_menu',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_odoo_menu.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Little Icons" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_little_icons\`,                     templateClass: 's_mega_menu_little_icons',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_little_icons.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Big Icons Subtitles" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_big_icons_subtitles\`,                     templateClass: 's_mega_menu_big_icons_subtitles',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_big_icons_subtitles.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Images Subtitles" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_images_subtitles\`,                     templateClass: 's_mega_menu_images_subtitles',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.8em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_images_subtitles.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Logos" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_menus_logos\`,                     templateClass: 's_mega_menu_menus_logos',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.25em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_menus_logos.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Thumbnails" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_thumbnails\`,                     templateClass: 's_mega_menu_thumbnails',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.25em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_thumbnails.svg'"/>
            </BuilderSelectItem>
            <BuilderSelectItem title.translate="Cards" actionParam="{                     view: \`\${templatePrefix}s_mega_menu_cards\`,                     templateClass: 's_mega_menu_cards',                 }">
                <Img class="'w-75 m-auto'" style="'margin-block: -0.25em !important;'" src="'/website/static/src/img/snippets_thumbs/s_mega_menu_cards.svg'"/>
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Size" t-if="!hasHeaderTemplates(['hamburger', 'sidebar'])">
        <BuilderSelect>
            <BuilderSelectItem classAction="''">Full-Width</BuilderSelectItem>
            <BuilderSelectItem classAction="'o_mega_menu_container_size'">Narrow</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.NavbarLogoOption", `/website/static/src/builder/plugins/options/navbar_logo_option.xml`, `<t t-name="website.NavbarLogoOption" xml:space="preserve">
        <BuilderRow label.translate="Logo">
            <BuilderSelect action="'websiteConfig'">
                <BuilderSelectItem actionParam="{views: []}" id="'option_header_brand_none'">None</BuilderSelectItem>
                <BuilderSelectItem actionParam="{views: ['website.option_header_brand_name']}" id="'option_header_brand_name'">Text</BuilderSelectItem>
                <BuilderSelectItem actionParam="{views: ['website.option_header_brand_logo']}" id="'option_header_brand_logo'">Image</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Height" level="1" t-if="!isActiveItem('option_header_brand_none')" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'logo-height'" unit="'px'" saveUnit="'rem'"/>
        </BuilderRow>
        <BuilderRow label.translate="Height (Scrolled)" level="1" t-if="!isActiveItem('!header_effect_scroll_opt')" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'fixed-logo-height'" unit="'px'" saveUnit="'rem'"/>
        </BuilderRow>
    </t>
`);
registerTemplate("website.NavTabsHeaderMiddleButtons", `/website/static/src/builder/plugins/options/navtabs_header_buttons.xml`, `<t t-name="website.NavTabsHeaderMiddleButtons" xml:space="preserve">
    <button class="text-success btn ms-0 py-0 px-1" title.translate="Add Tab" aria-label="Add Tab" t-on-click="addItem">
        <span class="fa fa-fw fa-plus"/>
    </button>
    <button class="btn py-0 px-1 me-3" t-att-class="state.tabEls.length gt 2 ? 'text-danger' : 'disabled text-muted'" title="Remove Tab" aria-label="Remove Tab" t-on-click="removeItem">
        <span class="fa fa-fw fa-minus"/>
    </button>
</t>

`);
registerTemplate("website.NavTabsImagesStyleOption", `/website/static/src/builder/plugins/options/navtabs_images_style_option.xml`, `<t t-name="website.NavTabsImagesStyleOption" t-inherit="website.NavTabsStyleOption" primary="True" xml:space="preserve">
        <xpath expr="//BuilderSelectItem[@actionValue=&quot;'vertical'&quot;]" position="attributes">
            <attribute name="classAction">'s_tabs_nav_vertical'</attribute>
            <attribute name="id">'vertical_opt'</attribute>
        </xpath>
        <xpath expr="//BuilderRow[@label.translate=&quot;Direction&quot;]" position="after">
            <BuilderRow label.translate="Descriptions" t-if="isActiveItem('vertical_opt')">
                <BuilderCheckbox classAction="'s_tabs_nav_with_descriptions'"/>
            </BuilderRow>
        </xpath>
    </t>
`);
registerTemplate("website.NavTabsStyleOption", `/website/static/src/builder/plugins/options/navtabs_style_option.xml`, `<t t-name="website.NavTabsStyleOption" xml:space="preserve">
    <BuilderRow label.translate="Style">
        <BuilderSelect action="'setStyle'">
            <BuilderSelectItem actionValue="'nav-underline'" id="'underline_opt'">Underline</BuilderSelectItem>
            <BuilderSelectItem actionValue="'nav-tabs'" id="'tabs_opt'">Tabs</BuilderSelectItem>
            <BuilderSelectItem actionValue="'nav-buttons'" id="'buttons_opt'">Buttons</BuilderSelectItem>
            <BuilderSelectItem actionValue="'nav-pills'" id="'pills_opt'">Pills</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <t t-if="isActiveItem('tabs_opt') or isActiveItem('buttons_opt')">
        <BuilderRow label.translate="Background" level="1">
            <BuilderColorPicker noTransparency="true" applyTo="'.s_tabs_nav'" styleAction="'--tabs-bg-color'"/>
        </BuilderRow>
        <BuilderRow label.translate="Links Color" level="1">
            <BuilderColorPicker noTransparency="true" applyTo="'.s_tabs_nav .nav-link'" styleAction="'--tabs-link-color'"/>
        </BuilderRow>
    </t>
    <BuilderRow t-if="isActiveItem('pills_opt') or isActiveItem('underline_opt')" label.translate="Direction">
        <BuilderSelect action="'setDirection'">
            <BuilderSelectItem actionValue="'horizontal'" id="'horizontal_opt'">Horizontal</BuilderSelectItem>
            <BuilderSelectItem actionValue="'vertical'">Vertical</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <t t-if="isActiveItem('horizontal_opt') or !(isActiveItem('pills_opt') or isActiveItem('underline_opt'))">
        <BuilderRow label.translate="Fill and Justify">
            <BuilderSelect applyTo="'.s_tabs_nav .nav'">
                <BuilderSelectItem classAction="''" id="'regular_opt'">Regular</BuilderSelectItem>
                <BuilderSelectItem classAction="'nav-fill'">Full Width</BuilderSelectItem>
                <BuilderSelectItem classAction="'nav-justified'">Equal Widths</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('regular_opt')" label.translate="Alignment" level="1">
            <BuilderSelect applyTo="'.s_tabs_nav .nav'">
                <BuilderSelectItem classAction="''">Left</BuilderSelectItem>
                <BuilderSelectItem classAction="'justify-content-center mx-auto'">Center</BuilderSelectItem>
                <BuilderSelectItem classAction="'justify-content-end ms-auto'">Right</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
    </t>
    <BuilderRow label.translate="Slide">
        <BuilderButtonGroup applyTo="'.s_tabs_content'">
            <BuilderButton className="'fa fa-fw fa-long-arrow-left'" title.translate="Slide to left" classAction="'s_tabs_slide_right'"/>
            <BuilderButton className="'fa fa-fw fa-long-arrow-up'" title.translate="Slide up" classAction="'s_tabs_slide_down'"/>
            <BuilderButton className="'fa fa-fw fa-long-arrow-down'" title.translate="Slide down" classAction="'s_tabs_slide_up'"/>
            <BuilderButton className="'fa fa-fw fa-long-arrow-right'" title.translate="Slide to right" classAction="'s_tabs_slide_left'"/>
            <BuilderButton className="'fa fa-fw fa-ban'" title.translate="No Slide Effect" classAction="''"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>
`);
registerTemplate("website.ParallaxOption", `/website/static/src/builder/plugins/options/parallax_option.xml`, `<t t-name="website.ParallaxOption" xml:space="preserve">
    <BuilderRow t-if="isActiveItem('toggle_bg_image_id') and !isActiveItem('toggle_bg_video_id') and !this.state.InDialog" label.translate="Scroll Effect" level="2" preview="false">
        <BuilderSelect action="'setParallaxType'">
            <BuilderSelectItem actionValue="'none'">None</BuilderSelectItem>
            <BuilderSelectItem actionValue="'fixed'">Fixed</BuilderSelectItem>
            <BuilderSelectItem id="'parallax_top_opt'" actionValue="'top'">Parallax to Top</BuilderSelectItem>
            <BuilderSelectItem id="'parallax_bottom_opt'" actionValue="'bottom'">Parallax to Bottom</BuilderSelectItem>
            <BuilderSelectItem id="'parallax_zoom_in_opt'" actionValue="'zoom_in'">Zoom In</BuilderSelectItem>
            <BuilderSelectItem id="'parallax_zoom_out_opt'" actionValue="'zoom_out'">Zoom Out</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderContext preview="false">
        <BuilderRow t-if="isActiveItem('parallax_top_opt')" level="3" label.translate="Intensity">
            <BuilderRange dataAttributeAction="'scrollBackgroundRatio'" min="0" max="3" step="0.15"/>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('parallax_bottom_opt')" level="3" label.translate="Intensity">
            <BuilderRange dataAttributeAction="'scrollBackgroundRatio'" min="0" max="-3" step="0.15"/>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('parallax_zoom_in_opt')" level="3" label.translate="Intensity">
            <BuilderRange dataAttributeAction="'scrollBackgroundRatio'" min="0" max="3" step="0.15"/>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('parallax_zoom_out_opt')" level="3" label.translate="Intensity">
            <BuilderRange dataAttributeAction="'scrollBackgroundRatio'" min="0" max="0.95" step="0.05"/>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.base_popup_options", `/website/static/src/builder/plugins/options/popup_option.xml`, `<t t-name="website.base_popup_options" xml:space="preserve">

    <BuilderRow label.translate="Position" t-if="!isCookiesOption or isActiveItem('layout_popup_opt')">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_popup_top'">Top</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_popup_middle'">Middle</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_popup_bottom'">Bottom</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Size">
        <BuilderSelect applyTo="'.modal-dialog'">
            <BuilderSelectItem classAction="'modal-sm'">Small</BuilderSelectItem>
            <BuilderSelectItem classAction="''">Medium</BuilderSelectItem>
            <BuilderSelectItem classAction="'modal-lg'">Large</BuilderSelectItem>
            <BuilderSelectItem classAction="'modal-xl'">Extra Large</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_popup_size_full'">Full</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Backdrop">
        <BuilderCheckbox id="'popup_backdrop_opt'" action="'setBackdrop'" preview="false"/>
        <BuilderColorPicker t-if="isActiveItem('popup_backdrop_opt')" styleAction="'background-color'" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.PopupOption", `/website/static/src/builder/plugins/options/popup_option.xml`, `<t t-name="website.PopupOption" xml:space="preserve">
    <t t-call="website.base_popup_options"/>
    <BuilderRow label.translate="Close Button Color">
        <BuilderColorPicker styleAction="'color'" applyTo="'.s_popup_close'" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>
    <BuilderRow label.translate="Display">
        <BuilderSelect dataAttributeAction="'display'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'afterDelay'" id="'show_delay'">Delay</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'mouseExit'">On Exit</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'onClick'" id="'onclick_opt'" action="'copyAnchor'">On Click (via link)</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow level="1" label.translate="Delay">
        <BuilderNumberInput t-if="isActiveItem('show_delay')" tooltip.translate="Automatically opens the pop-up if the user stays on a page longer than the specified time." action="'setPopupDelay'" unit="'s'" saveUnit="''"/>
    </BuilderRow>
    <BuilderRow label.translate="Hide For" t-if="!isActiveItem('onclick_opt')">
        <BuilderNumberInput tooltip.translate="Once the user closes the popup, it won't be shown again for that period of time." inputClasses="'o_we_large'" dataAttributeAction="'consentsDuration'" default="7" unit.translate="days" saveUnit="''"/>
    </BuilderRow>
    <BuilderRow label.translate="Show on">
        <BuilderSelect action="'moveBlock'" preview="false">
            <BuilderSelectItem actionValue="'currentPage'">This page</BuilderSelectItem>
            <BuilderSelectItem actionValue="'allPages'">All pages</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.PopupCookiesOption", `/website/static/src/builder/plugins/options/popup_option.xml`, `<t t-name="website.PopupCookiesOption" xml:space="preserve">
    <t t-call="website.base_popup_options">
        <t t-set="isCookiesOption" t-value="true"/>
    </t>
</t>
`);
registerTemplate("website.AddProductOption", `/website/static/src/builder/plugins/options/pricelist_option/add_product_option.xml`, `<t t-name="website.AddProductOption" xml:space="preserve">
    <BuilderRow label.translate="Product">
        <BuilderButton action="'addItem'" actionParam="\`\${props.productSelector}:last-of-type\`" preview="false" className="'o_we_bg_brand_primary'" applyTo="props.applyTo">
            Add Product
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.PriceListBoxedDescriptionOption", `/website/static/src/builder/plugins/options/pricelist_option/pricelist_boxed_option.xml`, `<t t-name="website.PriceListBoxedDescriptionOption" xml:space="preserve">
    <BuilderRow label.translate="Descriptions">
        <BuilderCheckbox action="'togglePriceListDescription'" actionParam="{ itemClass:'s_pricelist_boxed_item', descriptionClass: 's_pricelist_boxed_item_description' }"/>
    </BuilderRow>
    <BuilderContext applyTo="'.s_pricelist_boxed_item_line'">
        <BorderConfigurator withRoundCorner="false" label.translate="Separator" direction="'top'"/>
    </BuilderContext>
</t>

`);
registerTemplate("website.PriceListCafeDescriptionOption", `/website/static/src/builder/plugins/options/pricelist_option/pricelist_cafe_option.xml`, `<t t-name="website.PriceListCafeDescriptionOption" xml:space="preserve">
    <BuilderRow label.translate="Descriptions">
        <BuilderCheckbox action="'togglePriceListDescription'" actionParam="{ itemClass:'s_pricelist_cafe_item', descriptionClass: 's_pricelist_cafe_item_description' }"/>
    </BuilderRow>
    <BuilderContext applyTo="'.s_pricelist_cafe_item_line'">
        <BorderConfigurator withRoundCorner="false" label.translate="Separator" direction="'top'"/>
    </BuilderContext>
</t>

`);
registerTemplate("website.ProductCatalogDescriptionOption", `/website/static/src/builder/plugins/options/pricelist_option/product_catalog_option.xml`, `<t t-name="website.ProductCatalogDescriptionOption" xml:space="preserve">
    <BuilderRow label.translate="Descriptions">
        <BuilderCheckbox action="'togglePriceListDescription'" actionParam="{ itemClass:'s_product_catalog_dish', descriptionClass: 's_product_catalog_dish_description' }"/>
    </BuilderRow>
    <BuilderContext applyTo="'.s_product_catalog_dish_dot_leaders'">
        <BorderConfigurator withRoundCorner="false" label.translate="Separator" direction="'top'"/>
    </BuilderContext>
</t>

`);
registerTemplate("website.ProcessStepsOption", `/website/static/src/builder/plugins/options/process_steps_option.xml`, `<t t-name="website.ProcessStepsOption" xml:space="preserve">
    <BuilderRow label.translate="Connector">
        <BuilderSelect>
            <t t-foreach="connectorOptionParams" t-as="connectorOptionParam" t-key="connectorOptionParam_index">
                <BuilderSelectItem action="'changeConnector'" id="getConnectorId(connectorOptionParam.key)" actionParam="connectorOptionParam.key"><t t-out="connectorOptionParam.param"/></BuilderSelectItem>
            </t>
        </BuilderSelect>
        <BuilderColorPicker styleAction="'stroke'" t-if="!this.isActiveItem('no_connector_opt')" applyTo="'.s_process_step_connector path'" action="'changeArrowColor'" enabledTabs="['solid', 'custom']"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.ProgressBarOption", `/website/static/src/builder/plugins/options/progress_bar_option.xml`, `<t t-name="website.ProgressBarOption" xml:space="preserve">
    <BuilderRow label.translate="Value">
        <BuilderNumberInput action="'progressBarValue'" unit="'%'"/>
    </BuilderRow>
    <BuilderRow label.translate="Label">
        <BuilderSelect>
            <BuilderSelectItem action="'display'" actionParam="'inline'" classAction="'s_progress_bar_label_inline'">Display Inside</BuilderSelectItem>
            <BuilderSelectItem action="'display'" actionParam="'below'" classAction="'s_progress_bar_label_below'">Display Below</BuilderSelectItem>
            <BuilderSelectItem action="'display'" actionParam="'after'" classAction="'s_progress_bar_label_after'">Display After</BuilderSelectItem>
            <BuilderSelectItem action="'display'" actionParam="'none'" classAction="'s_progress_bar_label_hidden'">Hide</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Colors">
        <BuilderColorPicker applyTo="'.progress-bar'" styleAction="'background-color'"/>
    </BuilderRow>
    <BuilderRow label.translate="Striped">
        <BuilderCheckbox id="'progress_striped_opt'" classAction="'progress-bar-striped'" applyTo="'.progress-bar'"/>
    </BuilderRow>
    <BuilderRow label.translate="Animated" level="1">
        <BuilderCheckbox classAction="'progress-bar-animated'" t-if="this.isActiveItem('progress_striped_opt')" applyTo="'.progress-bar'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.ScrollButtonOption", `/website/static/src/builder/plugins/options/scroll_button_option.xml`, `<t t-name="website.ScrollButtonOption" xml:space="preserve">
    <BuilderRow label="this.state.heightLabel">
        <BuilderButtonGroup action="'scrollButtonSectionHeightClass'">
            <BuilderButton id="'minheight_auto_opt'" actionParam="''" title.translate="Fit content">Auto</BuilderButton>
            <BuilderButton actionParam="'o_half_screen_height'" title.translate="Half screen">50%</BuilderButton>
            <BuilderButton id="'full_height_opt'" actionParam="'o_full_screen_height'" title.translate="Full screen">100%</BuilderButton>
        </BuilderButtonGroup>
    </BuilderRow>

    <BuilderRow label.translate="Height" level="1" t-if="this.showHeightField()">
        <BuilderNumberInput styleAction="{ mainParam: 'height', force: true, allowImportant: false }" unit="'px'" min="0"/>
    </BuilderRow>

    <BuilderRow label.translate="Scroll Down Button" t-if="this.isActiveItem('full_height_opt')">
        <BuilderCheckbox id="'scroll_button_opt'" action="'addScrollButton'"/>
    </BuilderRow>

    <t t-if="this.isActiveItem('scroll_button_opt')">
        <BuilderRow label.translate="Colors" level="1" applyTo="':scope &gt; .o_scroll_button'">
            <BuilderColorPicker styleAction="'background-color'"/>
            <BuilderColorPicker styleAction="'color'"/>
        </BuilderRow>
        <BuilderRow label.translate="Spacing" level="1" applyTo="':scope &gt; .o_scroll_button'">
            <BuilderSelect>
                <BuilderSelectItem classAction="''">None</BuilderSelectItem>
                <BuilderSelectItem classAction="'mb-1'">Extra-Small</BuilderSelectItem>
                <BuilderSelectItem classAction="'mb-2'">Small</BuilderSelectItem>
                <BuilderSelectItem classAction="'mb-3'">Medium</BuilderSelectItem>
                <BuilderSelectItem classAction="'mb-4'">Large</BuilderSelectItem>
                <BuilderSelectItem classAction="'mb-5'">Extra-Large</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("website.SearchbarOption", `/website/static/src/builder/plugins/options/searchbar_option.xml`, `<t t-name="website.SearchbarOption" xml:space="preserve">
    <BuilderRow label.translate="Search within">
        <BuilderSelect action="'setSearchType'" dataAttributeAction="'searchType'" id="'scope_opt'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'all'" actionValue="'/website/search'" id="'search_all_opt'">
                Everything
            </BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'pages'" actionValue="'/pages'" id="'search_pages_opt'">
                Pages
            </BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Order by">
        <BuilderSelect id="'order_opt'" dataAttributeAction="'orderBy'" action="'setOrderBy'">
            <t t-foreach="this.orderByItems" t-as="item" t-key="item_index">
                <BuilderSelectItem t-if="!item.dependency or this.isActiveItem(item.dependency)" actionValue="item.orderBy" dataAttributeActionValue="item.orderBy" id="item.id" t-out="item.label"/>
            </t>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Suggestions">
        <BuilderNumberInput id="'limit_opt'" dataAttributeAction="'limit'" min="0"/>
        <span class="flex-grow-1 w-100">results</span>
    </BuilderRow>

    <t t-if="this.getItemValue('limit_opt') &gt; 0" t-foreach="this.displayItems" t-as="item" t-key="\`\${item.label}_\${item.dataAttribute}_\${item.dependency}\`">
        <BuilderRow label="item.label" t-if="this.isActiveItem(item.dependency)">
            <BuilderCheckbox action="'setNonEmptyDataAttribute'" actionParam="item.dataAttribute" actionValue="'true'"/>
        </BuilderRow>
    </t>
    <BuilderRow label.translate="Style">
        <BuilderSelect action="'setSearchbarStyle'">
            <BuilderSelectItem actionParam="'default'">Default Input Style</BuilderSelectItem>
            <BuilderSelectItem actionParam="'light'">Light</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.SocialMediaLinks", `/website/static/src/builder/plugins/options/social_media_links.xml`, `<t t-name="website.SocialMediaLinks" xml:space="preserve">
    <div class="p-1 px-2 ps-3">
        <table t-ref="root" class="o_social_media_list">
            <tbody>

                <tr t-foreach="this.computeItems()" t-as="item" t-key="item.fabricatedKey" t-att-data-id="item.id">
                    <td>
                        <button class="btn o_drag_handle ps-0">
                            <i class="oi oi-draggable"/>
                        </button>
                    </td>
                    <td width="100%">
                        <BuilderTextInput t-if="item.media" action="'editRecordedSocialMediaLink'" actionParam="item.media" placeholder="\`https://\${item.media}.com/your-page\`"/>
                        <BuilderTextInput t-else="" action="'editSocialMediaLink'" attributeAction="'href'" applyTo="\`a:nth-of-type(\${item.domPosition})\`" placeholder="'https://example.com/your-page'"/>
                    </td>
                    <td style="'min-width: 2.5em'">
                        <BuilderCheckbox t-if="item.media" action="'toggleRecordedSocialMediaLink'" actionParam="item.domPosition ? { domPosition: item.domPosition } : { media: item.media, elementAfter: item.nextLink }"/>
                        <div t-else="" style="margin: 0 3px">
                            <BuilderButton type="'danger'" className="'fa fa-fw fa-minus'" title.translate="Remove link" action="'deleteSocialMediaLink'" applyTo="\`a:nth-of-type(\${item.domPosition})\`" preview="false"/>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="p-1 px-2 ps-3">
        <BuilderButton action="'addSocialMediaLink'" preview="false">Add New Social Network</BuilderButton>
    </div>
</t>

`);
registerTemplate("website.example_social_media_link", `/website/static/src/builder/plugins/options/social_media_links.xml`, `<t t-name="website.example_social_media_link" xml:space="preserve">
    <a href="https://www.example.com" target="_blank" aria-label="example">
        <i class="fa rounded shadow-sm o_editable_media fa-pencil"/>
    </a>
</t>

`);
registerTemplate("website.SocialMediaOption", `/website/static/src/builder/plugins/options/social_media_option.xml`, `<t t-name="website.SocialMediaOption" xml:space="preserve">
    <BuilderRow label.translate="Title Position">
        <BuilderSelect applyTo="'.s_share_title, .s_social_media_title'">
            <BuilderSelectItem classAction="'d-block'">Top</BuilderSelectItem>
            <BuilderSelectItem classAction="''">Left</BuilderSelectItem>
            <BuilderSelectItem classAction="'d-none'">None</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Layout">
        <BuilderSelect applyTo="'.fa'">
            <BuilderSelectItem classAction="'rounded shadow-sm'">Square</BuilderSelectItem>
            <BuilderSelectItem classAction="'rounded-empty-circle shadow-sm'">Circle</BuilderSelectItem>
            <BuilderSelectItem classAction="'rounded-circle shadow-sm'">Disk</BuilderSelectItem>
            <BuilderSelectItem classAction="'fa-stack'">None</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Size">
        <BuilderSelect applyTo="'.fa'">
            <BuilderSelectItem classAction="''">Small</BuilderSelectItem>
            <BuilderSelectItem classAction="'fa-2x'">Medium</BuilderSelectItem>
            <BuilderSelectItem classAction="'fa-3x'">Big</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>

    <BuilderRow label.translate="Color">
        <BuilderCheckbox classAction="'no_icon_color'" inverseAction="true"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.TableOfContentOption", `/website/static/src/builder/plugins/options/table_of_content_option.xml`, `<t t-name="website.TableOfContentOption" xml:space="preserve">
    <BuilderRow label.translate="Content">
        <BuilderButton action="'addItem'" actionParam="'.s_table_of_content_main &gt; section:last-of-type'" preview="false" className="'o_we_bg_brand_primary'">
            Add Item
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.TableOfContentNavbarOption", `/website/static/src/builder/plugins/options/table_of_content_option.xml`, `<t t-name="website.TableOfContentNavbarOption" xml:space="preserve">
    <BuilderRow label.translate="Position">
        <BuilderButtonGroup>
            <BuilderButton icon="'fa-long-arrow-left'" title.translate="Left" action="'navbarPosition'" actionParam="'left'"/>
            <BuilderButton icon="'fa-long-arrow-up'" title.translate="Top" action="'navbarPosition'" actionParam="'top'"/>
            <BuilderButton icon="'fa-long-arrow-right'" title.translate="Right" action="'navbarPosition'" actionParam="'right'"/>
        </BuilderButtonGroup>
    </BuilderRow>
    <BuilderRow label.translate="Sticky">
        <BuilderCheckbox classAction="'s_table_of_content_navbar_sticky'" preview="false"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.TimelineListOption", `/website/static/src/builder/plugins/options/timeline_list_option.xml`, `<t t-name="website.TimelineListOption" xml:space="preserve">
    <BuilderRow label.translate="Milestones">
        <BuilderButton action="'addItem'" actionParam="'.s_timeline_list_row'" actionValue="'beforebegin'" preview="false" className="'o_we_bg_brand_primary'">
            Add New
        </BuilderButton>
    </BuilderRow>

    <BuilderRow label.translate="Alignment">
        <BuilderButtonGroup applyTo="'.s_timeline_list_wrapper'">
            <BuilderButton icon="'fa-align-left'" title.translate="Align Left" classAction="'justify-content-start'"/>
            <BuilderButton icon="'fa-align-center'" title.translate="Align Center" classAction="'justify-content-center'"/>
            <BuilderButton icon="'fa-align-right'" title.translate="Align Right" classAction="'justify-content-end'"/>
        </BuilderButtonGroup>
    </BuilderRow>
</t>

`);
registerTemplate("website.TimelineOption", `/website/static/src/builder/plugins/options/timeline_option.xml`, `<t t-name="website.TimelineOption" xml:space="preserve">
    <BuilderRow label.translate="Date">
        <BuilderButton action="'addItem'" actionParam="'.s_timeline_row'" actionValue="'beforebegin'" preview="false" className="'o_we_bg_brand_primary'">
            Add Date
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website.DeviceVisibility", `/website/static/src/builder/plugins/options/visibility_option.xml`, `<t t-name="website.DeviceVisibility" xml:space="preserve">
    <BuilderButton className="'btn-danger-color-active'" action="'toggleDeviceVisibility'" actionParam="'no_desktop'" preview="false">
		<Img src="'/html_builder/static/img/options/desktop_invisible.svg'" style="'width: 12px'"/>
	</BuilderButton>
    <BuilderButton className="'btn-danger-color-active'" action="'toggleDeviceVisibility'" actionParam="'no_mobile'" preview="false">
		<Img src="'/html_builder/static/img/options/mobile_invisible.svg'" style="'width: 12px'"/>
	</BuilderButton>
</t>

`);
registerTemplate("website.DeviceVisibilityOption", `/website/static/src/builder/plugins/options/visibility_option.xml`, `<t t-name="website.DeviceVisibilityOption" xml:space="preserve">
    <BuilderRow label.translate="Visibility">
        <t t-call="website.DeviceVisibility"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.snippet_options_conditional_visibility", `/website/static/src/builder/plugins/options/visibility_option.xml`, `<t t-name="website.snippet_options_conditional_visibility" xml:space="preserve">
    <BuilderRow label="option_name" level="1" t-if="isActiveItem('visibility_conditional')" preview="false">

        <BuilderSelect dataAttributeAction="attribute_rule">
            <BuilderSelectItem dataAttributeActionValue="null">Visible for</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'hide'">Hidden for</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label="' '" t-if="isActiveItem('visibility_conditional')" preview="false">

        <BuilderMany2Many model="model" fields="data_fields" domain="domain" dataAttributeAction="save_attribute"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.VisibilityOption", `/website/static/src/builder/plugins/options/visibility_option.xml`, `<t t-name="website.VisibilityOption" xml:space="preserve">
    <t t-set="language_ids" t-value="env.services.website.currentWebsite.language_ids || []"/>

    <t t-set="geoip_country_code" t-value="this.props.websiteSession.geoip_country_code"/>
    <BuilderRow label.translate="Visibility" expand="true">
        <t t-call="website.DeviceVisibility"/>
        <BuilderSelect dataAttributeAction="'visibility'" action="'forceVisible'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="null">No condition</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'conditional'" classAction="'o_snippet_invisible'" id="'visibility_conditional'">Conditionally</BuilderSelectItem>
        </BuilderSelect>
	    <t t-set-slot="collapse">
		    <t t-if="geoip_country_code">
			    <t t-call="website.snippet_options_conditional_visibility">
			        <t t-set="option_name">Country</t>
			        <t t-set="attribute_rule" t-value="'visibilityValueCountryRule'"/>
			        <t t-set="save_attribute" t-value="'visibilityValueCountry'"/>
			        <t t-set="model" t-value="'res.country'"/>
			        <t t-set="data_fields" t-value="['code']"/>
			    </t>
		    </t>
		    <t t-if="language_ids.length &gt; 1">
			    <t t-call="website.snippet_options_conditional_visibility">
			        <t t-set="option_name">Languages</t>
			        <t t-set="attribute_rule" t-value="'visibilityValueLangRule'"/>
			        <t t-set="save_attribute" t-value="'visibilityValueLang'"/>
			        <t t-set="model" t-value="'res.lang'"/>
			        <t t-set="domain" t-value="[['id', 'in', language_ids]]"/>
			        <t t-set="data_fields" t-value="['code']"/>
		        </t>
		    </t>
		    <t t-call="website.snippet_options_conditional_visibility">
		        <t t-set="option_name">UTM Campaign</t>
		        <t t-set="attribute_rule" t-value="'visibilityValueUtmCampaignRule'"/>
		        <t t-set="save_attribute" t-value="'visibilityValueUtmCampaign'"/>
		        <t t-set="model" t-value="'utm.campaign'"/>
		    </t>
		    <t t-call="website.snippet_options_conditional_visibility">
		        <t t-set="option_name">UTM Medium</t>
		        <t t-set="attribute_rule" t-value="'visibilityValueUtmMediumRule'"/>
		        <t t-set="save_attribute" t-value="'visibilityValueUtmMedium'"/>
		        <t t-set="model" t-value="'utm.medium'"/>
		    </t>
		    <t t-call="website.snippet_options_conditional_visibility">
		        <t t-set="option_name">UTM Source</t>
		        <t t-set="attribute_rule" t-value="'visibilityValueUtmSourceRule'"/>
		        <t t-set="save_attribute" t-value="'visibilityValueUtmSource'"/>
		        <t t-set="model" t-value="'utm.source'"/>
		    </t>
		    <BuilderRow label.translate="Users" level="1" t-if="isActiveItem('visibility_conditional')" preview="false">
		        <BuilderSelect dataAttributeAction="'visibilityValueLogged'">
		            <BuilderSelectItem dataAttributeActionValue="'[{&quot;id&quot;:1,&quot;value&quot;:&quot;true&quot;}]'">Visible for Logged In</BuilderSelectItem>
		            <BuilderSelectItem dataAttributeActionValue="'[{&quot;id&quot;:2,&quot;value&quot;:&quot;false&quot;}]'">Visible for Logged Out</BuilderSelectItem>
		            <BuilderSelectItem dataAttributeActionValue="''">Visible for Everyone</BuilderSelectItem>
		        </BuilderSelect>
		    </BuilderRow>
	    </t>
    </BuilderRow>
</t>

`);
registerTemplate("website.InfoPageOption", `/website/static/src/builder/plugins/options/website_info_option.xml`, `<t t-name="website.InfoPageOption" xml:space="preserve">
        <BuilderContext action="'websiteConfig'">
            <BuilderRow label.translate="Odoo Information">
                <BuilderCheckbox actionParam="{views: ['website.show_website_info']}"/>
            </BuilderRow>
        </BuilderContext>
    </t>

`);
registerTemplate("website.TopMenuVisibilityOption", `/website/static/src/builder/plugins/options/website_page_config_option.xml`, `<t t-name="website.TopMenuVisibilityOption" xml:space="preserve">
    <BuilderRow label.translate="Header Position" t-if="!this.isActiveItem('header_sidebar_opt')">
        <BuilderSelect preview="false" action="'setWebsiteHeaderVisibility'">
            <BuilderSelectItem actionValue="'overTheContent'" id="'overTheContent'" t-if="props.doesPageOptionExist('header_overlay')">Over The Content</BuilderSelectItem>
            <BuilderSelectItem actionValue="'regular'">Regular</BuilderSelectItem>
            <BuilderSelectItem actionValue="'hidden'">Hidden</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>    
    <t t-if="isActiveItem('overTheContent')">
        <BuilderRow label.translate="Background" level="1" t-if="props.doesPageOptionExist('header_color')">
            <BuilderColorPicker action="'setPageWebsiteDirty'" styleAction="'background-color'" enabledTabs="['custom']"/>
        </BuilderRow>
        <BuilderRow label.translate="Text Color" level="1" t-if="props.doesPageOptionExist('header_text_color')">
            <BuilderColorPicker action="'setPageWebsiteDirty'" styleAction="'color'" enabledTabs="['solid', 'custom']"/>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("website.HideFooterOption", `/website/static/src/builder/plugins/options/website_page_config_option.xml`, `<t t-name="website.HideFooterOption" xml:space="preserve">
    <BuilderRow label.translate="Page Visibility">
        <BuilderCheckbox action="'setWebsiteFooterVisible'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.SectionBackgroundOption", `/website/static/src/builder/plugins/section_background_option.xml`, `<t t-name="website.SectionBackgroundOption" xml:space="preserve">
    <BuilderRow label.translate="Background">
        <BuilderColorPicker styleAction="'background-color'"/>
    </BuilderRow>
</t>

`);
registerTemplate("website.SizeOption", `/website/static/src/builder/plugins/size_option.xml`, `<t t-name="website.SizeOption" xml:space="preserve">
    <BuilderRow label.translate="Size">
        <BuilderSelect>
            <BuilderSelectItem classAction="'s_alert_sm'">Small</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_alert_md'">Medium</BuilderSelectItem>
            <BuilderSelectItem classAction="'s_alert_lg'">Large</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
</t>

`);
registerTemplate("website.SwitchableViews", `/website/static/src/builder/plugins/switchable_views.xml`, `<t t-name="website.SwitchableViews" xml:space="preserve">
    <t t-foreach="switchableRelatedViews" t-as="view" t-key="view.id">
        <BuilderRow label="view.name">
            <BuilderCheckbox action="'websiteConfig'" actionParam="{                     views: [view.key],                 }"/>
        </BuilderRow>
    </t>
</t>

`);
registerTemplate("website.ThemeAdvancedOption", `/website/static/src/builder/plugins/theme/theme_advanced_option.xml`, `<t t-name="website.ThemeAdvancedOption" xml:space="preserve">
    <BuilderContext preview="false">
        <BuilderRow label.translate="Show Header">
            <BuilderCheckbox action="'websiteConfig'" actionParam="{                     views: ['!website.option_layout_hide_header'],                 }"/>
        </BuilderRow>
        <BuilderRow label.translate="Code Injection" tooltip.translate="Enter code that will be added into every page of your site">
            <BuilderButton title.translate="&lt;Head&gt; and &lt;body&gt;" action="'editCustomCode'">&lt;head&gt; and &lt;/body&gt;</BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Google Map">
            <BuilderButton title.translate="Custom Key" action="'configureApiKey'">Custom Key</BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Status Colors">
            <BuilderColorPicker title.translate="Success" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="{colorType: 'theme', mainParam: 'success'}" selectedTab="'custom'"/>
            <BuilderColorPicker title.translate="Info" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="{colorType: 'theme', mainParam: 'info'}" selectedTab="'custom'"/>
            <BuilderColorPicker title.translate="Warning" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="{colorType: 'theme', mainParam: 'warning'}" selectedTab="'custom'"/>
            <BuilderColorPicker title.translate="Error" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="{colorType: 'theme', mainParam: 'danger'}" selectedTab="'custom'"/>
        </BuilderRow>
        <BuilderRow label.translate="Grays">
            <div class="o_we_gray_preview d-flex w-100">
	            <t t-foreach="[0,1,2,3,4,5,6,7,8]" t-as="i" t-key="i">
	                <t t-set="grayCode" t-value="(9 - i) * 100"/>
	                <span t-attf-title="Gray #{grayCode}" t-attf-variable="#{grayCode}" t-attf-class="o_we_user_value_widget o_we_gray_preview bg-#{grayCode}" t-attf-style="background-color: {{props.grays[grayCode]}} !important"/>
	            </t>
            </div>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Hue" level="1">
                    <div class="o_we_slider_tint">
	                    <BuilderRange action="'customizeGray'" actionParam="'gray-hue'" min="0" max="359.9" step="0.1"/>
                    </div>
                </BuilderRow>
                <BuilderRow label.translate="Saturation" level="1">
                    <BuilderRange action="'customizeGray'" actionParam="'gray-extra-saturation'" step="0.1"/>
                </BuilderRow>
            </t>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeColorsOption", `/website/static/src/builder/plugins/theme/theme_colors_option.xml`, `<t t-name="website.ThemeColorsOption" xml:space="preserve">
        <BuilderContext preview="false">

            <BuilderRow>
                <div class="d-flex flex-row gap-3 w-100 justify-content-between ps-2" style="height: 50px">
                    <div class="d-flex flex-column h-100 justify-content-between">
                        <span class="fst-italic">Main</span>
                        <div class="d-flex flex-row gap-1">
                            <BuilderColorPicker title="Primary" action="'customizeWebsiteColor'" actionParam="'o-color-1'" enabledTabs="['solid', 'custom']" selectedTab="'custom'"/>
                            <BuilderColorPicker title="Secondary" action="'customizeWebsiteColor'" actionParam="'o-color-2'" enabledTabs="['solid', 'custom']" selectedTab="'custom'"/>
                            <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="'o-color-3'" enabledTabs="['solid', 'custom']" selectedTab="'custom'"/>
                        </div>
                    </div>
                    <div class="d-flex flex-column h-100 justify-content-between">
                        <span class="fst-italic">Light &amp; Dark</span>
                        <div class="d-flex flex-row gap-1">
                            <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="'o-color-4'" enabledTabs="['solid', 'custom']" selectedTab="'custom'"/>
                            <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="'o-color-5'" enabledTabs="['solid', 'custom']" selectedTab="'custom'"/>
                        </div>
                    </div>
                    <div class="d-flex flex-column h-100">
                        <div class="d-flex flex-column h-100 justify-content-center">
                            <BuilderSelect action="'changeColorPalette'" actionParam="'color-palettes-name'" dropdownContainerClass="'o-color-palette-dropdown'">
                                <t t-set-slot="fixedButton">
                                    <Img class="'h-100'" src="'/website/static/src/img/snippets_options/palette.svg'"/>
                                </t>
                                <t t-foreach="palettes" t-as="palette" t-key="palette.name">
                                    <BuilderSelectItem actionValue="palette.name">
                                        <div class="o-color-palette-pill d-flex flex-row border rounded-pill overflow-hidden">
                                            <t t-foreach="palette.colors" t-as="color" t-key="color">
                                                <span class="w-100" t-attf-style="background-color: {{color}};"/>
                                            </t>
                                        </div>
                                    </BuilderSelectItem>
                                </t>
                            </BuilderSelect>
                        </div>
                    </div>
                </div>
            </BuilderRow>
            <BuilderRow label.translate="Color Presets">
                <div/>     
                <t t-set-slot="collapse">
                    <t t-foreach="state.presets" t-as="preset" t-key="preset.id">
                        <BuilderRow t-slot-scope="row">
                            <div class="o_cc_preview_wrapper" t-on-click="row.toggleCollapseContent">
                                <div inert="" t-att-class="\`o_cc\${preset.id}\`" class="w-100 p-2 d-flex justify-content-between align-items-center ms-3">
                                    <h3 class="m-0">
                                        Title
                                    </h3>
                                    <p class="my-0 ms-3 me-auto">
                                        Text
                                    </p>
                                    <button class="btn btn-primary btn-sm me-2">
                                        Button
                                    </button>
                                    <button class="btn btn-secondary btn-sm">
                                        Button
                                    </button>
                                </div>
                            </div>
                            <t t-set-slot="collapse">
                                <BuilderRow label.translate="Background">
                                    <BuilderColorPicker enabledTabs="['solid', 'custom', 'gradient']" action="'customizeWebsiteColor'" actionParam="{ mainParam: \`o-cc\${preset.id}-bg\`, gradientColor: \`o-cc\${preset.id}-bg-gradient\` }"/>
                                </BuilderRow>
                                <BuilderRow label.translate="Text">
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-text\`" enabledTabs="['solid', 'custom']"/>
                                </BuilderRow>
                                <BuilderRow label.translate="Headings">
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-headings\`" enabledTabs="['solid', 'custom']"/>
                                    <t t-set-slot="collapse">
                                        <t t-foreach="[2, 3, 4, 5, 6]" t-as="j" t-key="j">
                                            <BuilderRow label="\`Headings \${j}\`">
                                                <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-h\${j}\`" enabledTabs="['solid', 'custom']"/>
                                            </BuilderRow>
                                        </t>
                                    </t>
                                </BuilderRow>
                                <BuilderRow label.translate="Links">
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-link\`" enabledTabs="['solid', 'custom']"/>
                                </BuilderRow>
                                <BuilderRow label.translate="Primary Buttons">
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-btn-primary\`" enabledTabs="['solid', 'custom']"/>
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-btn-primary-border\`" enabledTabs="['solid', 'custom']"/>
                                </BuilderRow>
                                <BuilderRow label.translate="Secondary Buttons">
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-btn-secondary\`" enabledTabs="['solid', 'custom']"/>
                                    <BuilderColorPicker action="'customizeWebsiteColor'" actionParam="\`o-cc\${preset.id}-btn-secondary-border\`" enabledTabs="['solid', 'custom']"/>
                                </BuilderRow>
                            </t>
                        </BuilderRow>
                    </t>
                </t>
            </BuilderRow>
        </BuilderContext>
    </t>
`);
registerTemplate("website.ThemeTab", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeTab" xml:space="preserve">
    <div class="o_theme_tab h-100">
        <div t-ref="content" class="d-flex flex-column h-100">
            <t t-foreach="optionsContainers" t-as="optionsContainer" t-key="optionsContainer.id">

                <OptionsContainer snippetModel="optionsContainer.snippetModel" editingElement="optionsContainer.element" options="optionsContainer.options" containerTitle="optionsContainer.containerTitle" headerMiddleButtons="optionsContainer.headerMiddleButtons" isRemovable="optionsContainer.isRemovable" isClonable="optionsContainer.isClonable" containerTopButtons="optionsContainer.optionsContainerTopButtons"/>
            </t>
        </div>
    </div>
</t>
`);
registerTemplate("website.ThemeWebsiteSettingsOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeWebsiteSettingsOption" xml:space="preserve">
    <BuilderContext preview="false">
        <BuilderRow label.translate="Theme">
            <BuilderButton action="'switchTheme'" type="'global'">Switch Theme</BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Language">
            <BuilderButton action="'addLanguage'">Add a Language</BuilderButton>
        </BuilderRow>
        <BuilderRow label.translate="Page Layout">
            <BuilderSelect action="'customizeWebsiteVariable'" actionParam="'layout'">
                <BuilderSelectItem actionValue="'full'" id="'layout_full_opt'">Full</BuilderSelectItem>
                <BuilderSelectItem actionValue="'boxed'">Boxed</BuilderSelectItem>
                <BuilderSelectItem actionValue="'framed'">Framed</BuilderSelectItem>
                <BuilderSelectItem actionValue="'postcard'">Postcard</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow label.translate="Background" level="1">
            <BuilderColorPicker t-if="!this.isActiveItem('layout_full_opt')" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="'body'"/>
            <BuilderButtonGroup action="'customizeBodyBgType'">
                <BuilderButton title.translate="Image" actionValue="'image'" className="'fa fa-fw fa-camera'"/>
                <BuilderButton title.translate="Pattern" actionValue="'pattern'" className="'fa fa-fw fa-th'"/>
                <BuilderButton title.translate="None" actionValue="'NONE'" className="'fa fa-fw fa-ban'"/>
            </BuilderButtonGroup>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeParagraphOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeParagraphOption" xml:space="preserve">
    <BuilderContext preview="false">
        <BuilderRow label.translate="Font Size">
            <BuilderNumberInput action="'customizeWebsiteVariable'" actionParam="'font-size-base'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput action="'customizeWebsiteVariable'" actionParam="'small-font-size'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Font Family">
            <BuilderFontFamilyPicker action="'customizeWebsiteVariable'" actionParam="'font'" valueParamName="'actionValue'"/>
        </BuilderRow>
        <BuilderRow label.translate="Line Height">

            <BuilderNumberInput action="'customizeWebsiteVariable'" actionParam="'body-line-height'" unit="'✕'" saveUnit="''"/>
        </BuilderRow>
        <BuilderRow label.translate="Margins" action="'customizeWebsiteVariable'">
            <BuilderNumberInput title.translate="Top" actionParam="'paragraph-margin-top'" unit="'px'" saveUnit="'px'"/>
            <BuilderNumberInput title.translate="Bottom" actionParam="'paragraph-margin-bottom'" unit="'px'" saveUnit="'px'"/>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeHeadingsOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeHeadingsOption" xml:space="preserve">
    <BuilderContext preview="false">
        <t t-set="heading_label">Heading</t>
        <t t-set="display_label">Display</t>

        <t t-set="used_display_font_sizes" t-value="[1, 2, 3, 4]"/>
        <BuilderRow label.translate="Font Size" action="'customizeWebsiteVariable'">
            <BuilderNumberInput title.translate="Heading 1" actionParam="'h1-font-size'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <t t-foreach="[2, 3, 4, 5, 6]" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="heading_label + ' ' + depth">
                        <BuilderNumberInput actionParam="'h' + depth + '-font-size'" unit="'px'" saveUnit="'rem'"/>
                    </BuilderRow>
                </t>
                <t t-foreach="used_display_font_sizes" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="display_label + ' ' + depth">
                        <BuilderNumberInput actionParam="'display-' + depth + '-font-size'" unit="'px'" saveUnit="'rem'"/>
                    </BuilderRow>
                </t>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Font Family" tooltip.translate="Heading 1" action="'customizeWebsiteVariable'">
            <BuilderFontFamilyPicker actionParam="'headings-font'" valueParamName="'actionValue'"/>
            <BuilderButton className="'fa fa-fw fa-remove o_we_hover_danger o_we_link'" title.translate="Reset to Paragraph Font Family" action="'removeFont'" actionParam="{ variable: 'headings-font', tbd: 'set-headings-font' }"/>
            <t t-set-slot="collapse">
                <t t-foreach="[2, 3, 4, 5, 6]" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="heading_label + ' ' + depth">
                        <BuilderFontFamilyPicker actionParam="'h' + depth + '-font'" valueParamName="'actionValue'"/>
                        <BuilderButton className="'fa fa-fw fa-remove o_we_hover_danger o_we_link'" title.translate="Reset to Headings Font Family" action="'removeFont'" actionParam="{ variable: 'h' + depth + '-font', tbd: 'set-h' + depth + '-font' }"/>
                    </BuilderRow>
                </t>
                <t t-foreach="used_display_font_sizes" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="display_label + ' ' + depth">
                        <BuilderFontFamilyPicker actionParam="'display-' + depth + '-font'" valueParamName="'actionValue'"/>
                        <BuilderButton className="'fa fa-fw fa-remove o_we_hover_danger o_we_link'" title.translate="Reset to Headings Font Family" action="'removeFont'" actionParam="{ variable: 'display-' + depth + '-font', tbd: 'set-display-' + depth + '-font' }"/>
                    </BuilderRow>
                </t>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Line Height" action="'customizeWebsiteVariable'">

            <BuilderNumberInput title.translate="Heading 1" actionParam="'headings-line-height'" unit="'✕'" saveUnit="''"/>
            <t t-set-slot="collapse">
                <t t-foreach="[2, 3, 4, 5, 6]" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="heading_label + ' ' + depth">
                        <BuilderNumberInput actionParam="'h' + depth + '-line-height'" unit="'✕'" saveUnit="''"/>
                    </BuilderRow>
                </t>
                <t t-foreach="used_display_font_sizes" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="display_label + ' ' + depth">
                        <BuilderNumberInput actionParam="'display-' + depth + '-line-height'" unit="'✕'" saveUnit="''"/>
                    </BuilderRow>
                </t>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Margins" tooltip.translate="Heading 1" action="'customizeWebsiteVariable'">
            <BuilderNumberInput title.translate="Top" actionParam="'headings-margin-top'" unit="'px'" saveUnit="'px'"/>
            <BuilderNumberInput title.translate="Bottom" actionParam="'headings-margin-bottom'" unit="'px'" saveUnit="'px'"/>
            <t t-set-slot="collapse">
                <t t-foreach="[2, 3, 4, 5, 6]" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="heading_label + ' ' + depth">
                        <BuilderNumberInput title.translate="Top" actionParam="'h' + depth + '-margin-top'" unit="'px'" saveUnit="'px'"/>
                        <BuilderNumberInput title.translate="Bottom" actionParam="'h' + depth + '-margin-bottom'" unit="'px'" saveUnit="'px'"/>
                    </BuilderRow>
                </t>
                <t t-foreach="used_display_font_sizes" t-as="depth" t-key="depth">
                    <BuilderRow level="1" label="display_label + ' ' + depth">
                        <BuilderNumberInput title.translate="Top" actionParam="'display-' + depth + '-margin-top'" unit="'px'" saveUnit="'px'"/>
                        <BuilderNumberInput title.translate="Bottom" actionParam="'display-' + depth + '-margin-bottom'" unit="'px'" saveUnit="'px'"/>
                    </BuilderRow>
                </t>
            </t>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeButtonOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeButtonOption" xml:space="preserve">
    <BuilderContext preview="false">
        <BuilderRow label.translate="Primary Style">
            <BuilderSelect action="'customizeButtonStyle'" actionParam="'primary'">
                <BuilderSelectItem actionValue="'fill'">Fill</BuilderSelectItem>
                <BuilderSelectItem actionValue="'outline'" id="'btn_primary_outline_opt'">Outline</BuilderSelectItem>
                <BuilderSelectItem actionValue="'flat'">Flat</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('btn_primary_outline_opt')" level="1" label.translate="Border Width" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'btn-primary-outline-border-width'" unit="'px'" saveUnit="'rem'"/>
        </BuilderRow>
        <BuilderRow label.translate="Secondary Style">
            <BuilderSelect action="'customizeButtonStyle'" actionParam="'secondary'">
                <BuilderSelectItem actionValue="'fill'">Fill</BuilderSelectItem>
                <BuilderSelectItem actionValue="'outline'" id="'btn_secondary_outline_opt'">Outline</BuilderSelectItem>
                <BuilderSelectItem actionValue="'flat'">Flat</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
        <BuilderRow t-if="isActiveItem('btn_secondary_outline_opt')" level="1" label.translate="Border Width" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'btn-secondary-outline-border-width'" unit="'px'" saveUnit="'rem'"/>
        </BuilderRow>
        <BuilderRow label.translate="Font Family" action="'customizeWebsiteVariable'">
            <BuilderFontFamilyPicker actionParam="'buttons-font'" valueParamName="'actionValue'"/>
            <BuilderButton className="'fa fa-fw fa-remove o_we_hover_danger o_we_link'" title.translate="Reset to Paragraph Font Family" action="'removeFont'" actionParam="{ variable: 'buttons-font', tbd: 'set-buttons-font' }"/>
        </BuilderRow>
        <BuilderRow label.translate="Padding" action="'customizeWebsiteVariable'">
            <BuilderNumberInput title.translate="Y" actionParam="'btn-padding-y'" unit="'px'" saveUnit="'rem'"/>
            <BuilderNumberInput title.translate="X" actionParam="'btn-padding-x'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput title.translate="Y" actionParam="'btn-padding-y-sm'" unit="'px'" saveUnit="'rem'"/>
                    <BuilderNumberInput title.translate="X" actionParam="'btn-padding-x-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput title.translate="Y" actionParam="'btn-padding-y-lg'" unit="'px'" saveUnit="'rem'"/>
                    <BuilderNumberInput title.translate="X" actionParam="'btn-padding-x-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Font Size" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'btn-font-size'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput actionParam="'btn-font-size-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput actionParam="'btn-font-size-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Round Corners" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'btn-border-radius'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput actionParam="'btn-border-radius-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput actionParam="'btn-border-radius-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="On Click Effect">
            <BuilderSelect action="'websiteConfig'">

                <BuilderSelectItem actionParam="{vars: {'btn-ripple': 'false'}, assets: []}">None</BuilderSelectItem>
                <BuilderSelectItem actionParam="{vars: {'btn-ripple': 'true'}, assets: ['website.ripple_effect_scss', 'website.ripple_effect_js']}">Ripple</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeLinkOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeLinkOption" xml:space="preserve">
    <BuilderContext preview="false">
        <BuilderRow label.translate="Link Style">
            <BuilderSelect action="'customizeWebsiteVariable'" actionParam="'link-underline'">
                <BuilderSelectItem actionValue="'never'">No Underline</BuilderSelectItem>
                <BuilderSelectItem actionValue="'hover'">Underline On Hover</BuilderSelectItem>
                <BuilderSelectItem actionValue="'always'">Always Underline</BuilderSelectItem>
            </BuilderSelect>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.ThemeInputOption", `/website/static/src/builder/plugins/theme/theme_tab.xml`, `<t t-name="website.ThemeInputOption" xml:space="preserve">
    <BuilderContext preview="false">
                <BuilderRow label.translate="Padding" action="'customizeWebsiteVariable'">
            <BuilderNumberInput title.translate="Y" actionParam="'input-padding-y'" unit="'px'" saveUnit="'rem'"/>
            <BuilderNumberInput title.translate="X" actionParam="'input-padding-x'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput title.translate="Y" actionParam="'input-padding-y-sm'" unit="'px'" saveUnit="'rem'"/>
                    <BuilderNumberInput title.translate="X" actionParam="'input-padding-x-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput title.translate="Y" actionParam="'input-padding-y-lg'" unit="'px'" saveUnit="'rem'"/>
                    <BuilderNumberInput title.translate="X" actionParam="'input-padding-x-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Font Size" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'input-font-size'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput actionParam="'input-font-size-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput actionParam="'input-font-size-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Border Width" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'input-border-width'" unit="'px'" saveUnit="'rem'"/>
        </BuilderRow>
        <BuilderRow label.translate="Border Radius" action="'customizeWebsiteVariable'">
            <BuilderNumberInput actionParam="'input-border-radius'" unit="'px'" saveUnit="'rem'"/>
            <t t-set-slot="collapse">
                <BuilderRow label.translate="Small" level="1">
                    <BuilderNumberInput actionParam="'input-border-radius-sm'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
                <BuilderRow label.translate="Large" level="1">
                    <BuilderNumberInput actionParam="'input-border-radius-lg'" unit="'px'" saveUnit="'rem'"/>
                </BuilderRow>
            </t>
        </BuilderRow>
        <BuilderRow label.translate="Background">
            <BuilderColorPicker noTransparency="true" enabledTabs="['solid', 'custom']" action="'customizeWebsiteColor'" actionParam="'input'"/>
        </BuilderRow>
    </BuilderContext>
</t>

`);
registerTemplate("website.TimelineImagesOption", `/website/static/src/builder/plugins/timeline_images_option.xml`, `<t t-name="website.TimelineImagesOption" xml:space="preserve">
    <BuilderRow label.translate="Date">
        <BuilderButton action="'addItem'" actionParam="'.s_timeline_images_row'" actionValue="'beforebegin'" preview="false" className="'o_we_bg_brand_primary'">
            Add Date
        </BuilderButton>
    </BuilderRow>
</t>

`);
registerTemplate("website_builder.AttributeTranslateDialog", `/website/static/src/builder/translation_components/attributeTranslateDialog.xml`, `<t t-name="website_builder.AttributeTranslateDialog" xml:space="preserve">
    <WebsiteDialog close.bind="addStepAndClose" title.translate="Translate Attribute" showSecondaryButton="false">
        <div class="mb-3">
            <t t-foreach="Object.entries(translationInfos)" t-as="translationInfo" t-key="translationInfo_index">
                <t t-set="attributeName" t-value="translationInfo[0]"/>
                <t t-set="translation" t-value="translationInfo[1].translation"/>
                <label class="col-form-label" t-out="attributeName"/>
                <input class="form-control" t-att-value="translation" t-on-change="onInputChange"/>
            </t>
        </div>
    </WebsiteDialog>
</t>

`);
registerTemplate("website_builder.SelectTranslateDialog", `/website/static/src/builder/translation_components/selectTranslateDialog.xml`, `<t t-name="website_builder.SelectTranslateDialog" xml:space="preserve">
    <WebsiteDialog close.bind="addStepAndClose" title.translate="Translate Selection Option" showSecondaryButton="false">
        <input t-ref="input" type="text" class="form-control my-3" t-att-value="optionEl.textContent or ''" t-on-change="onInputChange"/>
    </WebsiteDialog>
</t>

`);
registerTemplate("website_builder.TranslatorInfoDialog", `/website/static/src/builder/translation_components/translatorInfoDialog.xml`, `<div t-name="website_builder.TranslatorInfoDialog" xml:space="preserve">
    <WebsiteDialog close="props.close" title="title" primaryTitle="strongOkButton" secondaryTitle="okButton" primaryClick="() =&gt; this.onStrongOkClick()">
        <p>You are about to enter the translation mode.</p>
        <p>Here are the visuals used to help you translate efficiently:</p>
        <ul class="oe_translate_examples">
            <li data-oe-translation-state="to_translate">Content to translate</li>
            <li data-oe-translation-state="translated">Translated content</li>
        </ul>
        <p>
            In this mode, you can only translate texts. To change the structure of the page, you must edit the master page.
            Each modification on the master page is automatically applied to all translated versions.
        </p>
    </WebsiteDialog>
</div>
`);
registerTemplate("website.WebsiteBuilder", `/website/static/src/builder/website_builder.xml`, `<t t-name="website.WebsiteBuilder" xml:space="preserve">
    <Builder t-props="builderProps"/>
</t>

`);
registerTemplate("website_hr_recruitment.JobsPageOption", `/website_hr_recruitment/static/src/website_builder/website_hr_recruitment_option.xml`, `<t t-name="website_hr_recruitment.JobsPageOption" xml:space="preserve">
        <BuilderContext action="'websiteConfig'">
            <BuilderRow label.translate="Countries Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_filter_by_countries']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Offices Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_filter_by_offices']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Industries Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_filter_by_industries']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Departments Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_filter_by_departments']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Employment Types Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_filter_by_employment_type']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Reset Filter">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_reset_filters']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Search Bar">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_search_bar']}"/>
            </BuilderRow>
            <BuilderRow label.translate="Sidebar">
                <BuilderCheckbox actionParam="{views: ['website_hr_recruitment.job_right_side_bar']}"/>
            </BuilderRow>

        </BuilderContext>
    </t>

`);
registerTemplateExtension("website.SearchbarOption", `/website_hr_recruitment/static/src/website_builder/website_hr_recruitment_searchbar_option.xml`, `<t t-inherit="website.SearchbarOption" t-inherit-mode="extension" xml:space="preserve">
    <xpath expr="//BuilderSelect[@id=&quot;'scope_opt'&quot;]" position="inside">
        <BuilderSelectItem dataAttributeActionValue="'jobs'" actionValue="'/jobs'" id="'search_jobs_opt'">
            Jobs
        </BuilderSelectItem>
    </xpath>
</t>

`);
registerTemplateExtension("website.s_website_form_form_option", `/website_studio/static/src/plugins/form_option.xml`, `<t t-inherit="website.s_website_form_form_option" t-inherit-mode="extension" xml:space="preserve">
    <xpath expr="//t[@t-foreach='this.state.models']" position="after">
        <BuilderSelectItem action="'studioMoreModels'">More models</BuilderSelectItem>
    </xpath>
    <xpath expr="//FormActionFieldsOption" position="after">
        <BuilderRow label.translate="Form Access" t-if="state.activeForm.isFormAccessEditable" tooltip.translate="Will be activated on save. Deactivate this if you do not want forms about this model.">
            <BuilderCheckbox id="'enable_website_form_access'" action="'studioToggleFormAccess'"/>
        </BuilderRow>
    </xpath>
</t>

`);
checkPrimaryTemplateParents(["html_editor.FontSizeSelector"]);
                    });
